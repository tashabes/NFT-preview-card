/*!
   JW Player version 8.18.2
   Copyright (c) 2020, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.18.2/notice.txt
*/
window.jwplayer=function(t){function e(e){for(var r,n,a=e[0],o=e[1],s=0,l=[];s<a.length;s++)n=a[s],i[n]&&l.push(i[n][0]),i[n]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);for(u&&u(e);l.length;)l.shift()()}function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var n={},i={0:0};r.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise(function(e,r){n=i[t]=[e,r]});e.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=55,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(t){return r.p+""+({1:"jwplayer.amp",2:"jwplayer.controls",3:"jwplayer.controls.tizen",4:"jwplayer.core",5:"jwplayer.core.controls",6:"jwplayer.core.controls.html5",7:"jwplayer.core.controls.polyfills",8:"jwplayer.core.controls.polyfills.html5",9:"polyfills.intersection-observer",10:"polyfills.webvtt",11:"provider.airplay",12:"provider.cast",13:"provider.flash",14:"provider.hlsjs",15:"provider.hlsjs-progressive",16:"provider.html5",17:"provider.shaka",18:"related",19:"vttparser"}[t]||t)+".js"}(t),o=function(e){s.onerror=s.onload=null,clearTimeout(u);var r=i[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+n+": "+a+")");o.type=n,o.request=a,r[1](o)}i[t]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:s})},55e3);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var a=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],o=a.push.bind(a);a.push=e,a=a.slice();for(var s=0;s<a.length;s++)e(a[s]);var u=o;return r(r.s=51)}([function(t,e,r){"use strict";r.d(e,"i",function(){return j}),r.d(e,"A",function(){return _}),r.d(e,"F",function(){return C}),r.d(e,"l",function(){return R}),r.d(e,"k",function(){return P}),r.d(e,"a",function(){return D}),r.d(e,"b",function(){return F}),r.d(e,"G",function(){return B}),r.d(e,"n",function(){return H}),r.d(e,"H",function(){return z}),r.d(e,"e",function(){return q}),r.d(e,"J",function(){return Y}),r.d(e,"m",function(){return X}),r.d(e,"h",function(){return Q}),r.d(e,"p",function(){return J}),r.d(e,"c",function(){return $}),r.d(e,"C",function(){return rt}),r.d(e,"I",function(){return at}),r.d(e,"q",function(){return ut}),r.d(e,"g",function(){return lt}),r.d(e,"j",function(){return ct}),r.d(e,"D",function(){return dt}),r.d(e,"w",function(){return ht}),r.d(e,"t",function(){return mt}),r.d(e,"v",function(){return bt}),r.d(e,"x",function(){return yt}),r.d(e,"s",function(){return wt}),r.d(e,"u",function(){return Tt}),r.d(e,"r",function(){return kt}),r.d(e,"y",function(){return jt}),r.d(e,"o",function(){return _t}),r.d(e,"d",function(){return St}),r.d(e,"E",function(){return Ot}),r.d(e,"B",function(){return Ct}),r.d(e,"z",function(){return xt});var n=r(18),i={},a=Array.prototype,o=Object.prototype,s=Function.prototype,u=a.slice,l=a.concat,c=o.toString,d=o.hasOwnProperty,f=a.map,h=a.reduce,p=a.forEach,g=a.filter,v=a.every,m=a.some,b=a.indexOf,y=Array.isArray,w=Object.keys,T=s.bind,k=window.isFinite,j=function(t,e,r){var n,a;if(null==t)return t;if(p&&t.forEach===p)t.forEach(e,r);else if(t.length===+t.length){for(n=0,a=t.length;n<a;n++)if(e.call(r,t[n],n,t)===i)return}else{var o=ot(t);for(n=0,a=o.length;n<a;n++)if(e.call(r,t[o[n]],o[n],t)===i)return}return t},E=j,_=function(t,e,r){var n=[];return null==t?n:f&&t.map===f?t.map(e,r):(j(t,function(t,i,a){n.push(e.call(r,t,i,a))}),n)},S=_,O="Reduce of empty array with no initial value",C=function(t,e,r,n){var i=arguments.length>2;if(null==t&&(t=[]),h&&t.reduce===h)return n&&(e=$(e,n)),i?t.reduce(e,r):t.reduce(e);if(j(t,function(t,a,o){i?r=e.call(n,r,t,a,o):(r=t,i=!0)}),!i)throw new TypeError(O);return r},A=C,x=C,R=function(t,e,r){var n;return F(t,function(t,i,a){if(e.call(r,t,i,a))return n=t,!0}),n},L=R,P=function(t,e,r){var n=[];return null==t?n:g&&t.filter===g?t.filter(e,r):(j(t,function(t,i,a){e.call(r,t,i,a)&&n.push(t)}),n)},I=P,D=function(t,e,r){e||(e=_t);var n=!0;return null==t?n:v&&t.every===v?t.every(e,r):(j(t,function(t,a,o){if(!(n=n&&e.call(r,t,a,o)))return i}),!!n)},M=D,F=function(t,e,r){e||(e=_t);var n=!1;return null==t?n:m&&t.some===m?t.some(e,r):(j(t,function(t,a,o){if(n||(n=e.call(r,t,a,o)))return i}),!!n)},N=F,B=function(t){return null==t?0:t.length===+t.length?t.length:ot(t).length},U=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},V=function(t){return null==t?_t:mt(t)?t:Ot(t)},G=function(t){return function(e,r,n){var i={};return r=V(r),j(e,function(a,o){var s=r.call(n,a,o,e);t(i,s,a)}),i}},H=G(function(t,e,r){Et(t,e)?t[e].push(r):t[e]=[r]}),K=G(function(t,e,r){t[e]=r}),z=function(t,e,r,n){for(var i=(r=V(r)).call(n,e),a=0,o=t.length;a<o;){var s=a+o>>>1;r.call(n,t[s])<i?a=s+1:o=s}return a},q=function(t,e){return null!=t&&(t.length!==+t.length&&(t=st(t)),J(t,e)>=0)},W=q,Y=function(t,e){return P(t,Ct(e))},X=function(t,e){return R(t,Ct(e))},Q=function(t){var e=l.apply(a,u.call(arguments,1));return P(t,function(t){return!q(e,t)})},J=function(t,e,r){if(null==t)return-1;var n=0,i=t.length;if(r){if("number"!=typeof r)return t[n=z(t,e)]===e?n:-1;n=r<0?Math.max(0,i+r):r}if(b&&t.indexOf===b)return t.indexOf(e,r);for(;n<i;n++)if(t[n]===e)return n;return-1},Z=function(){},$=function(t,e){var r,n;if(T&&t.bind===T)return T.apply(t,u.call(arguments,1));if(!mt(t))throw new TypeError;return r=u.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,r.concat(u.call(arguments)));Z.prototype=t.prototype;var i=new Z;Z.prototype=null;var a=t.apply(i,r.concat(u.call(arguments)));return Object(a)===a?a:i}},tt=function(t){var e=u.call(arguments,1);return function(){for(var r=0,n=e.slice(),i=0,a=n.length;i<a;i++)Et(n[i],"partial")&&(n[i]=arguments[r++]);for(;r<arguments.length;)n.push(arguments[r++]);return t.apply(this,n)}},et=tt(U,2),rt=function(t,e){var r={};return e||(e=_t),function(){var n=e.apply(this,arguments);return Et(r,n)?r[n]:r[n]=t.apply(this,arguments)}},nt=function(t,e){var r=u.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},it=tt(nt,{partial:tt},1),at=function(t,e,r){var n,i,a,o=null,s=0;r||(r={});var u=function(){s=!1===r.leading?0:At(),o=null,a=t.apply(n,i),n=i=null};return function(){s||!1!==r.leading||(s=At);var l=e-(At-s);return n=this,i=arguments,l<=0?(clearTimeout(o),o=null,s=At,a=t.apply(n,i),n=i=null):o||!1===r.trailing||(o=setTimeout(u,l)),a}},ot=function(t){if(!ht(t))return[];if(w)return w(t);var e=[];for(var r in t)Et(t,r)&&e.push(r);return e},st=function(t){for(var e=ot(t),r=ot.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},ut=function(t){for(var e={},r=ot(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},lt=function(t){return j(u.call(arguments,1),function(e){if(e)for(var r in e)void 0===t[r]&&(t[r]=e[r])}),t},ct=Object.assign||function(t){return j(u.call(arguments,1),function(e){if(e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}),t},dt=function(t){var e={},r=l.apply(a,u.call(arguments,1));return j(r,function(r){r in t&&(e[r]=t[r])}),e},ft=y||function(t){return"[object Array]"==c.call(t)},ht=function(t){return t===Object(t)},pt=[];j(["Function","String","Number","Date","RegExp"],function(t){pt[t]=function(e){return c.call(e)=="[object "+t+"]"}}),pt.Function=function(t){return"function"==typeof t};var gt=pt.Date,vt=pt.RegExp,mt=pt.Function,bt=pt.Number,yt=pt.String,wt=function(t){return k(t)&&!Tt(parseFloat(t))},Tt=function(t){return bt(t)&&t!=+t},kt=function(t){return!0===t||!1===t||"[object Boolean]"==c.call(t)},jt=function(t){return void 0===t},Et=function(t,e){return d.call(t,e)},_t=function(t){return t},St=function(t){return function(){return t}},Ot=function(t){return function(e){return e[t]}},Ct=function(t){return function(e){if(e===t)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0}},At=n.a,xt=function(t){return bt(t)&&!Tt(t)};e.f={after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},all:D,any:F,before:U,bind:$,clone:function(t){return ht(t)?ft(t)?t.slice():ct({},t):t},collect:S,compact:function(t){return P(t,_t)},constant:St,contains:q,debounce:function(t,e){var r;return void 0===e&&(e=100),function(){for(var n=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(r),r=setTimeout(function(){t.apply(n,a)},e)}},defaults:lt,defer:it,delay:nt,detect:L,difference:Q,each:j,every:M,extend:ct,filter:P,find:R,findWhere:X,foldl:A,forEach:E,groupBy:H,has:Et,identity:_t,include:W,indexBy:K,indexOf:J,inject:x,invert:ut,isArray:ft,isBoolean:kt,isDate:gt,isFinite:wt,isFunction:mt,isNaN:Tt,isNull:function(t){return null===t},isNumber:bt,isObject:ht,isRegExp:vt,isString:yt,isUndefined:jt,isValidNumber:xt,keys:ot,last:function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:u.call(t,Math.max(t.length-e,0))},map:_,matches:Ct,max:function(t,e,r){if(!e&&ft(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var n=-1/0,i=-1/0;return j(t,function(t,a,o){var s=e?e.call(r,t,a,o):t;s>i&&(n=t,i=s)}),n},memoize:rt,now:At,omit:function(t){var e={},r=l.apply(a,u.call(arguments,1));for(var n in t)q(r,n)||(e[n]=t[n]);return e},once:et,partial:tt,pick:dt,pluck:function(t,e){return _(t,Ot(e))},property:Ot,propertyOf:function(t){return null==t?function(){}:function(e){return t[e]}},reduce:C,reject:function(t,e,r){return P(t,function(t,n,i){return!e.call(r,t,n,i)},r)},result:function(t,e){if(null!=t){var r=t[e];return mt(r)?r.call(t):r}},select:I,size:B,some:N,sortedIndex:z,throttle:at,where:Y,without:function(t){return Q(t,u.call(arguments,1))}}},function(t,e,r){"use strict";function n(t,e,r){return r instanceof P&&r.code?r:new P(t,e,r)}function i(t,e){var r=n(L,e,t);return r.code=(t&&t instanceof P&&t.code||0)+e,r}function a(t){var e=t.name,r=t.message;switch(e){case"AbortError":return/pause/.test(r)?303213:/load/.test(r)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}}r.d(e,"A",function(){return s}),r.d(e,"z",function(){return u}),r.d(e,"y",function(){return l}),r.d(e,"v",function(){return c}),r.d(e,"w",function(){return d}),r.d(e,"u",function(){return f}),r.d(e,"b",function(){return h}),r.d(e,"d",function(){return p}),r.d(e,"x",function(){return g}),r.d(e,"e",function(){return v}),r.d(e,"i",function(){return m}),r.d(e,"a",function(){return b}),r.d(e,"f",function(){return y}),r.d(e,"l",function(){return w}),r.d(e,"j",function(){return T}),r.d(e,"k",function(){return k}),r.d(e,"c",function(){return j}),r.d(e,"g",function(){return E}),r.d(e,"h",function(){return _}),r.d(e,"p",function(){return S}),r.d(e,"m",function(){return O}),r.d(e,"n",function(){return C}),r.d(e,"o",function(){return A}),r.d(e,"q",function(){return x}),r.d(e,"r",function(){return R}),r.d(e,"s",function(){return L}),r.d(e,"t",function(){return P}),r.d(e,"C",function(){return n}),r.d(e,"B",function(){return i}),r.d(e,"D",function(){return a});var o=r(0),s=1e5,u=100001,l=100002,c=101e3,d=102e3,f=102700,h=200001,p=202e3,g=104e3,v=203e3,m=203640,b=203700,y=204e3,w=210001,T=21e4,k=214e3,j=306e3,E=308e3,_=308640,S="cantPlayVideo",O="badConnection",C="cantLoadPlayer",A="cantPlayInBrowser",x="liveStreamDown",R="protectedContent",L="technicalError",P=function(){function t(t,e,r){this.code=Object(o.z)(e)?e:0,this.sourceError=r||null,t&&(this.key=t)}return t.logMessage=function(t){var e=t%1e3,r=Math.floor((t-e)/1e3),n=t.toString();return e>=400&&e<600&&(n=r+"400-"+r+"599"),"JW Player "+(t>299999&&t<4e5?"Warning":"Error")+" "+t+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+n},t}()},function(t,e,r){"use strict";function n(t){return t.replace(/^\s+|\s+$/g,"")}function i(t,e,r){for(t=""+t,r=r||"0";t.length<e;)t=r+t;return t}function a(t,e){for(var r=t.attributes,n=0;n<r.length;n++)if(r[n].name&&r[n].name.toLowerCase()===e.toLowerCase())return r[n].value.toString();return""}function o(t){if(!t||"rtmp"===t.substr(0,4))return"";var e=/[(,]format=(m3u8|mpd)-/i.exec(t);return e?e[1]:(t=t.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?t.substr(t.lastIndexOf(".")+1,t.length).toLowerCase():""}function s(t){var e=(t/60|0)%60,r=t%60;return i((t/3600|0).toString(),2)+":"+i(e.toString(),2)+":"+i(r.toFixed(3),6)}function u(t,e){if(!t)return 0;if(Object(h.z)(t))return t;var r=t.replace(",","."),n=r.slice(-1),i=r.split(":"),a=i.length,o=0;if("s"===n)o=p(r);else if("m"===n)o=60*p(r);else if("h"===n)o=3600*p(r);else if(a>1){var s=a-1;4===a&&(e&&(o=p(i[s])/e),s-=1),o+=p(i[s]),o+=60*p(i[s-1]),a>=3&&(o+=3600*p(i[s-2]))}else o=p(r);return Object(h.z)(o)?o:0}function l(t,e,r){if(Object(h.x)(t)&&"%"===t.slice(-1)){var n=p(t);return e&&Object(h.z)(e)&&Object(h.z)(n)?e*n/100:null}return u(t,r)}function c(t,e){return t.map(function(t){return e+t})}function d(t,e){return t.map(function(t){return t+e})}function f(t){return!!t&&Object(h.x)(t)&&"%"===t.slice(-1)}r.d(e,"i",function(){return n}),r.d(e,"e",function(){return i}),r.d(e,"j",function(){return a}),r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s}),r.d(e,"g",function(){return u}),r.d(e,"d",function(){return l}),r.d(e,"f",function(){return c}),r.d(e,"h",function(){return d}),r.d(e,"c",function(){return f});var h=r(0),p=window.parseFloat},function(t,e,r){"use strict";r.d(e,"kb",function(){return n}),r.d(e,"nb",function(){return i}),r.d(e,"lb",function(){return a}),r.d(e,"pb",function(){return o}),r.d(e,"qb",function(){return s}),r.d(e,"mb",function(){return u}),r.d(e,"ob",function(){return l}),r.d(e,"rb",function(){return c}),r.d(e,"s",function(){return d}),r.d(e,"u",function(){return f}),r.d(e,"t",function(){return h}),r.d(e,"n",function(){return p}),r.d(e,"q",function(){return g}),r.d(e,"ub",function(){return v}),r.d(e,"r",function(){return m}),r.d(e,"Z",function(){return b}),r.d(e,"W",function(){return y}),r.d(e,"v",function(){return w}),r.d(e,"Y",function(){return T}),r.d(e,"w",function(){return k}),r.d(e,"wb",function(){return j}),r.d(e,"a",function(){return E}),r.d(e,"b",function(){return _}),r.d(e,"c",function(){return S}),r.d(e,"d",function(){return O}),r.d(e,"e",function(){return C}),r.d(e,"h",function(){return A}),r.d(e,"F",function(){return x}),r.d(e,"hb",function(){return R}),r.d(e,"Q",function(){return L}),r.d(e,"C",function(){return P}),r.d(e,"B",function(){return I}),r.d(e,"E",function(){return D}),r.d(e,"p",function(){return M}),r.d(e,"cb",function(){return F}),r.d(e,"m",function(){return N}),r.d(e,"G",function(){return B}),r.d(e,"H",function(){return U}),r.d(e,"N",function(){return V}),r.d(e,"O",function(){return G}),r.d(e,"R",function(){return H}),r.d(e,"jb",function(){return K}),r.d(e,"bb",function(){return z}),r.d(e,"D",function(){return q}),r.d(e,"S",function(){return W}),r.d(e,"P",function(){return Y}),r.d(e,"T",function(){return X}),r.d(e,"V",function(){return Q}),r.d(e,"M",function(){return J}),r.d(e,"L",function(){return Z}),r.d(e,"K",function(){return $}),r.d(e,"I",function(){return tt}),r.d(e,"J",function(){return et}),r.d(e,"U",function(){return rt}),r.d(e,"o",function(){return nt}),r.d(e,"y",function(){return it}),r.d(e,"ib",function(){return at}),r.d(e,"db",function(){return ot}),r.d(e,"eb",function(){return st}),r.d(e,"f",function(){return ut}),r.d(e,"g",function(){return lt}),r.d(e,"sb",function(){return ct}),r.d(e,"tb",function(){return dt}),r.d(e,"ab",function(){return ft}),r.d(e,"A",function(){return ht}),r.d(e,"l",function(){return pt}),r.d(e,"k",function(){return gt}),r.d(e,"fb",function(){return vt}),r.d(e,"gb",function(){return mt}),r.d(e,"vb",function(){return bt}),r.d(e,"z",function(){return yt}),r.d(e,"j",function(){return wt}),r.d(e,"X",function(){return Tt}),r.d(e,"i",function(){return kt}),r.d(e,"x",function(){return jt});var n="buffering",i="idle",a="complete",o="paused",s="playing",u="error",l="loading",c="stalled",d="drag",f="dragStart",h="dragEnd",p="click",g="doubleClick",v="tap",m="doubleTap",b="over",y="move",w="enter",T="out",k=u,j="warning",E="adClick",_="adPause",S="adPlay",O="adSkipped",C="adTime",A="autostartNotAllowed",x=a,R="ready",L="seek",P="beforePlay",I="beforeComplete",D="bufferFull",M="displayClick",F="playlistComplete",N="cast",B="mediaError",U="firstFrame",V="playAttempt",G="playAttemptFailed",H="seeked",K="setupError",z="state",q="bufferChange",W="time",Y="ratechange",X="mediaType",Q="volume",J="mute",Z="metadataCueParsed",$="meta",tt="levels",et="levelsChanged",rt="visualQuality",nt="controls",it="fullscreen",at="resize",ot="playlistItem",st="playlist",ut="audioTracks",lt="audioTrackChanged",ct="subtitlesTracks",dt="subtitlesTrackChanged",ft="playbackRateChanged",ht="logoClick",pt="captionsList",gt="captionsChanged",vt="providerChanged",mt="providerFirstFrame",bt="userAction",yt="instreamClick",wt="breakpoint",Tt="fullscreenchange",kt="bandwidthEstimate",jt="float"},function(t,e,r){"use strict";function n(t,e){var r;return t&&t.length>e&&(r=t[e]),r}r.r(e);var i=r(7),a=r(0);r.d(e,"Browser",function(){return u}),r.d(e,"OS",function(){return l}),r.d(e,"Features",function(){return c});var o=navigator.userAgent,s=function(){},u={},l={},c={};Object.defineProperties(u,{androidNative:{get:Object(a.C)(i.c),enumerable:!0},chrome:{get:Object(a.C)(i.d),enumerable:!0},edge:{get:Object(a.C)(i.e),enumerable:!0},facebook:{get:Object(a.C)(i.g),enumerable:!0},firefox:{get:Object(a.C)(i.f),enumerable:!0},ie:{get:Object(a.C)(i.i),enumerable:!0},msie:{get:Object(a.C)(i.n),enumerable:!0},safari:{get:Object(a.C)(i.q),enumerable:!0},version:{get:Object(a.C)(function(t,e){var r,n,i,a;return t.chrome?r=-1!==e.indexOf("Chrome")?e.substring(e.indexOf("Chrome")+7):e.substring(e.indexOf("CriOS")+6):t.safari?r=e.substring(e.indexOf("Version")+8):t.firefox?r=e.substring(e.indexOf("Firefox")+8):t.edge?r=e.substring(e.indexOf("Edge")+5):t.ie&&(-1!==e.indexOf("rv:")?r=e.substring(e.indexOf("rv:")+3):-1!==e.indexOf("MSIE")&&(r=e.substring(e.indexOf("MSIE")+5))),r&&(-1!==(a=r.indexOf(";"))&&(r=r.substring(0,a)),-1!==(a=r.indexOf(" "))&&(r=r.substring(0,a)),-1!==(a=r.indexOf(")"))&&(r=r.substring(0,a)),n=parseInt(r,10),i=parseInt(r.split(".")[1],10)),{version:r,major:n,minor:i}}.bind(void 0,u,o)),enumerable:!0}}),Object.defineProperties(l,{android:{get:Object(a.C)(i.b),enumerable:!0},iOS:{get:Object(a.C)(i.j),enumerable:!0},mobile:{get:Object(a.C)(i.o),enumerable:!0},mac:{get:Object(a.C)(i.p),enumerable:!0},iPad:{get:Object(a.C)(i.k),enumerable:!0},iPhone:{get:Object(a.C)(i.l),enumerable:!0},windows:{get:Object(a.C)(function(){return o.indexOf("Windows")>-1}),enumerable:!0},tizen:{get:Object(a.C)(i.r),enumerable:!0},tizenApp:{get:Object(a.C)(i.s),enumerable:!0},version:{get:Object(a.C)(function(t,e){var r,i,a;if(t.windows)switch(r=n(/Windows(?: NT|)? ([._\d]+)/.exec(e),1)){case"6.1":r="7.0";break;case"6.2":r="8.0";break;case"6.3":r="8.1"}else t.android?r=n(/Android ([._\d]+)/.exec(e),1):t.iOS?r=n(/OS ([._\d]+)/.exec(e),1):t.mac?r=n(/Mac OS X (10[._\d]+)/.exec(e),1):t.tizen&&(r=n(/Tizen ([._\d]+)/.exec(e),1));if(r){i=parseInt(r,10);var o=r.split(/[._]/);o&&(a=parseInt(o[1],10))}return{version:r,major:i,minor:a}}.bind(void 0,l,o)),enumerable:!0}}),Object.defineProperties(c,{flash:{get:Object(a.C)(i.h),enumerable:!0},flashVersion:{get:Object(a.C)(i.a),enumerable:!0},iframe:{get:Object(a.C)(i.m),enumerable:!0},passiveEvents:{get:Object(a.C)(function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0}});window.addEventListener("testPassive",s,e),window.removeEventListener("testPassive",s,e)}catch(t){}return t}),enumerable:!0},backgroundLoading:{get:Object(a.C)(function(){return!(l.iOS||u.safari||l.tizen)}),enumerable:!0}})},function(t,e,r){"use strict";function n(t){var e="";return t&&(t.localName?e=t.localName:t.baseName&&(e=t.baseName)),e}function i(t){var e="";return t&&(t.textContent?e=Object(s.i)(t.textContent):t.text&&(e=Object(s.i)(t.text))),e}function a(t,e){return t.childNodes[e]}function o(t){return t.childNodes?t.childNodes.length:0}r.d(e,"b",function(){return n}),r.d(e,"d",function(){return i}),r.d(e,"a",function(){return a}),r.d(e,"c",function(){return o});var s=r(2)},function(t,e,r){"use strict";function n(t,e){return function(){throw new o.t(o.n,t,e)}}function i(t,e){return function(){throw new o.t(null,t,e)}}function a(){return r.e(4).then(function(){return r(71)["default"]}.bind(null,r))["catch"](n(o.v+101))}r.d(e,"a",function(){return s}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return i}),r.d(e,"d",function(){return a});var o=r(1),s={}},function(t,e,r){"use strict";function n(t){return null!==y.match(t)}function i(t){return function(){return n(t)}}function a(){var t=b();return!!(t&&t>=18)}function o(){return n(/\sEdge\/\d+/i)}function s(){return n(/msie/i)}function u(){return n(/SMART-TV/)}function l(){return u()&&!n(/SamsungBrowser/)}function c(){return n(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!o()&&!n(/UCBrowser/i)&&!u()}function d(){return o()||k()||s()}function f(){return n(/safari/i)&&!n(/(?:Chrome|CriOS|chromium|android|phantom)/i)||u()}function h(){return n(/iP(hone|ad|od)/i)||w()}function p(){return!(n(/chrome\/[123456789]/i)&&!n(/chrome\/18/i)&&!T())&&g()}function g(){return n(/Android/i)&&!n(/Windows Phone/i)}function v(){return h()||g()||n(/Windows Phone/i)}function m(){try{return window.self!==window.top}catch(t){return!0}}function b(){if(g())return 0;var t,e=navigator.plugins;if(e&&(t=e.namedItem("Shockwave Flash"))&&t.description)return parseFloat(t.description.replace(/\D+(\d+\.?\d*).*/,"$1"));if(void 0!==window.ActiveXObject){try{if(t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseFloat(t.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."))}catch(t){return 0}return t}return 0}r.d(e,"h",function(){return a}),r.d(e,"f",function(){return T}),r.d(e,"l",function(){return j}),r.d(e,"k",function(){return E}),r.d(e,"p",function(){return _}),r.d(e,"g",function(){return S}),r.d(e,"e",function(){return o}),r.d(e,"n",function(){return s}),r.d(e,"r",function(){return u}),r.d(e,"s",function(){return l}),r.d(e,"d",function(){return c}),r.d(e,"i",function(){return d}),r.d(e,"q",function(){return f}),r.d(e,"j",function(){return h}),r.d(e,"c",function(){return p}),r.d(e,"b",function(){return g}),r.d(e,"o",function(){return v}),r.d(e,"m",function(){return m}),r.d(e,"a",function(){return b});var y=navigator.userAgent,w=function(){return"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},T=i(/gecko\//i),k=i(/trident\/.+rv:\s*11/i),j=i(/iP(hone|od)/i),E=function(){return n(/iPad/i)||w()},_=function(){return n(/Macintosh/i)&&!w()},S=i(/FBAV/i)},function(t,e,r){"use strict";function n(t,e){return t.classList.contains(e)}function i(t){return o(t).firstChild}function a(t,e){b(t),function(t,e){if(e){for(var r=document.createDocumentFragment(),n=o(e).childNodes,i=0;i<n.length;i++)r.appendChild(n[i].cloneNode(!0));t.appendChild(r)}}(t,e)}function o(t){var e=function(t){if(O||(O=new R,L=function(){try{if(O.parseFromString("","text/html"))return!0}catch(t){}return!1}()),L)return O.parseFromString(t,"text/html").body;var e=document.implementation.createHTMLDocument("");return t.toLowerCase().indexOf("<!doctype")>-1?e.documentElement.innerHTML=t:e.body.innerHTML=t,e.body}(t);s(e);for(var r=e.querySelectorAll("*"),n=r.length;n--;)u(r[n]);return e}function s(t){for(var e=t.querySelectorAll("script,object,iframe,meta"),r=e.length;r--;){var n=e[r];n.parentNode.removeChild(n)}return t}function u(t){for(var e=t.attributes,r=e.length;r--;){var n=e[r].name;if(/^on/.test(n)&&t.removeAttribute(n),/href/.test(n)){var i=e[r].value;/javascript:|javascript&colon;/.test(i)&&t.removeAttribute(n)}}return t}function l(t){return t+(t.toString().indexOf("%")>0?"":"px")}function c(t){return Object(C.x)(t.className)?t.className.split(" "):[]}function d(t,e){e=Object(A.i)(e),t.className!==e&&(t.className=e)}function f(t){return t.classList?t.classList:c(t)}function h(t,e){var r=c(t);(Array.isArray(e)?e:e.split(" ")).forEach(function(t){Object(C.e)(r,t)||r.push(t)}),d(t,r.join(" "))}function p(t,e){var r=c(t),n=Array.isArray(e)?e:e.split(" ");d(t,Object(C.h)(r,n).join(" "))}function g(t,e,r){var n=t.className||"";e.test(n)?n=n.replace(e,r):r&&(n+=" "+r),d(t,n)}function v(t,e,r){var i=n(t,e);(r=Object(C.r)(r)?r:!i)!==i&&(r?h(t,e):p(t,e))}function m(t,e,r){t.setAttribute(e,r)}function b(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function y(t){var e=document.createElement("link");e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}function w(t){t&&b(t)}function T(t){var e={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!t||!document.body.contains(t))return e;var r=t.getBoundingClientRect(),n=window.pageYOffset,i=window.pageXOffset;return r.width||r.height||r.left||r.top?(e.left=r.left+i,e.right=r.right+i,e.top=r.top+n,e.bottom=r.bottom+n,e.width=r.right-r.left,e.height=r.bottom-r.top,e):e}function k(t,e){t.insertBefore(e,t.firstChild)}function j(t){return t.nextElementSibling}function E(t){return t.previousElementSibling}function _(t,e,r){void 0===r&&(r={});var n=document.createElement("a");n.href=t,n.target=e,n=Object(C.j)(n,r),x.Browser.firefox?n.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):n.click()}function S(){var t=window.screen.orientation;return!!t&&("landscape-primary"===t.type||"landscape-secondary"===t.type)||90===window.orientation||-90===window.orientation}r.d(e,"i",function(){return n}),r.d(e,"e",function(){return i}),r.d(e,"q",function(){return a}),r.d(e,"j",function(){return o}),r.d(e,"s",function(){return s}),r.d(e,"r",function(){return u}),r.d(e,"u",function(){return l}),r.d(e,"d",function(){return f}),r.d(e,"a",function(){return h}),r.d(e,"o",function(){return p}),r.d(e,"p",function(){return g}),r.d(e,"v",function(){return v}),r.d(e,"t",function(){return m}),r.d(e,"h",function(){return b}),r.d(e,"b",function(){return y}),r.d(e,"g",function(){return w}),r.d(e,"c",function(){return T}),r.d(e,"m",function(){return k}),r.d(e,"k",function(){return j}),r.d(e,"n",function(){return E}),r.d(e,"l",function(){return _}),r.d(e,"f",function(){return S});var O,C=r(0),A=r(2),x=r(4),R=window.DOMParser,L=!0},function(t,e,r){"use strict";function n(t,e,r,n){if(!r)return!0;if("object"==typeof r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t[e].apply(t,[i,r[i]].concat(n));return!1}if(d.test(r)){for(var a=r.split(d),o=0,s=a.length;o<s;o++)t[e].apply(t,[a[o]].concat(n));return!1}return!0}function i(t,e,r,n){for(var i=-1,a=t.length;++i<a;){var o=t[i];if(n)try{o.callback.apply(o.context||r,e)}catch(t){console.log('Error in "'+n+'" event handler:',t)}else o.callback.apply(o.context||r,e)}}r.d(e,"a",function(){return a}),r.d(e,"c",function(){return o}),r.d(e,"d",function(){return s}),r.d(e,"b",function(){return u}),r.d(e,"e",function(){return l}),r.d(e,"f",function(){return c});var a=function(){function t(){}var e=t.prototype;return e.on=function(t,e,r){if(!n(this,"on",t,[e,r])||!e)return this;var i=this._events||(this._events={});return(i[t]||(i[t]=[])).push({callback:e,context:r}),this},e.once=function(t,e,r){if(!n(this,"once",t,[e,r])||!e)return this;var i=0,a=this,o=function s(){i++||(a.off(t,s),e.apply(this,arguments))};return o._callback=e,this.on(t,o,r)},e.off=function(t,e,r){if(!this._events||!n(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return delete this._events,this;for(var i=t?[t]:Object.keys(this._events),a=0,o=i.length;a<o;a++){t=i[a];var s=this._events[t];if(s){var u=this._events[t]=[];if(e||r)for(var l=0,c=s.length;l<c;l++){var d=s[l];(e&&e!==d.callback&&e!==d.callback._callback||r&&r!==d.context)&&u.push(d)}u.length||delete this._events[t]}}return this},e.trigger=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];if(!this._events)return this;if(!n(this,"trigger",t,r))return this;var o=this._events[t],s=this._events.all;return o&&i(o,r,this),s&&i(s,arguments,this),this},e.triggerSafe=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];if(!this._events)return this;if(!n(this,"trigger",t,r))return this;var o=this._events[t],s=this._events.all;return o&&i(o,r,this,t),s&&i(s,arguments,this,t),this},t}(),o=a.prototype.on,s=a.prototype.once,u=a.prototype.off,l=a.prototype.trigger,c=a.prototype.triggerSafe;a.on=o,a.once=s,a.off=u,a.trigger=l;var d=/\s+/},function(t,e,r){"use strict";function n(t){switch(typeof t){case"string":return t.length>0;case"object":return null!==t;case"undefined":return!1;default:return!0}}function i(){return"https:"===c}function a(){return"file:"===c}function o(t,e){return 0===t.indexOf("rtmp:")||"rtmp"===e}function s(t,e){return"youtube"===e||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(t)}function u(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.isArray(t)?"array":e}function l(t,e,r){var n=Object.keys(t);return Object.keys(e).length>=n.length&&n.every(function(n){var i=t[n],a=e[n];return i&&"object"==typeof i?!(!a||"object"!=typeof a)&&l(i,a,r):r(n,t)})}r.r(e),r.d(e,"exists",function(){return n}),r.d(e,"isHTTPS",function(){return i}),r.d(e,"isFileProtocol",function(){return a}),r.d(e,"isRtmp",function(){return o}),r.d(e,"isYouTube",function(){return s}),r.d(e,"typeOf",function(){return u}),r.d(e,"isDeepKeyCompliant",function(){return l});var c=window.location.protocol},function(t,e,r){"use strict";function n(t,e,r,n){r=r||"all-players";var a="";if("object"==typeof e){var o=document.createElement("div");i(o,e);var s=o.style.cssText;Object.prototype.hasOwnProperty.call(e,"content")&&s&&(s=s+' content: "'+e.content+'";'),n&&s&&(s=s.replace(/;/g," !important;")),a="{"+s+"}"}else"string"==typeof e&&(a=e);""!==a&&"{}"!==a?f.a.style([[t,t+a]],r):f.a.clear(r,t)}function i(t,e){if(null!=t){var r;void 0===t.length&&(t=[t]);var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=o(r,e[r]));for(var i=0;i<t.length;i++){var s=t[i],u=void 0;if(null!=s)for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u=a(r),s.style[u]!==n[r]&&(s.style[u]=n[r]))}}}function a(t){t=t.split("-");for(var e=1;e<t.length;e++)t[e]=t[e].charAt(0).toUpperCase()+t[e].slice(1);return t.join("")}function o(t,e){return""===e||null==e?"":"string"==typeof e&&isNaN(e)?/png|gif|jpe?g/i.test(e)&&e.indexOf("url")<0?"url("+e+")":e:0===e||"z-index"===t||"opacity"===t?""+e:/color/i.test(t)?"#"+Object(c.e)(e.toString(16).replace(/^0x/i,""),6):Math.ceil(e)+"px"}function s(t,e){i(t,{transform:e,webkitTransform:e,msTransform:e,mozTransform:e,oTransform:e})}function u(t,e){var r="rgb",n=void 0!==e&&100!==e;if(n&&(r+="a"),!l){var i=document.createElement("canvas");i.height=1,i.width=1,l=i.getContext("2d")}t?isNaN(parseInt(t,16))||(t="#"+t):t="#000000",l.clearRect(0,0,1,1),l.fillStyle=t,l.fillRect(0,0,1,1);var a=l.getImageData(0,0,1,1).data;return r+="("+a[0]+", "+a[1]+", "+a[2],n&&(r+=", "+e/100),r+")"}r.d(e,"a",function(){return h}),r.d(e,"b",function(){return n}),r.d(e,"d",function(){return i}),r.d(e,"e",function(){return s}),r.d(e,"c",function(){return u});var l,c=r(2),d=r(40),f=r.n(d),h=f.a.clear},function(t,e,r){"use strict";function n(t,e){if(e&&Object(l.exists)(e)||(e=document.location.href),!Object(l.exists)(t))return"";if(i(t))return t;var r,n=e.substring(0,e.indexOf("://")+3),a=e.substring(n.length,e.indexOf("/",n.length+1));if(0===t.indexOf("/"))r=t.split("/");else{var o=e.split("?")[0];r=(o=o.substring(n.length+a.length+1,o.lastIndexOf("/"))).split("/").concat(t.split("/"))}for(var s=[],u=0;u<r.length;u++)r[u]&&Object(l.exists)(r[u])&&"."!==r[u]&&(".."===r[u]?s.pop():s.push(r[u]));return n+a+"/"+s.join("/")}function i(t){return/^(?:(?:https?|file):)?\/\//.test(t)}function a(t){var e=null;try{(e=(new window.DOMParser).parseFromString(t,"text/xml")).querySelector("parsererror")&&(e=null)}catch(t){}return e}function o(t){if(void 0===t)return null;if("string"==typeof t&&t.length<6){var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1
;if(!Object(c.u)(Number(t))&&!Object(c.u)(parseFloat(t)))return Number(t)}return t}function s(t){return Object(c.z)(t)?t:""===t?0:t.lastIndexOf("%")>-1?t:parseInt(t.replace("px",""),10)}function u(t,e){if(Object(c.u)(t)&&(t=parseInt(t.toString())),Object(c.u)(t)||!isFinite(t)||t<=0&&!e)return"00:00";var r=t<0?"-":"";t=Math.abs(t);var n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60),a=Math.floor(t%60);return r+(n?n+":":"")+(i<10?"0":"")+i+":"+(a<10?"0":"")+a}r.r(e),r.d(e,"getAbsolutePath",function(){return n}),r.d(e,"isAbsolutePath",function(){return i}),r.d(e,"parseXML",function(){return a}),r.d(e,"serialize",function(){return o}),r.d(e,"parseDimension",function(){return s}),r.d(e,"timeFormat",function(){return u});var l=r(10),c=r(0)},function(t,e,r){"use strict";function n(t){var e=t.getName().name;if(!i.a[e]){if(!Object(s.l)(a.a,Object(s.B)({name:e}))){if(!Object(s.t)(t.supports))throw new Error("Tried to register a provider with an invalid object");a.a.unshift({name:e,supports:t.supports})}Object(s.g)(t.prototype,o.a),i.a[e]=t}}r.d(e,"a",function(){return n});var i=r(32),a=r(17),o=r(57),s=r(0);r(9)},function(t,e,r){"use strict";function n(t){var e=i(t),r=e.indexOf("_");return-1===r?e:e.substring(0,r)}function i(t){return t.toLowerCase().replace("-","_")}function a(t){return t?Object.keys(t).reduce(function(e,r){return e[i(r)]=t[r],e},{}):{}}function o(t){if(t)return 3===t.length?t:E[n(t)]||t}function s(t){return _[t]||""}function u(t){var e=t.querySelector("html");return e?e.getAttribute("lang"):null}function l(){var t=u(document);if(!t&&Object(y.m)())try{t=u(window.top.document)}catch(t){}return t||navigator.language||"en"}function c(t){return 8207===t.charCodeAt(0)||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(t)}function d(t){return S.indexOf(n(t))>=0}function f(t,e,r){return Object(b.j)({},function(t){var e=t.advertising,r=t.related,n=t.sharing,i=t.abouttext,a=Object(b.j)({},t.localization);e&&(a.advertising=a.advertising||{},h(a.advertising,e,"admessage"),h(a.advertising,e,"cuetext"),h(a.advertising,e,"loadingAd"),h(a.advertising,e,"podmessage"),h(a.advertising,e,"skipmessage"),h(a.advertising,e,"skiptext")),"string"==typeof a.related?a.related={heading:a.related}:a.related=a.related||{},r&&h(a.related,r,"autoplaymessage"),n&&(a.sharing=a.sharing||{},h(a.sharing,n,"heading"),h(a.sharing,n,"copied")),i&&h(a,t,"abouttext");var o=a.close||a.nextUpClose;return o&&(a.close=o),a}(t),e[n(r)],e[i(r)])}function h(t,e,r){var n=t[r]||e[r];n&&(t[r]=n)}function p(t){return Object(T.isDeepKeyCompliant)(k.a,t,function(t,e){return"string"==typeof e[t]})}function g(t,e){var r=j[e];if(!r){var i=t+"translations/"+n(e)+".json";j[e]=r=new Promise(function(t,r){Object(w.b)({url:i,oncomplete:t,onerror:function(t,n,i,a){j[e]=null,r(a)},responseType:"json"})})}return r}function v(t,e){var r=Object(b.j)({},t,e);return m(r,"errors",t,e),m(r,"related",t,e),m(r,"sharing",t,e),m(r,"advertising",t,e),m(r,"shortcuts",t,e),m(r,"captionsStyles",t,e),r}function m(t,e,r,n){t[e]=Object(b.j)({},r[e],n[e])}r.d(e,"j",function(){return a}),r.d(e,"d",function(){return o}),r.d(e,"b",function(){return s}),r.d(e,"e",function(){return l}),r.d(e,"g",function(){return c}),r.d(e,"h",function(){return d}),r.d(e,"c",function(){return f}),r.d(e,"f",function(){return p}),r.d(e,"i",function(){return g}),r.d(e,"a",function(){return v});var b=r(0),y=r(7),w=r(27),T=r(10),k=r(39),j={},E={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"},_=Object(b.q)(E),S=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nl","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"]},function(t,e){"use strict";e.a=[]},function(t,e){"use strict";e.a={debug:!1}},function(t,e,r){"use strict";function n(t){var e=window.MediaSource;return Object(u.a)(t,function(t){return!!e&&!!e.isTypeSupported&&e.isTypeSupported(t)})}function i(t){if(t.drm)return!1;var e=t.file.indexOf(".m3u8")>-1,r="hls"===t.type||"m3u8"===t.type;if(!e&&!r)return!1;var i=o.Browser.chrome||o.Browser.firefox||o.Browser.edge||o.Browser.ie&&11===o.Browser.version.major||o.OS.tizen,a=o.OS.android&&!1===t.hlsjsdefault,s=o.Browser.safari&&!!t.safarihlsjs;return n(t.mediaTypes||['video/mp4;codecs="avc1.4d400d,mp4a.40.2"'])&&(i||s)&&!a}r.d(e,"a",function(){return h});var a=r(26),o=r(4),s=r(21),u=r(0),l=r(10),c=r(36),d=Object(u.l)(a.a,Object(u.B)({name:"html5"})),f=d.supports;d.supports=function(t,e){var r=f.apply(this,arguments);if(r&&t.drm&&"hls"===t.type){var n=Object(s.a)(e)("drm");if(n&&t.drm.fairplay){var i=window.WebKitMediaKeys;return i&&i.isTypeSupported&&i.isTypeSupported("com.apple.fps.1_0","video/mp4")}return n}return r},a.a.push({name:"shaka",supports:function(t){return!(t.drm&&!Object(c.a)(t.drm))&&!(!window.HTMLVideoElement||!window.MediaSource)&&n(t.mediaTypes)&&("dash"===t.type||"mpd"===t.type||(t.file||"").indexOf("mpd-time-csf")>-1)}}),a.a.unshift({name:"hlsjs",supports:function(t){return i(t)}}),a.a.unshift({name:"hlsjsProgressive",supports:function(t){return t._hlsjsProgressive&&i(t)}}),a.a.push({name:"flash",supports:function(t){if(!o.Features.flash||t.drm)return!1;var e=t.type;return"hls"===e||"m3u8"===e||!Object(l.isRtmp)(t.file,e)&&["flv","f4v","mov","m4a","m4v","mp4","aac","f4a","mp3","mpeg","smil"].indexOf(e)>-1}});var h=a.a},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=Date.now||function(){return(new Date).getTime()}},function(t,e,r){"use strict";r.r(e),r.d(e,"getScriptPath",function(){return a}),r.d(e,"repo",function(){return o}),r.d(e,"versionCheck",function(){return s}),r.d(e,"loadFrom",function(){return u});var n=r(29),i=r(10),a=function(t){for(var e=document.getElementsByTagName("script"),r=0;r<e.length;r++){var n=e[r].src;if(n){var i=n.lastIndexOf("/"+t);if(i>=0)return n.substr(0,i+1)}}return""},o=function(){var t="//ssl.p.jwpcdn.com/player/v/8.18.2/";return(Object(i.isFileProtocol)()?"https:":"")+t},s=function(t){var e=("0"+t).split(/\W/),r=n.a.split(/\W/),i=parseFloat(e[0]),a=parseFloat(r[0]);return!(i>a||i===a&&parseFloat("0"+e[1])>parseFloat(r[1]))},u=function(){return o()}},function(t,e,r){"use strict";function n(t){var e=Object(i.b)(t);if(!t)return e;switch(Object(i.c)(t)){case"jwpsrv":e=305001;break;case"googima":e=305002;break;case"vast":e=305003;break;case"freewheel":e=305004;break;case"dai":e=305005;break;case"gapro":e=305006;break;case"bidding":e=305007}return e}r.d(e,"a",function(){return a}),r.d(e,"c",function(){return o}),r.d(e,"b",function(){return n});var i=r(37),a=i.a,o=i.c},function(t,e,r){"use strict";function n(t){var e={setup:["free","starter","business","premium","enterprise","developer","ads","unlimited","trial","platinum"],drm:["enterprise","developer","ads","unlimited","trial"],ads:["ads","unlimited","trial","platinum","enterprise","developer","business"],jwpsrv:["free","starter","business","premium","enterprise","developer","ads","trial","platinum","invalid"],discovery:["ads","enterprise","developer","trial","unlimited"]};return function(r){return e[r]&&e[r].indexOf(t)>-1}}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";function n(t,e){return h[t]?t:h[e]?e:"metadata"}function i(t,e,r){var n=Object(f.j)({},r);return delete n.playlist,t.map(function(t){return o(e,t,n)}).filter(function(t){return!!t})}function a(t){if(!Array.isArray(t)||0===t.length)throw new m.t(m.p,630)}function o(t,e,r){var i=t.getProviders(),a=t.get("preload"),o=Object(f.j)({},e);if(o.preload=n(e.preload,a),o.allSources=u(o,t),o.sources=l(o.allSources,i),o.sources.length)return o.file=o.sources[0].file,o.feedData=r,function(t){var e=t.sources[0].liveSyncDuration;return t.dvrSeekLimit=t.liveSyncDuration=e,t}(o)}function s(t,e){var r=(parseInt(t,10)||0)%e;return r<0&&(r+=e),r}function u(t,e){var r=e.attributes,i=t.sources,a=t.allSources,o=t.preload,s=t.drm,u=c(t.withCredentials,r.withCredentials);return(a||i).map(function(e){if(e!==Object(e))return null;d(e,r,"androidhls"),d(e,r,"hlsjsdefault"),d(e,r,"safarihlsjs"),function(t,e,r){t.liveSyncDuration||d(t,e.liveSyncDuration?e:r,"liveSyncDuration")}(e,t,r),d(e,r,"_hlsjsProgressive"),e.preload=n(e.preload,o);var i=e.drm||s||r.drm;i&&(e.drm=i);var a=c(e.withCredentials,u);return void 0!==a&&(e.withCredentials=a),Object(g.a)(e)}).filter(function(t){return!!t})}function l(t,e){e&&e.choose||(e=new v.a);var r=function(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=e.choose(n).providerToCheck;if(i)return{type:n.type,provider:i}}return null}(t,e);if(!r)return[];var n=r.provider,i=r.type;return t.filter(function(t){return t.type===i&&e.providerSupports(n,t)})}function c(t,e){return void 0===t?e:t}function d(t,e,r){r in e&&(t[r]=e[r])}var f=r(0),h={none:!0,metadata:!0,auto:!0},p=r(28),g=r(33),v=r(41),m=r(1);r.d(e,"b",function(){return i}),r.d(e,"e",function(){return a}),r.d(e,"d",function(){return o}),r.d(e,"f",function(){return s}),r.d(e,"c",function(){return b});var b=function(t,e){return l(u(t,e),e.getProviders())};e.a=function(t){return(Array.isArray(t)?t:[t]).map(p.a)}},function(t,e,r){"use strict";function n(t){var e=document.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,e}function i(t,e){var r=document.createElement("script");return r.type="text/javascript",r.charset="utf-8",r.async=!0,r.timeout=e||45e3,r.src=t,r}var a=r(0),o=r(9),s=r(3),u={},l=function(t,e,r){function a(t){c=2,l.trigger(s.w,t).off()}function o(t){c=3,l.trigger(s.lb,t).off()}var l=this,c=0;this.getStatus=function(){return c},this.load=function(){var s=u[t];return 0!==c||(s&&s.then(o)["catch"](a),c=1,s=new Promise(function(s,u){var l=(e?n:i)(t,r),c=function(){l.onerror=l.onload=null,clearTimeout(f)},d=function(t){c(),a(t),u(t)},f=setTimeout(function(){d(new Error("Network timeout "+t))},45e3);l.onerror=function(){d(new Error("Failed to load "+t))},l.onload=function(t){c(),o(t),s(t)};var h=document.getElementsByTagName("head")[0]||document.documentElement;h.insertBefore(l,h.firstChild)}),u[t]=s),s}};Object(a.j)(l.prototype,o.a),e.a=l},function(t,e,r){"use strict";function n(t,e){var r=t.get("plugins");return window.jwplayerPluginJsonp=f,(t.pluginLoader=t.pluginLoader||new o).load(e,d,r,t).then(function(e){if(!t.attributes._destroyed)return delete window.jwplayerPluginJsonp,e})}var i=r(1),a=r(20),o=function(){this.load=function(t,e,r,n){return r&&"object"==typeof r?Promise.all(Object.keys(r).filter(function(t){return t}).map(function(o){var s=r[o];return e.setupPlugin(o).then(function(e){if(!n.attributes._destroyed)return Object(a.a)(e,s,t)})["catch"](function(t){return e.removePlugin(o),t.code?t:new i.t(null,Object(a.b)(o),t)})})):Promise.resolve()}},s=r(58),u=r(46),l={},c=function(){function t(){}var e=t.prototype;return e.setupPlugin=function(t){var e=this.getPlugin(t);return e?(e.url!==t&&Object(u.a)('JW Plugin "'+Object(a.c)(t)+'" already loaded from "'+e.url+'". Ignoring "'+t+'."'),e.promise):this.addPlugin(t).load()},e.addPlugin=function(t){var e=Object(a.c)(t),r=l[e];return r||(r=new s.a(t),l[e]=r),r},e.getPlugin=function(t){return l[Object(a.c)(t)]},e.removePlugin=function(t){delete l[Object(a.c)(t)]},e.getPlugins=function(){return l},t}();r.d(e,"b",function(){return f}),r.d(e,"a",function(){return n});var d=new c,f=function(t,e,r){var n=d.addPlugin(t);n.js||n.registerPlugin(t,e,r)}},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(47),i=r(21),a=r(44),o=r(1),s=100013;e.b=function(t){var e,r,u;try{var l=Object(n.a)(t||"",Object(a.a)("NDh2aU1Cb0NHRG5hcDFRZQ==")).split("/");if("pro"===(e=l[0])&&(e="premium"),Object(i.a)(e)("setup")||(e="invalid"),l.length>2){r=l[1];var c=parseInt(l[2]);c>0&&(u=new Date).setTime(c)}}catch(t){e="invalid"}this.edition=function(){return e},this.token=function(){return r},this.expiration=function(){return u},this.duration=function(){return u?u.getTime()-(new Date).getTime():0},this.error=function(){var n;return void 0===t?n=100011:"invalid"!==e&&r?this.duration()<0&&(n=s):n=100012,n?new o.t(o.n,n):null}}},function(t,e,r){"use strict";function n(t){if(!o.a||!o.a.canPlayType)return!1;if(!1===Object(i.a)(t))return!1;var e=t.file,r=t.type;if(Object(a.isRtmp)(e,r))return!1;var n=t.mimeType||s[r];if(!n)return!1;var u=t.mediaTypes;return u&&u.length&&(n=[n].concat(u.slice()).join("; ")),!!o.a.canPlayType(n)}r.d(e,"a",function(){return u}),r.d(e,"b",function(){return n});var i=r(65),a=r(10),o=r(31),s={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},u=[{name:"html5",supports:n}]},function(t,e,r){"use strict";function n(t,e,r,f){var h;t===Object(t)&&(t=(f=t).url);var p=Object(s.j)({xhr:null,url:t,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:e||d,onerror:r||d,mimeType:f&&!f.responseType?"text/xml":"",requireValidXML:!1,responseType:f&&f.plainText?"text":"",useDomParser:!1,requestFilter:null},f),g=function(t,e){return function(t,r){var o=t.currentTarget||e.xhr;if(clearTimeout(e.timeoutId),e.retryWithoutCredentials&&e.xhr.withCredentials)return i(o),void n(Object(s.j)({},e,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!r&&o.status>=400&&o.status<600&&(r=o.status),a(e,r?c.p:c.s,r||6,t)}}(0,p);if("XMLHttpRequest"in window){if(h=p.xhr=p.xhr||new window.XMLHttpRequest,"function"==typeof p.requestFilter){var v;try{v=p.requestFilter({url:t,xhr:h})}catch(t){return g(t,5),h}v&&"open"in v&&"send"in v&&(h=p.xhr=v)}h.onreadystatechange=function(t){return function(e){var r=e.currentTarget||t.xhr;if(4===r.readyState){clearTimeout(t.timeoutId);var n=r.status;if(n>=400)return void a(t,c.p,n<600?n:6);if(200===n)return function(t){return function(e){var r=e.currentTarget||t.xhr;if(clearTimeout(t.timeoutId),t.responseType){if("json"===t.responseType)return function(t,e){if(!t.response||"string"==typeof t.response&&'"'!==t.responseText.substr(1))try{t=Object(s.j)({},t,{response:JSON.parse(t.responseText)})}catch(t){return void a(e,c.p,611,t)}return e.oncomplete(t)}(r,t)}else{var n,i=r.responseXML;if(i)try{n=i.firstChild}catch(t){}if(i&&n)return o(r,i,t);if(t.useDomParser&&r.responseText&&!i&&(i=Object(u.parseXML)(r.responseText))&&i.firstChild)return o(r,i,t);if(t.requireValidXML)return void a(t,c.p,602)}t.oncomplete(r)}}(t)(e);0===n&&Object(l.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(t.url)&&a(t,c.p,7)}}}(p),h.onerror=g,"overrideMimeType"in h?p.mimeType&&h.overrideMimeType(p.mimeType):p.useDomParser=!0;try{t=t.replace(/#.*$/,""),h.open("GET",t,!0)}catch(t){return g(t,3),h}if(p.responseType)try{h.responseType=p.responseType}catch(t){}p.timeout&&(p.timeoutId=setTimeout(function(){i(h),a(p,c.s,1)},p.timeout),h.onabort=function(){clearTimeout(p.timeoutId)});try{p.withCredentials&&"withCredentials"in h&&(h.withCredentials=!0),h.send()}catch(t){g(t,4)}return h}a(p,c.s,2)}function i(t){t.onload=null,t.onprogress=null,t.onreadystatechange=null,t.onerror=null,"abort"in t&&t.abort()}function a(t,e,r,n){t.onerror(e,t.url,t.xhr,new c.t(e,r,n))}function o(t,e,r){var n=e.documentElement;if(!r.requireValidXML||"parsererror"!==n.nodeName&&!n.getElementsByTagName("parsererror").length)return t.responseXML||(t=Object(s.j)({},t,{responseXML:e})),r.oncomplete(t);a(r,c.p,601)}r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i});var s=r(0),u=r(12),l=r(10),c=r(1),d=function(){}},function(t,e,r){"use strict";var n=r(0),i=r(33),a=["captions","metadata","thumbnails","chapters"],o=function(t){if(t&&t.file){var e,r=Object(n.j)({},{kind:"captions","default":!1},t);return r.kind=(e=r.kind,-1!==a.indexOf(e)?r.kind:"captions"),r["default"]=!!r["default"],r}},s=Array.isArray;e.a=function(t){s((t=t||{}).tracks)||delete t.tracks;var e=Object(n.j)({},{sources:[],tracks:[],minDvrWindow:120,dvrSeekLimit:25},t);e.sources!==Object(e.sources)||s(e.sources)||(e.sources=[Object(i.a)(e.sources)]),s(e.sources)&&0!==e.sources.length||(t.levels?e.sources=t.levels:e.sources=[Object(i.a)(t)]);for(var r=0;r<e.sources.length;r++){var a=e.sources[r];if(a){var u=a["default"];a["default"]=!!u&&"true"===u.toString(),e.sources[r].label||(e.sources[r].label=r.toString()),e.sources[r]=Object(i.a)(e.sources[r])}}return e.sources=e.sources.filter(function(t){return!!t}),s(e.tracks)||(e.tracks=[]),s(e.captions)&&(e.tracks=e.tracks.concat(e.captions),delete e.captions),e.tracks=e.tracks.map(o).filter(function(t){return!!t}),e}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n="8.18.2+commercial_v8-18-2.441.commercial.8dc86af.hlsjs..hlsjsprogressive..jwplayer.98a2a32.dai.07e1a38.freewheel.af0c077.googima.3fa90f0.googimanvmp.106f6b4.headerbidding.62dbb07.vast.1572b33.analytics.bd0e655.gapro.141397a"},function(t,e,r){"use strict";function n(){return s+o.now()}var i=r(0),a=r(18),o=window.performance||{timing:{}},s=o.timing.navigationStart||Object(a.a)();"now"in o||(o.now=function(){return Object(a.a)()-s});var u=function(){function t(){this.startTimes={},this.sum={},this.counts={},this.ticks={}}var e=t.prototype;return e.start=function(t){this.startTimes[t]=n(),this.counts[t]=this.counts[t]+1||1},e.end=function(t){if(this.startTimes[t]){var e=n()-this.startTimes[t];delete this.startTimes[t],this.sum[t]=this.sum[t]+e||e}},e.dump=function(){var t=Object(i.j)({},this.sum);for(var e in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,e)){var r=n()-this.startTimes[e];t[e]=t[e]+r||r}return{counts:Object(i.j)({},this.counts),sums:t,events:Object(i.j)({},this.ticks)}},e.tick=function(t){this.ticks[t]=n()},e.clear=function(t){delete this.ticks[t]},e.between=function(t,e){return this.ticks[e]&&this.ticks[t]?this.ticks[e]-this.ticks[t]:null},t}();e.a=u},function(t,e){"use strict";var r=document.createElement("video");e.a=r},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={}},function(t,e,r){"use strict";var n=r(0),i=r(10),a=r(2);e.a=function(t){if(t&&t.file){var e=Object(n.j)({},{"default":!1,type:""},t);e.file=Object(a.i)(""+e.file);var r=/^[^/]+\/(?:x-)?([^/]+)$/,o=e.type;if(r.test(o)&&(e.mimeType=o,e.type=o.replace(r,"$1")),Object(i.isYouTube)(e.file)?e.type="youtube":Object(i.isRtmp)(e.file)?e.type="rtmp":e.type||(e.type=Object(a.a)(e.file)),e.type){switch(e.type){case"m3u8":case"vnd.apple.mpegurl":e.type="hls";break;case"dash+xml":e.type="dash";break;case"m4a":e.type="aac";break;case"smil":e.type="rtmp"}return Object.keys(e).forEach(function(t){""===e[t]&&delete e[t]}),e}}}},function(t,e,r){"use strict";function n(t){return t&&!(S.test(t)||"object"==typeof t)}function i(t){if(!t.handlers.init){var e=t.el,r=t.passive,n=!!j&&{passive:r},i=function(i){if(Object(y.o)(e,"jw-tab-focus"),!function(t){return"which"in t?3===t.which:"button"in t&&2===t.button}(i)){var u=i.target,c=i.type;if(!t.directSelect||u===e){var h=d(i),p=h.pageX,g=h.pageY;if(t.dragged=!1,t.lastStart=Object(b.a)(),t.startX=p,t.startY=g,s(t,"window"),"pointerdown"===c&&i.isPrimary){if(!r){var v=i.pointerId;t.pointerId=v,e.setPointerCapture(v)}o(t,"window","pointermove",a,n),o(t,"window","pointercancel",l),o(t,"window","pointerup",l),"BUTTON"===e.tagName&&e.focus()}else"mousedown"===c?(o(t,"window","mousemove",a,n),o(t,"window","mouseup",l)):"touchstart"===c&&(o(t,"window","touchmove",a,n),o(t,"window","touchcancel",l),o(t,"window","touchend",l),r||f(i))}}},a=function(e){if(t.dragged)c(t,v.s,e);else{var n=d(e),i=n.pageX,a=n.pageY,o=i-t.startX,s=a-t.startY;o*o+s*s>36&&(c(t,v.u,e),t.dragged=!0,c(t,v.s,e))}r||"touchmove"!==e.type||f(e)},l=function(r){if(clearTimeout(h),t.el)if(u(t),s(t,"window"),t.dragged)t.dragged=!1,c(t,v.t,r);else if(-1===r.type.indexOf("cancel")&&e.contains(r.target)){if(Object(b.a)()-t.lastStart>500)return;var n="pointerup"===r.type||"pointercancel"===r.type,i="mouseup"===r.type||n&&"mouse"===r.pointerType;!function(t,e,r){if(t.enableDoubleTap)if(Object(b.a)()-t.lastClick<300){c(t,r?v.q:v.r,e),t.lastClick=0}else t.lastClick=Object(b.a)()}(t,r,i),i?c(t,v.n,r):(c(t,v.ub,r),"touchend"!==r.type||j||f(r))}};T?o(t,"init","pointerdown",i,n):(k&&o(t,"init","mousedown",i,n),o(t,"init","touchstart",i,n)),p||(p=new _(document).on("interaction")),o(t,"init","blur",function(){Object(y.o)(e,"jw-tab-focus")}),o(t,"init","focus",function(){p.event&&"keydown"===p.event.type&&Object(y.a)(e,"jw-tab-focus")})}}function a(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}function o(t,e,r,n,i){void 0===i&&(i=E);var o=t.handlers[e],s=t.options[e];if(o||(o=t.handlers[e]={},s=t.options[e]={}),o[r])throw new Error(e+" "+r+" already registered");o[r]=n,s[r]=i;var u=t.el;("window"===e?a(u):u).addEventListener(r,n,i)}function s(t,e){var r=t.el,n=t.handlers,i=t.options,o="window"===e?a(r):r,s=n[e],u=i[e];s&&(Object.keys(s).forEach(function(t){var e=u[t];"boolean"==typeof e?o.removeEventListener(t,s[t],e):o.removeEventListener(t,s[t])}),n[e]=null,i[e]=null)}function u(t){var e=t.el;null!==t.pointerId&&(e.releasePointerCapture(t.pointerId),t.pointerId=null)}function l(t,e,r){var n=t.el,i=r.target;t.trigger(e,{type:e,sourceEvent:r,currentTarget:n,target:i})}function c(t,e,r){var n=function(t,e,r){var n,i=e.target,a=e.touches,o=e.changedTouches,s=e.pointerType;a||o?(n=a&&a.length?a[0]:o[0],s=s||"touch"):(n=e,s=s||"mouse");var u=n;return{type:t,pointerType:s,pageX:u.pageX,pageY:u.pageY,sourceEvent:e,currentTarget:r,target:i}}(e,r,t.el);t.trigger(e,n)}function d(t){return 0===t.type.indexOf("touch")?(t.originalEvent||t).changedTouches[0]:t}function f(t){t.preventDefault&&t.preventDefault()}r.d(e,"a",function(){return _}),r.d(e,"b",function(){return a});var h,p,g=r(4),v=r(3),m=r(9),b=r(18),y=r(8),w="ontouchstart"in window,T="PointerEvent"in window&&!g.OS.android,k=!(T||w&&g.OS.mobile),j=g.Features.passiveEvents,E=!!j&&{passive:!0},_=function(t){function e(e,r){var n;n=t.call(this)||this;var i=!(r=r||{}).preventScrolling;return n.directSelect=!!r.directSelect,n.dragged=!1,n.enableDoubleTap=!1,n.el=e,n.handlers={},n.options={},n.lastClick=0,n.lastStart=0,n.passive=i,n.pointerId=null,n.startX=0,n.startY=0,n.event=null,n}var r,i;i=t,(r=e).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var a=e.prototype;return a.on=function(e,r,i){return n(e)&&(this.handlers[e]||O[e](this)),t.prototype.on.call(this,e,r,i)},a.off=function(e,r,i){var a=this;if(n(e))s(this,e);else if(!e){var o=this.handlers;Object.keys(o).forEach(function(t){s(a,t)})}return t.prototype.off.call(this,e,r,i)},a.destroy=function(){this.el&&(this.off(),T&&u(this),this.el=null)},e}(m.a),S=/\s+/,O={drag:function(t){i(t)},dragStart:function(t){i(t)},dragEnd:function(t){i(t)},click:function(t){i(t)},tap:function(t){if(g.OS.iOS&&g.OS.version.major<11){var e=document.body;e&&(e.ontouchstart=e.ontouchstart||function(){})}i(t)},doubleTap:function(t){t.enableDoubleTap=!0,i(t)},doubleClick:function(t){t.enableDoubleTap=!0,i(t)},longPress:function(t){if(g.OS.iOS){var e=function(){clearTimeout(h)};o(t,"longPress","touchstart",function(r){e(),h=setTimeout(function(){c(t,"longPress",r)},500)}),o(t,"longPress","touchmove",e),o(t,"longPress","touchcancel",e),o(t,"longPress","touchend",e)}else t.el.oncontextmenu=function(e){return c(t,"longPress",e),!1}},focus:function(t){o(t,"focus","focus",function(e){l(t,"focus",e)})},blur:function(t){o(t,"blur","blur",function(e){l(t,"blur",e)})},over:function(t){(T||k)&&o(t,v.Z,T?"pointerover":"mouseover",function(e){"touch"!==e.pointerType&&c(t,v.Z,e)})},out:function(t){if(T){var e=t.el;o(t,v.Y,"pointerout",function(r){if("touch"!==r.pointerType&&"clientX"in r){var n=document.elementFromPoint(r.clientX,r.clientY);e.contains(n)||c(t,v.Y,r)}})}else k&&o(t,v.Y,"mouseout",function(e){c(t,v.Y,e)})},move:function(t){(T||k)&&o(t,v.W,T?"pointermove":"mousemove",function(e){"touch"!==e.pointerType&&c(t,v.W,e)})},enter:function(t){o(t,v.v,"keydown",function(e){"Enter"!==e.key&&13!==e.keyCode||(e.stopPropagation(),l(t,v.v,e))})},keydown:function(t){o(t,"keydown","keydown",function(e){l(t,"keydown",e)},!1)},gesture:function(t){var e=function(e){return c(t,"gesture",e)};o(t,"gesture","click",e),o(t,"gesture","keydown",e)},interaction:function(t){var e=function(e){t.event=e};o(t,"interaction","mousedown",e,!0),o(t,"interaction","keydown",e,!0)}}},function(t,e,r){"use strict";function n(t,e){this.name=t,this.message=e.message||e.toString(),this.error=e}var i=r(0),a=r(19),o=r(10),s=r(12),u=r(2),l=r(30),c=r(16),d=r(7),f=r(8),h=r(11),p=r(27),g=r(52),v=r(46),m=r(53),b=Object(i.j)({},s,o,a,{addClass:f.a,hasClass:f.i,removeClass:f.o,replaceClass:f.p,toggleClass:f.v,classList:f.d,styleDimension:f.u,createElement:f.e,emptyElement:f.h,addStyleSheet:f.b,bounds:f.c,openLink:f.l,replaceInnerHtml:f.q,css:h.b,clearCss:h.a,style:h.d,transform:h.e,getRgba:h.c,ajax:p.b,crossdomain:function(t){var e=document.createElement("a"),r=document.createElement("a");e.href=location.href;try{return r.href=t,r.href=r.href,e.protocol+"//"+e.host!=r.protocol+"//"+r.host}catch(t){}return!0},tryCatch:function(t,e,r){if(void 0===r&&(r=[]),c.a.debug)return t.apply(e||this,r);try{return t.apply(e||this,r)}catch(e){return new n(t.name,e)}},Error:n,Timer:l.a,log:v.a,genId:m.b,between:g.a,foreach:function(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])},flashVersion:d.a,isIframe:d.m,indexOf:i.p,trim:u.i,pad:u.e,extension:u.a,hms:u.b,seconds:u.g,prefix:u.f,suffix:u.h,noop:function(){}});e.a=b},function(t,e,r){"use strict";function n(t){return t.some(function(t){return!!t.drm||t.sources.some(function(t){return!!t.drm})})}function i(t){return s||((navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration||window.MSMediaKeys)&&Object(u.a)(t)("drm")?(l.forEach(function(t){var e,r,n=(e=t.keyName,r=[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4d401e"'}],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}]}],navigator.requestMediaKeySystemAccess?navigator.requestMediaKeySystemAccess(e,r):new Promise(function(t,r){var n;try{n=new window.MSMediaKeys(e)}catch(t){return void r(t)}t(n)})).then(function(){d[t.configName]=!0})["catch"](function(){d[t.configName]=!1});c.push(n)}),s=Promise.all(c)):Promise.resolve())}function a(t){return d[t]}function o(t){if(s)return Object.keys(t).some(function(t){return a(t)})}r.d(e,"b",function(){return n}),r.d(e,"d",function(){return i}),r.d(e,"c",function(){return a}),r.d(e,"a",function(){return o});var s,u=r(21),l=[{configName:"clearkey",keyName:"org.w3.clearkey"},{configName:"widevine",keyName:"com.widevine.alpha"},{configName:"playready",keyName:"com.microsoft.playready"}],c=[],d={}},function(t,e,r){"use strict";function n(){return 305e3}function i(t,e,r){var n=t.name,i=Object(a.j)({},e),o=document.createElement("div");o.id=r.id+"_"+n,o.className="jw-plugin jw-reset";var s=t.getNewInstance(r,i,o);return r.addPlugin(n,s),s}r.d(e,"c",function(){return o}),r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i});var a=r(0),o=function(t){return t.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")}},function(t,e,r){"use strict";function n(){return o||(o=a.OS.tizenApp?r.e(3).then(function(){var t=r(72)["default"];return s.controls=t,t}.bind(null,r))["catch"](function(){o=null,Object(i.c)(301133)()}):r.e(2).then(function(){var t=r(69)["default"];return s.controls=t,t}.bind(null,r))["catch"](function(){o=null,Object(i.c)(301130)()})),o}r.d(e,"a",function(){return s}),r.d(e,"b",function(){return n});var i=r(6),a=r(4),o=null,s={}},function(t,e){"use strict";e.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(t){function e(t){var e=document.createElement("style");return e.type="text/css",e.setAttribute("data-jwplayer-id",t),function(t){u().appendChild(t)}(e),e}function r(t,r){var i,a,o,u=s[t];u||(u=s[t]={element:e(t),counter:0});var l=u.counter++;return i=u.element,o=function(){n(i,l,"")},(a=function(t){n(i,l,t)})(r.css),function(t){if(t){if(t.css===r.css&&t.media===r.media)return;a((r=t).css)}else o()}}function n(t,e,r){if(t.styleSheet)t.styleSheet.cssText=c(e,r);else{var n=document.createTextNode(r),i=t.childNodes[e];i?t.replaceChild(n,i):t.appendChild(n)}}var i,a,o={},s={},u=(i=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return void 0===a&&(a=i.apply(this,arguments)),a});t.exports={style:function(t,e){!function(t,e){for(var n=0;n<e.length;n++){var i=e[n],a=(o[t]||{})[i.id];if(a){for(var s=0;s<a.parts.length;s++)a.parts[s](i.parts[s]);for(;s<i.parts.length;s++)a.parts.push(r(t,i.parts[s]))}else{var u=[];for(s=0;s<i.parts.length;s++)u.push(r(t,i.parts[s]));o[t]=o[t]||{},o[t][i.id]={id:i.id,parts:u}}}}(e,function(t){for(var e=[],r={},n=0;n<t.length;n++){var i=t[n],a=i[0],o={css:i[1],media:i[2]};r[a]?r[a].parts.push(o):e.push(r[a]={id:a,parts:[o]})}return e}(t))},clear:function(t,e){var r=o[t];if(r)if(e){var n=r[e];if(n)for(var i=0;i<n.parts.length;i+=1)n.parts[i]()}else{for(var a=Object.keys(r),s=0;s<a.length;s+=1)for(var u=r[a[s]],l=0;l<u.parts.length;l+=1)u.parts[l]();delete o[t]}}};var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")})},function(t,e,r){"use strict";function n(t){this.config=t||{}}var i=r(0),a=r(17),o=r(32),s=r(13),u=r(6),l={html5:function(){return r.e(16).then(function(){var t=r(166)["default"];return Object(s.a)(t),t}.bind(null,r))["catch"](Object(u.b)(152))}};Object(i.j)(l,{shaka:function(){return r.e(17).then(function(){var t=r(180)["default"];return Object(s.a)(t),t}.bind(null,r))["catch"](Object(u.b)(154))},hlsjs:function(){return r.e(14).then(function(){var t=r(175)["default"];return Object(s.a)(t),t}.bind(null,r))["catch"](Object(u.b)(153))},flash:function(){return r.e(13).then(function(){var t=r(182)["default"];return Object(s.a)(t),t}.bind(null,r))["catch"](Object(u.b)(151))},hlsjsProgressive:function(){return r.e(15).then(function(){var t=r(176)["default"];return Object(s.a)(t),t}.bind(null,r))["catch"](Object(u.b)(155))}});var c=l;Object(i.j)(n.prototype,{load:function(t){var e=c[t],r=function(){return Promise.reject(new Error("Failed to load media"))};return e?e().then(function(){return o.a[t]||r()}):r()},providerSupports:function(t,e){return t.supports(e)},choose:function(t){if(t===Object(t))for(var e=a.a.length,r=0;r<e;r++){var n=a.a[r];if(this.providerSupports(n,t))return{
priority:e-r-1,name:n.name,type:t.type,providerToCheck:n,provider:o.a[n.name]}}return{}}});var d=n;d.prototype.providerSupports=function(t,e){return t.supports(e,this.config.edition)},e.a=d},function(t,e,r){"use strict";function n(t,e){var r=e.message,n=e.code,o=function(t,e,r,n){return'<div id="'+t+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+t+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+t+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+t+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto">'+(e||"")+'<span class="jw-break jw-reset"></span>'+(n?("("+r+": "+n+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(t.get("id"),r,t.get("localization").errors.errorCode,n.toString()),s=t.get("width"),u=t.get("height"),l=Object(i.e)(o);return Object(a.d)(l,{width:s.toString().indexOf("%")>0?s:s+"px",height:u.toString().indexOf("%")>0?u:u+"px"}),l}var i=r(8),a=r(11);r.d(e,"a",function(){return n})},function(t,e,r){"use strict";function n(t){return t.slice&&"px"===t.slice(-2)&&(t=t.slice(0,-2)),t}function i(t,e){if(-1===e.toString().indexOf("%"))return 0;if("string"!=typeof t||!t)return 0;if(/^\d*\.?\d+%$/.test(t))return t;var r=t.indexOf(":");if(-1===r)return 0;var n=parseFloat(t.substr(0,r)),i=parseFloat(t.substr(r+1));return n<=0||i<=0?0:i/n*100+"%"}r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i})},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=window.atob},function(t,e,r){"use strict";function n(t){var e={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return e[t]?e[t]:t}function i(t){for(var e=[],r=0;r<Object(s.c)(t);r++){var n=t.childNodes[r];"jwplayer"===n.prefix&&"mediatypes"===Object(s.b)(n).toLowerCase()&&e.push(Object(s.d)(n))}return e}function a(t){var e=[];e.feedData={};for(var r=0;r<Object(s.c)(t);r++){var n=Object(s.a)(t,r);if("channel"===Object(s.b)(n).toLowerCase())for(var i=0;i<Object(s.c)(n);i++){var a=Object(s.a)(n,i),u=Object(s.b)(a).toLowerCase();"item"===u?e.push(o(a)):u&&(e.feedData[u]=Object(s.d)(a))}}return e}function o(t){for(var e={},r=0;r<t.childNodes.length;r++){var n=t.childNodes[r],i=Object(s.b)(n);if(i)switch(i.toLowerCase()){case"enclosure":e.file=Object(u.j)(n,"url");break;case"title":e.title=Object(s.d)(n);break;case"guid":e.mediaid=Object(s.d)(n);break;case"pubdate":e.date=Object(s.d)(n);break;case"description":e.description=Object(s.d)(n);break;case"link":e.link=Object(s.d)(n);break;case"category":e.tags?e.tags+=Object(s.d)(n):e.tags=Object(s.d)(n)}}return new f.a(d(t,l(t,e)))}var s=r(5),u=r(2),l=function h(t,e){for(var r=[],a=0;a<Object(s.c)(t);a++){var o=t.childNodes[a];if("media"===o.prefix){if(!Object(s.b)(o))continue;switch(Object(s.b)(o).toLowerCase()){case"content":if(Object(u.j)(o,"duration")&&(e.duration=Object(u.g)(Object(u.j)(o,"duration"))),Object(u.j)(o,"url")){e.sources||(e.sources=[]);var l={file:Object(u.j)(o,"url"),type:Object(u.j)(o,"type"),width:Object(u.j)(o,"width"),label:Object(u.j)(o,"label")},c=i(o);c.length&&(l.mediaTypes=c),e.sources.push(l)}Object(s.c)(o)>0&&(e=h(o,e));break;case"title":e.title=Object(s.d)(o);break;case"description":e.description=Object(s.d)(o);break;case"guid":e.mediaid=Object(s.d)(o);break;case"thumbnail":e.image||(e.image=Object(u.j)(o,"url"));break;case"group":h(o,e);break;case"subtitle":var d={file:Object(u.j)(o,"url"),kind:"captions"};Object(u.j)(o,"lang").length>0&&(d.label=n(Object(u.j)(o,"lang"))),r.push(d)}}}e.tracks||(e.tracks=[]);for(var f=0;f<r.length;f++)e.tracks.push(r[f]);return e},c=r(12),d=function(t,e){for(var r="default",n=[],i=[],a=0;a<t.childNodes.length;a++){var o=t.childNodes[a];if("jwplayer"===o.prefix){var l=Object(s.b)(o);"source"===l?(delete e.sources,n.push({file:Object(u.j)(o,"file"),"default":Object(u.j)(o,r),label:Object(u.j)(o,"label"),type:Object(u.j)(o,"type")})):"track"===l?(delete e.tracks,i.push({file:Object(u.j)(o,"file"),"default":Object(u.j)(o,r),kind:Object(u.j)(o,"kind"),label:Object(u.j)(o,"label")})):(e[l]=Object(c.serialize)(Object(s.d)(o)),"file"===l&&e.sources&&delete e.sources)}e.file||(e.file=e.link)}if(n.length){e.sources=[];for(var d=0;d<n.length;d++){var f=n[d];f.file.length>0&&(f[r]="true"===n[d][r],f.label||delete f.label,e.sources.push(f))}}if(i.length){e.tracks=[];for(var h=0;h<i.length;h++){var p=i[h];p.file&&p.file.length>0&&(p[r]="true"===i[h][r],p.kind=i[h].kind.length?i[h].kind:"captions",p.label||delete p.label,e.tracks.push(p))}}return e},f=r(28);r.d(e,"a",function(){return a})},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n="function"==typeof console.log?console.log.bind(console):function(){}},function(t,e,r){"use strict";function n(t){for(var e=new Array(Math.ceil(t.length/4)),r=0;r<e.length;r++)e[r]=t.charCodeAt(4*r)+(t.charCodeAt(4*r+1)<<8)+(t.charCodeAt(4*r+2)<<16)+(t.charCodeAt(4*r+3)<<24);return e}function i(t,e){if(t=String(t),e=String(e),0===t.length)return"";for(var r,i,o,s=n(Object(a.a)(t)),u=n((r=e,unescape(encodeURIComponent(r))).slice(0,16)),l=s.length,c=s[l-1],d=s[0],f=2654435769*Math.floor(6+52/l);f;){o=f>>>2&3;for(var h=l-1;h>=0;h--)i=((c=s[h>0?h-1:l-1])>>>5^d<<2)+(d>>>3^c<<4)^(f^d)+(u[3&h^o]^c),d=s[h]-=i;f-=2654435769}return function(t){try{return decodeURIComponent(escape(t))}catch(e){return t}}(function(t){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=String.fromCharCode(255&t[r],t[r]>>>8&255,t[r]>>>16&255,t[r]>>>24&255);return e.join("")}(s).replace(/\0+$/,""))}r.d(e,"a",function(){return i});var a=r(44)},function(t,e,r){"use strict";r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i});var n=window.requestAnimationFrame||function(t){return setTimeout(t,17)},i=window.cancelAnimationFrame||clearTimeout},function(t,e,r){"use strict";r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i});var n={audioMode:!1,flashBlocked:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:r(3).nb,itemReady:!1,controlsEnabled:!1},i={position:0,duration:0,buffer:0,currentTime:0}},function(t,e,r){"use strict";function n(t){return t?t<5?5:t>30?30:t:25}r.d(e,"a",function(){return d}),r.d(e,"c",function(){return n});var i=r(0),a=r(43),o=r(19),s=r(12),u=r(4),l=r(39),c=r(14),d={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:l.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640};e.b=function(t,e){var f=Object(i.j)({},(window.jwplayer||{}).defaults,e,t);!function(t){Object.keys(t).forEach(function(e){"id"!==e&&(t[e]=Object(s.serialize)(t[e]))})}(f);var h=f.forceLocalizationDefaults?d.language:Object(c.e)(),p=Object(c.j)(f.intl);f.localization=Object(c.a)(l.a,Object(c.c)(f,p,h));var g=Object(i.j)({},d,f);"."===g.base&&(g.base=Object(o.getScriptPath)("jwplayer.js")),g.base=(g.base||Object(o.loadFrom)()).replace(/\/?$/,"/"),r.p=g.base,g.width=Object(a.b)(g.width),g.height=Object(a.b)(g.height),g.aspectratio=Object(a.a)(g.aspectratio,g.width),g.volume=Object(i.z)(g.volume)?Math.min(Math.max(0,g.volume),100):d.volume,g.mute=!!g.mute,g.language=h,g.intl=p;var v=g.playlistIndex;v&&(g.item=v),Object(i.v)(g.item)||(g.item=0);var m=f.autoPause;m&&(g.autoPause.viewability=!("viewability"in m&&!m.viewability));var b=g.playbackRateControls;if(b){var y=g.playbackRates;Array.isArray(b)&&(y=b),(y=y.filter(function(t){return Object(i.v)(t)&&t>=.25&&t<=4}).map(function(t){return Math.round(100*t)/100})).indexOf(1)<0&&y.push(1),y.sort(),g.playbackRateControls=!0,g.playbackRates=y}(!g.playbackRateControls||g.playbackRates.indexOf(g.defaultPlaybackRate)<0)&&(g.defaultPlaybackRate=1),g.playbackRate=g.defaultPlaybackRate,g.aspectratio||delete g.aspectratio;var w=g.playlist;if(w)Array.isArray(w.playlist)&&(g.feedData=w,g.playlist=w.playlist);else{var T=Object(i.D)(g,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);g.playlist=[T]}g.qualityLabels=g.qualityLabels||g.hlslabels,delete g.duration;var k=g.liveTimeout;null!==k&&(Object(i.z)(k)?0!==k&&(k=Math.max(30,k)):k=null,g.liveTimeout=k);var j,E,_=parseFloat(g.bandwidthEstimate),S=parseFloat(g.bitrateSelection);return g.bandwidthEstimate=Object(i.z)(_)?_:(j=g.defaultBandwidthEstimate,E=parseFloat(j),Object(i.z)(E)?Math.max(E,1):d.bandwidthEstimate),g.bitrateSelection=Object(i.z)(S)?S:d.bitrateSelection,g.liveSyncDuration=n(g.liveSyncDuration),g.backgroundLoading=Object(i.r)(g.backgroundLoading)?g.backgroundLoading:u.Features.backgroundLoading,g}},function(t,e,r){"use strict";function n(){}function i(t){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void s(e.promise,t)}o(e.promise,n)}else(1===t._state?o:s)(e.promise,t._value)})):t._deferreds.push(e)}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof i)return t._state=3,t._value=e,void u(t);if("function"==typeof r)return void c((n=r,a=e,function(){n.apply(a,arguments)}),t)}t._state=1,t._value=e,u(t)}catch(e){s(t,e)}var n,a}function s(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function c(t,e){var r=!1;try{t(function(t){r||(r=!0,o(e,t))},function(t){r||(r=!0,s(e,t))})}catch(t){if(r)return;r=!0,s(e,t)}}function d(t,e){var r=new M.a(e);return r.on(F.hb,function(e){t._qoe.tick("ready"),e.setupTime=t._qoe.between("setup","ready")}),r.on("all",function(e,r){t.trigger(e,r)}),r}function f(t,e){var r=t.plugins;Object.keys(r).forEach(function(t){delete r[t]}),e.get("setupConfig")&&t.trigger("remove"),t.off(),e.playerDestroy(),e.getContainer().removeAttribute("data-jwplayer-id")}function h(t){var e=++V,r=t.id||"player-"+e,n=new N.a,i={},a=d(this,t);n.tick("init"),t.setAttribute("data-jwplayer-id",r),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r}},uniqueId:{enumerable:!0,get:function(){return e}},plugins:{enumerable:!0,get:function(){return i}},_qoe:{enumerable:!0,get:function(){return n}},version:{enumerable:!0,get:function(){return P.a}},Events:{enumerable:!0,get:function(){return B.a}},utils:{enumerable:!0,get:function(){return U.a}},_:{enumerable:!0,get:function(){return j.f}}}),Object(j.j)(this,{_events:{},setup:function(e){return n.clear("ready"),n.tick("setup"),f(this,a),(a=d(this,t)).init(e,this),this.on(e.events,null,this)},remove:function(){return function(t){for(var e=O.a.length;e--;)if(O.a[e].uniqueId===t.uniqueId){O.a.splice(e,1);break}}(this),f(this,a),this},qoe:function(){var t=a.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:t.getFirstFrame?t.getFirstFrame():null,player:this._qoe.dump(),item:t.dump()}},addCues:function(t){return Array.isArray(t)&&a.addCues(t),this},getAudioTracks:function(){return a.getAudioTracks()},getBuffer:function(){return a.get("buffer")},getCaptions:function(){return a.get("captions")},getCaptionsList:function(){return a.getCaptionsList()},getConfig:function(){return a.getConfig()},getContainer:function(){return a.getContainer()},getControls:function(){return a.get("controls")},getCues:function(){return a.get("cues")},getCurrentAudioTrack:function(){return a.getCurrentAudioTrack()},getCurrentCaptions:function(){return a.getCurrentCaptions()},getCurrentQuality:function(){return a.getCurrentQuality()},getCurrentTime:function(){return a.get("currentTime")},getDuration:function(){return a.get("duration")},getEnvironment:function(){return D},getFullscreen:function(){return a.get("fullscreen")},getHeight:function(){return a.getHeight()},getItemMeta:function(){return a.get("itemMeta")||{}},getMute:function(){return a.getMute()},getPercentViewable:function(){return a.get("visibility")},getPlaybackRate:function(){return a.get("playbackRate")},getPlaylist:function(){return a.get("playlist")},getPlaylistIndex:function(){return a.get("item")},getPlaylistItem:function(t){if(!U.a.exists(t))return a.get("playlistItem");var e=this.getPlaylist();return e?e[t]:null},getPosition:function(){return a.get("position")},getProvider:function(){return a.getProvider()},getQualityLevels:function(){return a.getQualityLevels()},getSafeRegion:function(t){return void 0===t&&(t=!0),a.getSafeRegion(t)},getState:function(){return a.getState()},getStretching:function(){return a.get("stretching")},getViewable:function(){return a.get("viewable")},getVisualQuality:function(){return a.getVisualQuality()},getVolume:function(){return a.get("volume")},getWidth:function(){return a.getWidth()},setCaptions:function(t){return a.setCaptions(t),this},setConfig:function(t){return a.setConfig(t),this},setControls:function(t){return a.setControls(t),this},setCurrentAudioTrack:function(t){a.setCurrentAudioTrack(t)},setCurrentCaptions:function(t){a.setCurrentCaptions(t)},setCurrentQuality:function(t){a.setCurrentQuality(t)},setFullscreen:function(t){return a.setFullscreen(t),this},setMute:function(t){return a.setMute(t),this},setPlaybackRate:function(t){return a.setPlaybackRate(t),this},setPlaylistItem:function(t,e){return a.setPlaylistItem(t,e),this},setCues:function(t){return Array.isArray(t)&&a.setCues(t),this},setVolume:function(t){return a.setVolume(t),this},load:function(t,e){return a.load(t,e),this},play:function(t){return a.play(t),this},pause:function(t){return a.pause(t),this},playToggle:function(t){switch(this.getState()){case F.qb:case F.kb:return this.pause(t);default:return this.play(t)}},seek:function(t,e){return a.seek(t,e),this},playlistItem:function(t,e){return a.playlistItem(t,e),this},playlistNext:function(t){return a.playlistNext(t),this},playlistPrev:function(t){return a.playlistPrev(t),this},next:function(t){return a.next(t),this},castToggle:function(){return a.castToggle(),this},stopCasting:function(){return a.stopCasting(),this},createInstream:function(){return a.createInstream()},stop:function(){return a.stop(),this},resize:function(t,e){return a.resize(t,e),this},addButton:function(t,e,r,n,i){return a.addButton(t,e,r,n,i),this},removeButton:function(t){return a.removeButton(t),this},attachMedia:function(){return a.attachMedia(),this},detachMedia:function(){return a.detachMedia(),this},isBeforeComplete:function(){return a.isBeforeComplete()},isBeforePlay:function(){return a.isBeforePlay()},setPlaylistItemCallback:function(t,e){a.setItemCallback(t,e)},removePlaylistItemCallback:function(){a.setItemCallback(null)},getPlaylistItemPromise:function(t){return a.getItemPromise(t)},getFloating:function(){return!!a.get("isFloating")},setFloating:function(t){a.setConfig({floating:{mode:t?"always":"never"}})}})}function p(t){for(var e=0;e<O.a.length;e++)if(O.a[e].id===t)return O.a[e];return null}function g(t){Object.defineProperties(t,{api:{get:function(){return L},set:function(){}},version:{get:function(){return P.a},set:function(){}},debug:{get:function(){return I.a.debug},set:function(t){I.a.debug=!!t}}})}function v(t){var e={};m(this,t,t,e),m(this,t,h.prototype,e)}function m(t,e,r,n){var i=Object.keys(r);i.forEach(function(a){"function"==typeof r[a]&&"Events"!==a?t[a]=function o(t,e,r,n,i){return function(){var a=Array.prototype.slice.call(arguments),s=a[0],u=e._trackCallQueue||(e._trackCallQueue=[]),l=tt.test(r),c=l&&a[1]&&a[1]._callback;if("free"===(i.edition||b(e,i,"edition"))){if(["addButton","addCues","detachMedia","load","next","pause","play","playlistItem","playlistNext","playlistPrev","playToggle","resize","seek","setCaptions","setConfig","setControls","setCues","setFullscreen","setMute","setPlaybackRate","setPlaylistItem","setVolume","stop"].indexOf(r)>-1)return y(r),t;if(["createInstream","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality"].indexOf(r)>-1)return y(r),null}if(c||u.push([r,s]),l)return k(e,u),e[r].apply(t,a);w(r,a);var d=e[r].apply(e,a);return"remove"===r?e.off.call(t):"setup"===r&&(e.off.call(t),e.off(s.events,null,e),e.on.call(t,s.events,null,t),e.on("all",function(r,a){if("ready"===r){var s=Object.keys(e).filter(function(t){return"_"!==t[0]&&-1===n.indexOf(t)&&"function"==typeof e[t]}),l=n.concat(s);s.forEach(function(r){t[r]=o(t,e,r,l,i)})}e.trigger.call(t,r,a),k(e,u)})),k(e,u),d===e?t:d}}(t,e,a,i,n):"_events"===a?t._events={}:Object.defineProperty(t,a,{enumerable:!0,get:function(){return r[a]}})})}function b(t,e,r){var n=t.getConfig()[r];return e[r]=n,n}function y(t){console.warn("The API method jwplayer()."+t+"() is disabled in the free edition of JW Player.")}function w(t,e){var r={reason:Object($.a)()?"interaction":"external"};switch(t){case"play":case"pause":case"playToggle":case"playlistNext":case"playlistPrev":case"next":e[0]=r;break;case"seek":case"playlistItem":e[1]=r}}function T(t,e,r){try{var n=function(t,e){switch(t){case"setup":return!!e;case"getSafeRegion":case"pauseAd":case"setControls":case"setFullscreen":case"setMute":return!!e===e?e:void 0;case"setPlaylistItem":case"getPlaylistItem":return(0|e)===e?e:void 0;case"setPlaybackRate":case"setVolume":return Number(e);case"setConfig":return Object.keys(Object(e)).join(",");case"on":case"once":case"off":case"trigger":case"getPlugin":case"addPlugin":case"registerPlugin":return""+e}return null}(e,r);t.trackExternalAPIUsage(e,n)}catch(t){I.a.debug&&console.warn(t)}}function k(t,e){if(e.length){var r=t.getPlugin("jwpsrv");r&&r.trackExternalAPIUsage&&(e.forEach(function(t){T(r,t[0],t[1])}),e.length=0)}}r.r(e);var j=r(0),E=setTimeout;i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var r=new this.constructor(n);return a(this,new l(t,e,r)),r},i.prototype["finally"]=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})},i.all=function(t){return new i(function(e,r){function n(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(e){n(t,e)},r)}i[t]=o,0==--a&&e(i)}catch(t){r(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var a=i.length,o=0;o<i.length;o++)n(o,i[o])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,r){r(t)})},i.race=function(t){return new i(function(e,r){for(var n=0,i=t.length;n<i;n++)t[n].then(e,r)})},i._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){E(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var _=i;window.Promise||(window.Promise=_);var S=r(19),O=r(15),C=r(17),A=r(13),x={availableProviders:C.a,registerProvider:A.a},R=r(24);x.registerPlugin=function(t,e,r){"jwpsrv"!==t&&Object(R.b)(t,e,r)};var L=x,P=r(29),I=r(16),D=r(4),M=r(64),F=r(3),N=r(30),B=r(9),U=r(35),V=0;Object(j.j)(h.prototype,{on:function(t,e,r){return B.c.call(this,t,e,r)},once:function(t,e,r){return B.d.call(this,t,e,r)},off:function(t,e,r){return B.b.call(this,t,e,r)},trigger:function(t,e){return(e=j.f.isObject(e)?Object(j.j)({},e):{}).type=t,I.a.debug?B.e.call(this,t,e):B.f.call(this,t,e)},getPlugin:function(t){return this.plugins[t]},addPlugin:function(t,e){this.plugins[t]=e,this.on("ready",e.addToPlayer),e.resize&&this.on("resize",e.resizeHandler)},registerPlugin:function(t,e,r){Object(R.b)(t,e,r)},getAdBlock:function(){return!1},playAd:function(){},pauseAd:function(){},skipAd:function(){}}),r.p=Object(S.loadFrom)();var G=function(t){var e,r;if(t?"string"==typeof t?(e=p(t))||(r=document.getElementById(t)):"number"==typeof t?e=O.a[t]:t.nodeType&&(e=p((r=t).id||r.getAttribute("data-jwplayer-id"))):e=O.a[0],e)return e;if(r){var n=new h(r);return O.a.push(n),n}return{registerPlugin:R.b}};g(G);var H=G,K=r(34),z=r(25),q=r(23),W=r(47),Y=r(45),X=r(31),Q=j.f.extend,J={};J._=j.f,J.utils=Object(j.j)(U.a,{key:z.b,extend:Q,scriptloader:q.a,rssparser:{parse:Y.a},tea:W.a,UI:K.a}),J.utils.css.style=J.utils.style,J.vid=X.a;var Z=J,$=r(63),tt=/^(?:on(?:ce)?|off|trigger)$/,et=window;Object(j.j)(H,Z);var rt=function(t){var e=H(t);return e.uniqueId?e._publicApi||(e._publicApi=new v(e)):e};Object(j.j)(rt,Z),g(rt),"function"==typeof et.define&&et.define.amd&&et.define([],function(){return rt});var nt=rt;et.jwplayer&&(nt=et.jwplayer),e["default"]=nt},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t,e,r){return Math.max(Math.min(t,r),e)}},function(t,e,r){"use strict";function n(){try{var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return t.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(t){}return Math.random().toString(36).slice(2,9)}function i(t){for(var e="";e.length<t;)e+=n();return e.slice(0,t)}r.d(e,"a",function(){return a}),r.d(e,"b",function(){return i});var a=12},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){function e(){var e;return(e=t.call(this)||this).attributes=Object.create(null),e}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.addAttributes=function(t){var e=this;Object.keys(t).forEach(function(r){e.add(r,t[r])})},i.add=function(t,e){var r=this;Object.defineProperty(this,t,{get:function(){return r.attributes[t]},set:function(e){return r.set(t,e)},enumerable:!1}),this.attributes[t]=e},i.get=function(t){return this.attributes[t]},i.set=function(t,e){if(this.attributes[t]!==e){var r=this.attributes[t];this.attributes[t]=e,this.trigger("change:"+t,this,e,r)}},i.clone=function(){var t={},e=this.attributes;if(e)for(var r in e)t[r]=e[r];return t},i.change=function(t,e,r){this.on("change:"+t,e,r);var n=this.get(t);return e.call(r,this,n,n),this},e}(r(9).a)},function(t,e,r){"use strict";function n(t,e,r){function n(){for(;i.length>0;){var e=i.shift(),r=e.command,n=e.args;(a[r]||t[r]).apply(t,n)}}var i=[],a={};e.forEach(function(e){var o=t[e];a[e]=o,t[e]=function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];r()?i.push({command:e,args:a}):(n(),o&&o.apply(this,a))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return i}}),this.flush=n,this.empty=function(){i.length=0},this.off=function(){e.forEach(function(e){var r=a[e];r&&(t[e]=r,delete a[e])})},this.destroy=function(){this.off(),this.empty()}}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";r.d(e,"c",function(){return n}),r.d(e,"b",function(){return i}),r.d(e,"a",function(){return a});var n=4,i=5,a=1},function(t,e,r){"use strict";var n=r(3),i=function(){},a=function(){return!1},o={name:"default"},s={supports:a,play:i,pause:i,preload:i,load:i,stop:i,volume:i,mute:i,seek:i,resize:i,remove:i,destroy:i,setVisibility:i,setFullscreen:i,getFullscreen:a,supportsFullscreen:a,getContainer:i,setContainer:i,getName:function(){return o},getQualityLevels:i,getCurrentQuality:i,setCurrentQuality:i,getAudioTracks:i,getCurrentAudioTrack:i,setCurrentAudioTrack:i,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:i,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},setControls:i,attachMedia:i,detachMedia:i,init:i,setState:function(t){this.state=t,this.trigger(n.bb,{newstate:t})},sendMediaType:function(t){var e=t[0],r=e.type,i=e.mimeType,a="aac"===r||"mp3"===r||"mpeg"===r||i&&0===i.indexOf("audio/");this.trigger(n.T,{mediaType:a?"audio":"video"})},getDuration:function(){return 0},trigger:i};e.a=s},function(t,e,r){"use strict";var n=r(0),i=r(23),a=r(12),o=r(2),s=r(1),u=r(20),l=function(t){if("string"==typeof t){var e=(t=t.split("?")[0]).indexOf("://");if(e>0)return 0;var r=t.indexOf("/"),n=Object(o.a)(t);return!(e<0&&r<0)||n&&isNaN(n)?1:2}},c=function(t){this.url=t,this.promise_=null};Object.defineProperties(c.prototype,{promise:{get:function(){return this.promise_||this.load()},set:function(){}}}),Object(n.j)(c.prototype,{load:function(){var t=this,e=this.promise_;if(!e){if(2===l(this.url))e=Promise.resolve(this);else{var r=new i.a(function(t){switch(l(t)){case 0:return t;case 1:return Object(a.getAbsolutePath)(t,window.location.href)}}(this.url));this.loader=r,e=r.load().then(function(){return t})}this.promise_=e}return e},registerPlugin:function(t,e,r){this.name=t,this.target=e,this.js=r},getNewInstance:function(t,e,r){var n=this.js;if("function"!=typeof n)throw new s.t(null,Object(u.b)(this.url)+100);var i=new n(t,e,r);return i.addToPlayer=function(){var e=t.getContainer().querySelector(".jw-overlays");e&&(r.left=e.style.left,r.top=e.style.top,e.appendChild(r),i.displayArea=e)},i.resizeHandler=function(){var t=i.displayArea;t&&i.resize(t.clientWidth,t.clientHeight)},i}}),e.a=c},function(t,e,r){"use strict";var n=r(0),i=r(3),a=r(5),o=r(45),s=r(27),u=r(9),l=r(1);e.a=function(){function t(t){try{var s,u=t.responseXML?t.responseXML.childNodes:null,c=null;if(u){for(var d=0;d<u.length&&8===(c=u[d]).nodeType;d++);if(c&&"xml"===Object(a.b)(c)&&(c=c.nextSibling),c&&"rss"===Object(a.b)(c)){var f=Object(o.a)(c);s=Object(n.j)({playlist:f},f.feedData)}}if(!s)try{var h=JSON.parse(t.responseText);if(Array.isArray(h))s={playlist:h};else{if(!Array.isArray(h.playlist))throw Error("Playlist is not an array");s=h}}catch(r){throw new l.t(l.p,621,r)}r.trigger(i.eb,s)}catch(r){e(r)}}function e(t){t instanceof l.t&&!t.code&&(t=new l.t(l.p,0)),r.trigger(i.w,t)}var r=Object(n.j)(this,u.a);this.load=function(r){Object(s.b)(r,t,function(t,r,n,i){e(i)})},this.destroy=function(){this.off()}}},function(t,e,r){"use strict";function n(){for(var t=o.c,e=[],r=[],n=0;n<t;n++){var s=a();e.push(s),r.push(s),i(s)}var u=r.shift(),l=r.shift(),c=!1;return{primed:function(){return c},prime:function(){e.forEach(i),c=!0},played:function(){c=!0},getPrimedElement:function(){return r.shift()||null},getAdElement:function(){return u},getTestElement:function(){return l},clean:function(t){if(t.src){t.removeAttribute("src");try{t.load()}catch(t){}}},recycle:function(t){t&&!r.some(function(e){return e===t})&&(this.clean(t),r.push(t))},syncVolume:function(t){var r=Math.min(Math.max(0,t/100),1);e.forEach(function(t){t.volume=r})},syncMute:function(t){e.forEach(function(e){e.muted=t})}}}function i(t){t.src||t.load()}function a(t){var e=document.createElement("video");return e.className="jw-video jw-reset",e.setAttribute("tabindex","-1"),e.setAttribute("disableRemotePlayback",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),t&&Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])}),e}r.d(e,"b",function(){return n}),r.d(e,"a",function(){return a});var o=r(56)},function(t,e,r){"use strict";function n(t,e){return Object(i.j)({},e,{prime:function(){t.src||t.load()},getPrimedElement:function(){return t},clean:function(){e.clean(t)},recycle:function(){e.clean(t)}})}r.d(e,"a",function(){return n});var i=r(0)},function(t,e){"use strict";e.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(t,e,r){"use strict";function n(t){return!!(t=t||window.event)&&/^(?:mouse|pointer|touch|gesture|click|key)/.test(t.type)}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";function n(t,e){var r=t.querySelector(e);if(r)return r.getAttribute("content")}function i(t){return"string"==typeof t&&/^\/\/(?:content\.jwplatform|cdn\.jwplayer)\.com\//.test(t)}function a(t){return"https:"+t}function o(t,e){var r="file:"===window.location.protocol?"https:":"",n={bidding:"//ssl.p.jwpcdn.com/player/v/8.18.2/bidding.js",jwpsrv:"//ssl.p.jwpcdn.com/player/v/8.18.2/jwpsrv.js",dai:"//ssl.p.jwpcdn.com/player/plugins/dai/v/0.4.13/dai.js",vast:"//ssl.p.jwpcdn.com/player/plugins/vast/v/8.8.6/vast.js",googima:e?"//ssl.p.jwpcdn.com/player/v/8.18.2/googimanvmp.js":"//ssl.p.jwpcdn.com/player/plugins/googima/v/8.8.8/googima.js",freewheel:"//ssl.p.jwpcdn.com/player/plugins/freewheel/v/2.2.11/freewheel.js",gapro:"//ssl.p.jwpcdn.com/player/plugins/gapro/v/2.1.5/gapro.js"}[t];return n?r+n:""}function s(t,e,r){e&&(t[e.client||o(r)]=e,delete e.client)}function u(t){return V||(V=function(t){var e,n=t.get("controls"),i=l(),a=function(t,e){var r=t.get("playlist");if(Array.isArray(r)&&r.length)for(var n=Object(D.f)(t.get("item"),r.length),i=Object(D.c)(Object(I.a)(r[n]),t),a=0;a<i.length;a++)for(var o=i[a],s=t.getProviders(),u=0;u<M.a.length;u++){var l=M.a[u];if(s.providerSupports(l,o))return l.name===e}return!1}(t,"html5");return U.OS.tizen?c():n&&i&&a?(e=r.e(8).then(function(){r(162);var t=r(71)["default"];return N.a.controls=r(69)["default"],Object(F.a)(r(166)["default"]),t}.bind(null,r))["catch"](Object(P.b)(B.v+105)),P.a.html5=e,e):n&&a?function(){var t=r.e(6).then(function(){var t=r(71)["default"];return N.a.controls=r(69)["default"],Object(F.a)(r(166)["default"]),t}.bind(null,r))["catch"](Object(P.b)(B.v+104));return P.a.html5=t,t}():n&&i?r.e(7).then(function(){r(162);var t=r(71)["default"];return N.a.controls=r(69)["default"],t}.bind(null,r))["catch"](Object(P.b)(B.v+103)):n?r.e(5).then(function(){var t=r(71)["default"];return N.a.controls=r(69)["default"],t}.bind(null,r))["catch"](Object(P.b)(B.v+102)):c()}(t)),V}function l(){var t=window.IntersectionObserverEntry;return!(t&&"IntersectionObserver"in window&&"intersectionRatio"in t.prototype)}function c(){return(l()?r.e(9).then(function(){return r(162)}.bind(null,r))["catch"](Object(P.b)(B.v+120)):Promise.resolve()).then(P.d)}function d(t){var e=t.get("playlist");return new Promise(function(r,n){if("string"!=typeof e){var i=t.get("feedData")||{};return f(t,e,i),r()}var a=new K.a;a.on(H.eb,function(e){var n=e.playlist;delete e.playlist,f(t,n,e),r()}),a.on(H.w,function(e){f(t,[],{}),n(Object(B.B)(e,B.w))}),a.load(e)})}function f(t,e,r){var n=t.attributes;n.playlist=Object(D.a)(e),n.feedData=r}function h(t){return t.attributes._destroyed}function p(t){return m(t)?Promise.resolve():d(t).then(function(){if(t.get("drm")||Object(W.b)(t.get("playlist")))return Object(W.d)(t.get("edition"))}).then(function(){return d(e=t).then(function(){if(!h(e)){var t=Object(D.b)(e.get("playlist"),e);e.attributes.playlist=t;try{Object(D.e)(t)}catch(t){throw t.code+=B.w,t}var r=e.getProviders(),n=Object(D.f)(e.get("item"),t.length),i=r.choose(t[n].sources[0]),a=i.provider,o=i.name;return"function"==typeof a?a:P.a.html5&&"html5"===o?P.a.html5:r.load(o)["catch"](function(t){throw Object(B.B)(t,B.x)})}});var e})}function g(t,e){var r=[v(t),Y(t,e)];return m(t)||r.push(Promise.resolve()),Promise.all(r)}function v(t){var e=t.attributes,r=e.error;if(r&&r.code===O.a){var n=e.pid,i=e.ph,a=new O.b(e.key);if(i>0&&i<4&&n&&a.duration()>-7776e6)return new z.a("//content.jwplatform.com/libraries/"+n+".js").load().then(function(){var t=window.jwplayer.defaults.key,r=new O.b(t);r.error()||r.token()!==a.token()||(e.key=t,e.edition=r.edition(),e.error=r.error())})["catch"](function(){})}return Promise.resolve()}function m(t){var e=t.get("advertising");return!(!e||!e.outstream)}function b(t,e){e&&e.code&&(e.sourceError&&console.error(e.sourceError),console.error(B.t.logMessage(e.code)))}function y(t){t&&t.code&&console.warn(B.t.logMessage(t.code))}function w(t,e){if(!document.body.contains(t.currentContainer)){var r=document.getElementById(t.get("id"));r&&(t.currentContainer=r)}t.currentContainer.parentElement&&t.currentContainer.parentElement.replaceChild(e,t.currentContainer),t.currentContainer=e}var T=r(0),k=r(55),j=r(50),E=r(19),_=r(10),S=r(51),O=r(25),C=r(21),A=r(67),x=r.n(A),R=r(66),L=function(t,e){var u,l,c,d=Object(j.b)(t,e),f=d.key||S["default"].key,h=new O.b(f),p=h.edition()
;if("free"===h.edition()&&(d=Object(T.j)({skin:{active:"#ff0046",timeslider:{progress:"none"}},logo:{position:"control-bar",file:x.a}},j.a,Object(T.D)(d,["analytics","aspectratio","base","file","height","playlist","sources","width"]))),d.key=f,d.edition=p,d.error=h.error(),d.generateSEOMetadata=d.generateSEOMetadata||!1,"unlimited"===p){var g=Object(E.getScriptPath)("jwplayer.js");if(!g)throw new Error("Error setting up player: Could not locate jwplayer.js script tag");r.p=g}if(d.flashplayer=function(t){var e=t.flashplayer;return e||(e=(Object(E.getScriptPath)("jwplayer.js")||t.base)+"jwplayer.flash.swf"),"http:"===window.location.protocol&&(e=e.replace(/^https/,"http")),e}(d),d.related=function(t){var e=Object(C.a)(t.edition),r=t.related,n=!e("discovery")||r!==Object(r),i=!r||"none"!==r.displayMode,a=r||{},o=void 0===a.oncomplete?"none":a.oncomplete,s=a.autoplaytimer;!1===o||t.repeat?o="hide":"none"===o&&(s=0);var u="autoplay"===o&&s<=0||"none"===o;return Object(T.j)({},r,{disableRelated:n,showButton:i,oncomplete:o,autoplaytimer:s,shouldAutoAdvance:u})}(d),d.ab&&(d.ab=function(t){var e=t.ab;return e.clone&&(e=e.clone()),Object.keys(e.tests).forEach(function(r){e.tests[r].forEach(function(e){e.addConfig&&e.addConfig(t,e.selection)})}),e}(d)),d.plugins=function(t){var e=Object(T.j)({},t.plugins),r=Object(C.a)(t.edition);if(r("ads")){var n=Object(T.j)({},t.advertising),i=n.client;if(i)e[o(i,t.__ab_jwIMA)||i]=n,delete n.client;n.bids&&s(e,n.bids,"bidding")}if(r("jwpsrv")){var a=t.analytics;a!==Object(a)&&(a={}),s(e,a,"jwpsrv")}return s(e,t.ga,"gapro"),e}(d),u=d.playlist,Object(T.x)(u)&&u.indexOf("__CONTEXTUAL__")>-1&&(d.playlist=function(t,e){var r=(t.querySelector("title")||{}).textContent,i=n(t,'meta[property="og:title"]'),a=encodeURIComponent(i||r||""),o=n(t,'meta[property="og:description"]')||n(t,'meta[name="description"]');return o&&(a+="&page_description="+encodeURIComponent(o)),e.replace("__CONTEXTUAL__",a)}(document,d.playlist),d.contextual=!0),Object(_.isFileProtocol)()){var v=d,m=v.playlist,b=v.related;i(m)&&(d.playlist=a(m)),b&&i(b.file)&&(b.file=a(b.file))}return d.__abSendDomainToFeeds&&(c=d.playlist,/\.jwplatform.com|\.jwplayer.com/.test(c))&&(d.playlist=(l=d.playlist,l+=(-1!==l.indexOf("?")?"&":"?")+"page_domain="+encodeURIComponent(Object(R.a)()))),d},P=r(6),I=r(28),D=r(22),M=r(17),F=r(13),N=r(38),B=r(1),U=r(4),V=null,G=r(24),H=r(3),K=r(59),z=r(23),q=r(14),W=r(36),Y=function(t,e){return/isAMP/.test(document.location.search)?r.e(1).then(function(){var n=new(0,r(177)["default"])(e);return t.attributes.ampController=n,Promise.resolve()}.bind(null,r))["catch"](Object(P.b)(B.v+130)):Promise.resolve()},X=function(t){var e=t.get("skin")?t.get("skin").url:void 0;return"string"!=typeof e||function(t){for(var e=document.styleSheets,r=0,n=e.length;r<n;r++)if(e[r].href===t)return!0;return!1}(e)?Promise.resolve():new z.a(e,!0).load()["catch"](function(t){return t})},Q=function(t){var e=t.attributes,r=e.language,n=e.base,i=e.setupConfig,a=e.intl,o=Object(q.c)(i,a,r);return!Object(q.h)(r)||Object(q.f)(o)?Promise.resolve():new Promise(function(i){return Object(q.i)(n,r).then(function(r){var n=r.response;if(!h(t)){if(!n)throw new B.t(null,B.h);e.localization=Object(q.a)(n,o),i()}})["catch"](function(t){i(t.code===B.h?t:Object(B.B)(t,B.g))})})},J=function(t){var e;this.start=function(r){var n=Object(G.a)(t,r),i=Promise.all([u(t),n,p(t),g(t,r),X(t),Q(t)]),a=new Promise(function(t,r){e=setTimeout(function(){r(new B.t(B.n,B.z))},6e4);var n=function(){clearTimeout(e),setTimeout(t,6e4)};i.then(n)["catch"](n)});return Promise.race([i,a])["catch"](function(t){var e=function(){throw t};return n.then(e)["catch"](e)}).then(function(t){return function(t){if(!t||!t.length)return{core:null,warnings:[]};var e=t.reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t&&t.code});return{core:t[0],warnings:e}}(t)})},this.destroy=function(){clearTimeout(e),t.set("_destroyed",!0),t=null}},Z=r(41),$=r(30),tt=r(12),et=r(16),rt={removeItem:function(){}};try{rt=window.localStorage||rt}catch(t){}var nt=function(){function t(t,e){this.namespace=t,this.items=e}var e=t.prototype;return e.getAllItems=function(){var t=this;return this.items.reduce(function(e,r){var n=rt[t.namespace+"."+r];return n&&(e[r]="captions"!==r?Object(tt.serialize)(n):JSON.parse(n)),e},{})},e.track=function(t){var e=this;this.items.forEach(function(r){t.on("change:"+r,function(t,n){try{"captions"===r&&(n=JSON.stringify(n)),rt[e.namespace+"."+r]=n}catch(t){et.a.debug&&console.error(t)}})})},e.clear=function(){var t=this;this.items.forEach(function(e){rt.removeItem(t.namespace+"."+e)})},t}(),it=r(54),at=r(49),ot=r(9),st=r(42),ut=r(60),lt=r(61),ct=r(34);r(68),r(70),r.d(e,"b",function(){return w});var dt=function(t){this._events={},this.modelShim=new it.a,this.modelShim._qoeItem=new $.a,this.mediaShim={},this.setup=new J(this.modelShim),this.currentContainer=this.originalContainer=t,this.apiQueue=new k.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};Object(T.j)(dt.prototype,{on:ot.a.on,once:ot.a.once,off:ot.a.off,trigger:ot.a.trigger,init:function(t,e){var r=this,n=this.modelShim,i=new nt("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),a=i&&i.getAllItems();n.attributes=n.attributes||{},Object(T.j)(this.mediaShim,at.a);var o=t,s=L(Object(T.j)({},t),a);s.id=e.id,s.setupConfig=o,Object(T.j)(n.attributes,s,at.b),n.getProviders=function(){return new Z.a(s)},n.setProvider=function(){};var u=Object(ut.b)();n.get("backgroundLoading")||(u=Object(lt.a)(u.getPrimedElement(),u));var l=new ct.a(Object(ct.b)(this.originalContainer)).once("gesture",function(){u.prime(),r.preload(),l.destroy()});return n.on("change:errorEvent",b),this.setup.start(e).then(function(t){var a=t.core;if(!a)throw Object(B.B)(null,B.y);if(r.setup){r.on(H.wb,y),t.warnings.forEach(function(t){r.trigger(H.wb,t)});var o=r.modelShim.clone();if(o.error)throw o.error;var s=r.apiQueue.queue.slice(0);r.apiQueue.destroy(),Object(T.j)(r,a.prototype),r.setup(o,e,r.originalContainer,r._events,s,u);var l=r._model;return n.off("change:errorEvent",b),l.on("change:errorEvent",b),i.track(l),r.updatePlaylist(l.get("playlist"),l.get("feedData"))["catch"](function(t){var e=t.code===B.a?B.u:B.w;throw Object(B.B)(t,e)})}}).then(function(){r.setup&&r.playerReady()})["catch"](function(t){r.setup&&function(t,e,r){Promise.resolve().then(function(){var n=Object(B.C)(B.s,B.A,r),i=t._model||t.modelShim;n.message=n.message||i.get("localization").errors[n.key],delete n.key;var a=i.get("contextual");if(!a){var o=Object(st.a)(t,n);st.a.cloneIcon&&o.querySelector(".jw-icon").appendChild(st.a.cloneIcon("error")),w(t,o)}i.set("errorEvent",n),i.set("state",H.mb),t.trigger(H.jb,n),a&&e.remove()})}(r,e,t)})},playerDestroy:function(){this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.currentContainer!==this.originalContainer&&w(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.setup=null},getContainer:function(){return this.currentContainer},get:function(t){if(this.modelShim)return t in this.mediaShim?this.mediaShim[t]:this.modelShim.get(t)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(t){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=t)},getConfig:function(){return Object(T.j)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),e.a=dt},function(t,e,r){"use strict";function n(t){return"hls"===t.type&&i.OS.android?!1!==t.androidhls&&!i.Browser.firefox&&parseFloat(i.OS.version.version)>=4.4:null}r.d(e,"a",function(){return n});var i=r(4)},function(t,e,r){"use strict";function n(){var t,e,r=window.location.host;if(window.top!==window.self){r=(document.referrer?(t=document.referrer,(e=document.createElement("a")).href=t,e):{}).host;try{r=r||window.top.location.host}catch(t){}}return r}r.d(e,"a",function(){return n})},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 29.3" class="jw-svg-icon jw-svg-icon-watermark" focusable="false"><path d="M37,16.68c0,2.4-.59,3.43-2.4,3.43a5.75,5.75,0,0,1-3.38-1.23v3.58a7.39,7.39,0,0,0,3.67,1c3.67,0,5.73-1.91,5.73-6.32V5.86H37Z"></path><polygon points="58.33 17.61 55.39 6.01 52.55 6.01 49.52 17.61 46.73 6.01 43.06 6.01 47.56 23.29 50.89 23.29 53.92 11.88 56.96 23.29 60.24 23.29 64.74 6.01 61.17 6.01 58.33 17.61"></polygon><path d="M73.84,6H67.47V23.29h2.2v-6.9h4.17c3.47,0,5.77-1.77,5.77-5.19S77.31,6,73.84,6Zm0,8.47H69.72V8h4.12c2.3,0,3.57,1.22,3.62,3.28C77.46,13.21,76.19,14.48,73.84,14.48Z"></path><path d="M99.2,6l-6,15.27H85V6H82.8V23.29H94.7l2-5.19h7.09l2,5.19H108L101.26,6ZM97.39,16.14l2.84-7.39L103,16.14Z"></path><polygon points="113.98 14.18 108.99 6.01 106.59 6.01 112.81 16.14 112.81 23.29 115.01 23.29 115.01 16.14 121.33 6.01 118.98 6.01 113.98 14.18"></polygon><polygon points="123.14 23.29 134.1 23.29 134.1 21.28 125.29 21.28 125.29 15.41 133.32 15.41 133.32 13.45 125.29 13.45 125.29 7.97 134.1 7.97 134.1 6.01 123.14 6.01 123.14 23.29"></polygon><path d="M144.86,15.85c2.74-.39,4.41-2,4.41-4.85,0-3.23-2.26-5-5.73-5h-6.32V23.29h2.22V16h3.08l4.94,7.29H150Zm-5.42-1.71V8h4.06c2.3,0,3.62,1.17,3.62,3.08s-1.32,3.09-3.62,3.09Z"></path><path d="M27.63.09a1,1,0,0,0-1.32.48c-.24.51-6.35,15.3-6.35,15.3-.2.46-.33.41-.33-.07,0,0,0-5.15,0-9.39,0-2.31-1.12-3.61-2.73-3.88A3.12,3.12,0,0,0,14.83,3a4.57,4.57,0,0,0-1.5,1.79c-.48.94-3.47,9.66-3.47,9.66-.16.46-.31.44-.31,0,0,0-.09-3.76-.18-4.64-.13-1.36-.44-3.59-2.2-3.7S4.77,8,4.36,9.24c-.29.84-1.65,5.35-1.65,5.35l-.2.46h0c-.06.24-.17.24-.24,0l-.11-.42Q2,14,1.74,13.31a1.71,1.71,0,0,0-.33-.66.83.83,0,0,0-.88-.22.82.82,0,0,0-.53.69,4.22,4.22,0,0,0,.07.79,29,29,0,0,0,1,4.6,1.31,1.31,0,0,0,1.8.66,3.43,3.43,0,0,0,1.24-1.81c.33-.81,2-5.48,2-5.48.18-.46.31-.44.29,0,0,0-.09,4.57-.09,6.64a13.11,13.11,0,0,0,.28,2.93,2.41,2.41,0,0,0,.82,1.27,2,2,0,0,0,1.41.4,2,2,0,0,0,.7-.24,3.15,3.15,0,0,0,.79-.71,12.52,12.52,0,0,0,1.26-2.11c.81-1.6,2.92-6.58,2.92-6.58.2-.46.33-.41.33.07,0,0-.26,8.36-.26,11.55a6.39,6.39,0,0,0,.44,2.33,2.8,2.8,0,0,0,1.45,1.61A2.57,2.57,0,0,0,18.79,29a3.76,3.76,0,0,0,1.28-1.32,15.12,15.12,0,0,0,1.07-2.31c.64-1.65,1.17-3.33,1.7-5s5-17.65,5.28-19a1.79,1.79,0,0,0,0-.46A1,1,0,0,0,27.63.09Z"></path></svg>'},function(t,e,r){"use strict";function n(t,e){for(var r=e.length;r--;){var n=e[r];if(t.target===n.getContainer()){n.setIntersection(t);break}}}function i(){f.forEach(function(t){var e=t.model;if(!(e.get("audioMode")||!e.get("controls")||e.get("visibility")<.75)){var r=e.get("state"),n=Object(d.f)();!n&&"paused"===r&&t.api.getFullscreen()?t.api.setFullscreen(!1):"playing"===r&&t.api.setFullscreen(n)}})}function a(){f.forEach(function(t){t.model.set("activeTab",Object(l.a)())})}function o(t,e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}function s(t){p.forEach(function(e){e(t)})}var u,l=r(62),c=r(4),d=r(8),f=[],h=[],p=[],g={},v="screen"in window&&"orientation"in window.screen,m=c.OS.android&&c.Browser.chrome,b=!1;document.addEventListener("visibilitychange",a),document.addEventListener("webkitvisibilitychange",a),m&&v&&window.screen.orientation.addEventListener("change",i),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",a),document.removeEventListener("webkitvisibilitychange",a),window.removeEventListener("scroll",s),m&&v&&window.screen.orientation.removeEventListener("change",i)}),e.a={add:function(t){f.push(t)},remove:function(t){o(t,f)},addScrollHandler:function(t){b||(b=!0,window.addEventListener("scroll",s)),p.push(t)},removeScrollHandler:function(t){var e=p.indexOf(t);-1!==e&&p.splice(e,1)},addWidget:function(t){h.push(t)},removeWidget:function(t){o(t,h)},size:function(){return f.length},observe:function(t){var e;e=window.IntersectionObserver,u||(u=new e(function(t){if(t&&t.length)for(var e=t.length;e--;){var r=t[e];n(r,f),n(r,h)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),g[t.id]||(g[t.id]=!0,u.observe(t))},unobserve:function(t){u&&g[t.id]&&(delete g[t.id],u.unobserve(t))}}},,function(t,e,r){"use strict";function n(){Object(a.a)(l),l=Object(a.b)(function(){u.forEach(function(t){t.view.updateBounds();var e=t.view.model.get("containerWidth");t.resized=t.width!==e,t.width=e}),u.forEach(function(t){t.contractElement.scrollLeft=2*t.width}),u.forEach(function(t){Object(s.d)(t.expandChild,{width:t.width+1}),t.resized&&t.view.model.get("visibility")&&t.view.updateStyles()}),u.forEach(function(t){t.expandElement.scrollLeft=t.width+1}),u.forEach(function(t){t.resized&&t.view.checkResized()})})}r.d(e,"a",function(){return c});var i=r(0),a=r(48),o=r(8),s=r(11),u=[],l=-1,c=function(){function t(t,e,r){var a={display:"block",position:"absolute",top:0,left:0},l={width:"100%",height:"100%"},c=Object(o.e)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),d=c.firstChild,f=d.firstChild,h=d.nextSibling;Object(s.d)([d,h],Object(i.j)({overflow:"auto"},a,l)),Object(s.d)(c,Object(i.j)({},a,l)),this.expandElement=d,this.expandChild=f,this.contractElement=h,this.hiddenElement=c,this.element=t,this.view=e,this.model=r,this.width=0,this.resized=!1,t.firstChild?t.insertBefore(c,t.firstChild):t.appendChild(c),t.addEventListener("scroll",n,!0),u.push(this),n()}return t.prototype.destroy=function(){if(this.view){var t=u.indexOf(this);-1!==t&&u.splice(t,1),this.element.removeEventListener("scroll",n,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},t}()}])["default"],
/*!
   JW Player version 8.18.2
   Copyright (c) 2020, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.18.2/notice.txt
*/
(window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[]).push([[4],{128:function(t,e,r){"use strict";var n=r(11),i=r(8),a=r(4),o=function(){function t(t){this.model=t.player,this.truncated=t.get("__ab_truncated")&&!a.Browser.ie}var e=t.prototype;return e.hide=function(){Object(n.d)(this.el,{display:"none"})},e.show=function(){Object(n.d)(this.el,{display:""})},e.setup=function(t){if(this.el=t,this.el){var e=this.el.getElementsByTagName("div");this.title=e[0],this.description=e[1],this.truncated&&this.el.classList.add("jw-ab-truncated"),this.model.on("change:logoWidth",this.update,this),this.model.change("playlistItem",this.playlistItem,this)}},e.update=function(t){var e={},r=t.get("logo");if(r){var i=1*parseInt((""+r.margin).replace("px","")),a=t.get("logoWidth")+(isNaN(i)?0:i+10);"top-left"===r.position?e.paddingLeft=a:"top-right"===r.position&&(e.paddingRight=a)}Object(n.d)(this.el,e)},e.playlistItem=function(t,e){if(e)if(t.get("displaytitle")||t.get("displaydescription")){var r="",n="";e.title&&t.get("displaytitle")&&(r=e.title),e.description&&t.get("displaydescription")&&(n=e.description),this.updateText(r,n)}else this.hide()},e.updateText=function(t,e){this.title&&this.description&&(Object(i.q)(this.title,t),Object(i.q)(this.description,e),this.title.firstChild||this.description.firstChild?this.show():this.hide())},e.element=function(){return this.el},t}();e.a=o},147:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r(8),i=r(4),a=r(48),o=r(60),s=r(79),u=function(){function t(t,e,r,n,i){this.hoverElement=e,this.item=r,this.model=n,this.onView=i,this.type=t,this.container=null,this.played=!1,this.seeking=!1,this.completed=!1,this.src=r.videoThumbnail,this.video=Object(o.a)({"class":"jw-reset jw-video-thumbnail"}),this.video.muted=!0,this.onPlay=this.onPlay.bind(this),this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onError=this.onError.bind(this)}var e=t.prototype;return e.adapt=function(){var t=this.video;switch(this.type){case"overlayItem":this.container=this.hoverElement.querySelector(".jw-related-item-poster"),this.container&&this.container.parentElement&&!this.hoverElement.className.match(/jw-related-item-next-up/)&&(this.hoverElement=this.container.parentElement);break;case"widgetItem":this.container=this.hoverElement.querySelector(".jw-related-shelf-item-image");break;case"shelfItem":break;case"posterItem":t.setAttribute("loop","")}this.container||(this.container=Object(n.e)('<div class="jw-video-thumbnail-generated"></div>'))},e.onPlay=function(){var t=this.video;return this.src?(Object(n.a)(this.video,"jw-video-thumbnail-visible"),t&&!t.src&&(t.src=this.src,t.load()),this.completed&&(t.currentTime=0,Object(n.o)(t,"jw-video-thumbnail-completed"),this.completed=!1),i.OS.iOS?Promise.resolve(this.seekPlay()):this.asyncPlay()):this.destroy()},e.onPause=function(){Object(n.o)(this.video,"jw-video-thumbnail-visible"),this.seeking=!1,this.video.pause()},e.onEnded=function(){"posterItem"!==this.type&&Object(n.a)(this.video,"jw-video-thumbnail-completed"),this.completed=!0,this.seeking=!1},e.onFirstFrame=function(){this.played=!0,"function"==typeof this.onView&&this.onView(this.item)},e.onError=function(){this.destroy()},e.onViewPoster=function(t,e){if(e)return this.onPlay();this.onPause()},e.asyncPlay=function(){var t=this,e=this.video;return(e.play()||Object(s.a)(e)).then(function(){t.played||t.onFirstFrame()})["catch"](function(e){if(20!==e.code)return 9!==e.code&&"Failed to load because no supported source was found."!==e.message?t.seekPlay():void t.destroy()})},e.seekPlay=function(){var t=this,e=this.video,r=e.hasAttribute("loop"),n=this.seek=function(i){if(t.seeking){if(!e.duration)return Object(a.b)(n);o||(o=i);var s=(i-o)/1e3;r?s%=e.duration:s=Math.min(s,e.duration),e.currentTime=s,e.duration>s||r?Object(a.b)(n):t.onEnded()}},i=this.handleSeek=function(){t.onFirstFrame(),t.video.removeEventListener("seeked",i)},o=0;this.played||this.video.addEventListener("seeked",i),this.seeking=!0,Object(a.b)(n)},e.addEventListeners=function(){"posterItem"===this.type?(this.model.once("change:state",this.destroy,this),this.model.on("change:viewable",this.onViewPoster,this),this.model.get("viewable")&&this.onViewPoster()):(i.OS.mobile||(this.hoverElement.addEventListener("mouseenter",this.onPlay),this.hoverElement.addEventListener("mouseleave",this.onPause)),this.video.addEventListener("ended",this.onEnded)),this.video.addEventListener("error",this.onError)},e.removeEventListeners=function(){"posterItem"===this.type?(this.model.off("change: state",this.destroy,this),this.model.off("change:viewable",this.onViewPoster,this)):(i.OS.mobile||(this.hoverElement.removeEventListener("mouseenter",this.onPlay),this.hoverElement.removeEventListener("mouseleave",this.onPause)),this.video.removeEventListener("ended",this.onEnded)),this.video.removeEventListener("error",this.onError),this.handleSeek&&this.video.removeEventListener("seeked",this.handleSeek)},e.init=function(){this.adapt(this.hoverElement.className),this.addEventListeners(),Object(n.a)(this.container,"jw-video-thumbnail-container"),"widgetItem"===this.type?Object(n.m)(this.container,this.video):this.container.appendChild(this.video),this.container.parentElement&&"posterItem"!==this.type?"shelfItem"===this.type&&Object(n.m)(this.hoverElement,this.container):this.hoverElement.appendChild(this.container)},e.isDestroyed=function(){return!this.video},e.destroy=function(){this.isDestroyed()||(this.removeEventListeners(),this.seeking=!1,this.seek&&Object(a.a)(this.seek),this.onPause(),this.video.removeAttribute("src"),this.video.load(),this.container.removeChild(this.video),this.video=null,this.container.className.match(/jw-video-thumbnail-generated/)?this.container.parentNode.removeChild(this.container):Object(n.o)(this.container,"jw-video-thumbnail-container"),this.container=null)},t}()},148:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){if(t&&t.length){var e=t.filter(function(t){return t.type&&t.type.match(/video/)});if(e&&e.length)return e}return!1}},149:function(t,e,r){"use strict";function n(t,e,r){var n=function(){try{i=window.localStorage.jwplayerLocalId}catch(t){}return i=i||Object(a.b)(12)}();t.forEach(function(t){var i=t.variations;if(i&&i[e]){i.selected=i.selected||{};var a=function(t,e){for(var r=function(t){for(var e=1794770992,r=0,n=t.length;r<n;r++)e^=t.charCodeAt(r),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}(t)%2520,n=e.reduce(function(t,e){return t+e.weight},0),i=0,a=0;a<e.length;a++){var o=e[a];if((i+=2520*o.weight/n)>r)return o}}(n,i[e]),o=a[r];o&&(t[r]=o,i.selected[e]=a)}})}r.d(e,"a",function(){return n});var i,a=r(53)},150:function(t,e,r){var n=r(151);"string"==typeof n&&(n=[["all-players",n,""]]),r(40).style(n,"all-players"),n.locals&&(t.exports=n.locals)},151:function(t,e,r){(t.exports=r(75)(!1)).push([t.i,'.jw-reset{text-align:left;direction:ltr}.jw-reset-text,.jw-reset{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Arial,Helvetica,sans-serif;font-size:1em;line-height:1em;list-style:none;text-transform:none;vertical-align:baseline;border:0;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}body .jw-error,body .jwplayer.jw-state-error{height:100%;width:100%}.jw-title{position:absolute;top:0}.jw-background-color{background:rgba(0,0,0,0.4)}.jw-text{color:rgba(255,255,255,0.8)}.jw-knob{color:rgba(255,255,255,0.8);background-color:#fff}.jw-button-color{color:rgba(255,255,255,0.8)}:not(.jw-flag-touch) .jw-button-color:not(.jw-logo-button):focus,:not(.jw-flag-touch) .jw-button-color:not(.jw-logo-button):hover{color:#fff}.jw-toggle{color:#fff}.jw-toggle.jw-off{color:rgba(255,255,255,0.8)}.jw-toggle.jw-off:focus{color:#fff}.jw-toggle:focus{outline:none}:not(.jw-flag-touch) .jw-toggle.jw-off:hover{color:#fff}.jw-rail{background:rgba(255,255,255,0.3)}.jw-buffer{background:rgba(255,255,255,0.3)}.jw-progress{background:#f2f2f2}.jw-time-tip,.jw-volume-tip{border:0}.jw-slider-volume.jw-volume-tip.jw-background-color.jw-slider-vertical{background:none}.jw-skip{padding:.5em;outline:none}.jw-skip .jw-skiptext,.jw-skip .jw-skip-icon{color:rgba(255,255,255,0.8)}.jw-skip.jw-skippable:hover .jw-skip-icon,.jw-skip.jw-skippable:focus .jw-skip-icon{color:#fff}.jw-icon-cast google-cast-launcher{--connected-color:#fff;--disconnected-color:rgba(255,255,255,0.8)}.jw-icon-cast google-cast-launcher:focus{outline:none}.jw-icon-cast google-cast-launcher.jw-off{--connected-color:rgba(255,255,255,0.8)}.jw-icon-cast:focus google-cast-launcher{--connected-color:#fff;--disconnected-color:#fff}.jw-icon-cast:hover google-cast-launcher{--connected-color:#fff;--disconnected-color:#fff}.jw-nextup-container{bottom:2.5em;padding:5px .5em}.jw-nextup{border-radius:0}.jw-color-active{color:#fff;stroke:#fff;border-color:#fff}:not(.jw-flag-touch) .jw-color-active-hover:hover,:not(.jw-flag-touch) .jw-color-active-hover:focus{color:#fff;stroke:#fff;border-color:#fff}.jw-color-inactive{color:rgba(255,255,255,0.8);stroke:rgba(255,255,255,0.8);border-color:rgba(255,255,255,0.8)}:not(.jw-flag-touch) .jw-color-inactive-hover:hover{color:rgba(255,255,255,0.8);stroke:rgba(255,255,255,0.8);border-color:rgba(255,255,255,0.8)}.jw-option{color:rgba(255,255,255,0.8)}.jw-option.jw-active-option{color:#fff;background-color:rgba(255,255,255,0.1)}:not(.jw-flag-touch) .jw-option:hover{color:#fff}.jwplayer{width:100%;font-size:16px;position:relative;display:block;min-height:0;overflow:hidden;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none}.jwplayer *{box-sizing:inherit}.jwplayer.jw-tab-focus:focus{outline:solid 2px #4d90fe}.jwplayer.jw-flag-aspect-mode{height:auto !important}.jwplayer.jw-flag-aspect-mode .jw-aspect{display:block}.jwplayer .jw-aspect{display:none}.jwplayer .jw-swf{outline:none}.jw-media,.jw-preview{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jw-media{overflow:hidden;cursor:pointer}.jw-plugin{position:absolute;bottom:66px}.jw-breakpoint-7 .jw-plugin{bottom:132px}.jw-plugin .jw-banner{max-width:100%;opacity:0;cursor:pointer;position:absolute;margin:auto auto 0;left:0;right:0;bottom:0;display:block}.jw-preview,.jw-captions,.jw-title{pointer-events:none}.jw-media,.jw-logo{pointer-events:all}.jw-wrapper{background-color:#000;position:absolute;top:0;left:0;right:0;bottom:0}.jw-hidden-accessibility{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.jw-contract-trigger::before{content:"";overflow:hidden;width:200%;height:200%;display:block;position:absolute;top:0;left:0}.jwplayer .jw-media video{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;background:transparent;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-focus-ring-color:rgba(0,0,0,0);outline:none}.jwplayer .jw-media video::-webkit-media-controls-start-playback-button{display:none}.jwplayer.jw-stretch-uniform .jw-media video{object-fit:contain}.jwplayer.jw-stretch-none .jw-media video{object-fit:none}.jwplayer.jw-stretch-fill .jw-media video{object-fit:cover}.jwplayer.jw-stretch-exactfit .jw-media video{object-fit:fill}.jw-preview{position:absolute;display:none;opacity:1;visibility:visible;width:100%;height:100%;background:#000 no-repeat 50% 50%}.jwplayer .jw-preview,.jw-error .jw-preview{background-size:contain}.jw-stretch-none .jw-preview{background-size:auto auto}.jw-stretch-fill .jw-preview{background-size:cover}.jw-stretch-exactfit .jw-preview{background-size:100% 100%}.jw-title{display:none;padding-top:20px;width:100%;z-index:1}.jw-title-primary,.jw-title-secondary{color:#fff;padding-left:20px;padding-right:20px;padding-bottom:.5em;overflow:hidden;text-overflow:ellipsis;direction:unset;white-space:nowrap;width:100%}.jw-title-primary{font-size:1.625em}.jw-breakpoint-2 .jw-title-primary,.jw-breakpoint-3 .jw-title-primary{font-size:1.5em}.jw-flag-small-player .jw-title-primary{font-size:1.25em}.jw-breakpoint-0 .jw-ab-truncated .jw-title-primary,.jw-breakpoint-1 .jw-ab-truncated .jw-title-primary,.jw-breakpoint-2 .jw-ab-truncated .jw-title-primary{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;padding-bottom:0;margin-bottom:.5em;white-space:pre-wrap;line-height:1.2}.jw-breakpoint-1 .jw-ab-truncated .jw-title-primary{font-size:1.25em}.jw-breakpoint-0 .jw-ab-truncated .jw-title-primary{font-size:1em}.jw-flag-small-player .jw-title-secondary,.jw-breakpoint-0 .jw-ab-truncated .jw-title-secondary,.jw-breakpoint-1 .jw-ab-truncated .jw-title-secondary,.jw-breakpoint-2 .jw-ab-truncated .jw-title-secondary,.jw-title-secondary:empty{display:none}.jw-captions{position:absolute;width:100%;height:100%;text-align:center;display:none;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-decoration:none;pointer-events:none;overflow:hidden;top:0}.jw-captions.jw-captions-enabled{display:block}.jw-captions-window{display:none;padding:.25em;border-radius:.25em}.jw-captions-window.jw-captions-window-active{display:inline-block}.jw-captions-text{display:inline-block;color:#fff;background-color:#000;word-wrap:normal;word-break:normal;white-space:pre-line;font-style:normal;font-weight:normal;text-align:center;text-decoration:none}.jw-text-track-display{font-size:inherit;line-height:1.5}.jw-text-track-cue{background-color:rgba(0,0,0,0.5);color:#fff;padding:.1em .3em}.jwplayer video::-webkit-media-controls{display:none;justify-content:flex-start}.jwplayer video::-webkit-media-text-track-display{min-width:-webkit-min-content}.jwplayer video::cue{background-color:rgba(0,0,0,0.5)}.jwplayer video::-webkit-media-controls-panel-container{display:none}.jwplayer:not(.jw-flag-controls-hidden):not(.jw-state-playing) .jw-captions,.jwplayer.jw-flag-media-audio.jw-state-playing .jw-captions,.jwplayer.jw-state-playing:not(.jw-flag-user-inactive):not(.jw-flag-controls-hidden) .jw-captions{max-height:calc(100% - 60px)}.jwplayer:not(.jw-flag-controls-hidden):not(.jw-state-playing):not(.jw-flag-ios-fullscreen) video::-webkit-media-text-track-container,.jwplayer.jw-flag-media-audio.jw-state-playing:not(.jw-flag-ios-fullscreen) video::-webkit-media-text-track-container,.jwplayer.jw-state-playing:not(.jw-flag-user-inactive):not(.jw-flag-controls-hidden):not(.jw-flag-ios-fullscreen) video::-webkit-media-text-track-container{max-height:calc(100% - 60px)}.jw-logo{position:absolute;margin:20px;cursor:pointer;pointer-events:all;background-repeat:no-repeat;background-size:contain;top:auto;right:auto;left:auto;bottom:auto;outline:none}.jw-logo.jw-tab-focus:focus{outline:solid 2px #4d90fe}.jw-flag-audio-player .jw-logo{display:none}.jw-logo-top-right{top:0;right:0}.jw-logo-top-left{top:0;left:0}.jw-logo-bottom-left{left:0}.jw-logo-bottom-right{right:0}.jw-logo-bottom-left,.jw-logo-bottom-right{bottom:44px;transition:bottom 150ms cubic-bezier(0, .25, .25, 1)}.jw-state-idle .jw-logo{z-index:1}.jw-state-setup .jw-wrapper{background-color:inherit}.jw-state-setup .jw-logo,.jw-state-setup .jw-controls,.jw-state-setup .jw-controls-backdrop{visibility:hidden}span.jw-break{display:block}body .jw-error,body .jwplayer.jw-state-error{background-color:#333;color:#fff;font-size:16px;display:table;opacity:1;position:relative}body .jw-error .jw-display,body .jwplayer.jw-state-error .jw-display{display:none}body .jw-error .jw-media,body .jwplayer.jw-state-error .jw-media{cursor:default}body .jw-error .jw-preview,body .jwplayer.jw-state-error .jw-preview{background-color:#333}body .jw-error .jw-error-msg,body .jwplayer.jw-state-error .jw-error-msg{background-color:#000;border-radius:2px;display:flex;flex-direction:row;align-items:stretch;padding:20px}body .jw-error .jw-error-msg .jw-icon,body .jwplayer.jw-state-error .jw-error-msg .jw-icon{height:30px;width:30px;margin-right:20px;flex:0 0 auto;align-self:center}body .jw-error .jw-error-msg .jw-icon:empty,body .jwplayer.jw-state-error .jw-error-msg .jw-icon:empty{display:none}body .jw-error .jw-error-msg .jw-info-container,body .jwplayer.jw-state-error .jw-error-msg .jw-info-container{margin:0;padding:0}body .jw-error:not(.jw-flag-audio-player).jw-flag-small-player .jw-error-msg,body .jwplayer.jw-state-error:not(.jw-flag-audio-player).jw-flag-small-player .jw-error-msg,body .jw-error:not(.jw-flag-audio-player).jw-breakpoint-2 .jw-error-msg,body .jwplayer.jw-state-error:not(.jw-flag-audio-player).jw-breakpoint-2 .jw-error-msg{flex-direction:column}body .jw-error:not(.jw-flag-audio-player).jw-flag-small-player .jw-error-msg .jw-error-text,body .jwplayer.jw-state-error:not(.jw-flag-audio-player).jw-flag-small-player .jw-error-msg .jw-error-text,body .jw-error:not(.jw-flag-audio-player).jw-breakpoint-2 .jw-error-msg .jw-error-text,body .jwplayer.jw-state-error:not(.jw-flag-audio-player).jw-breakpoint-2 .jw-error-msg .jw-error-text{text-align:center}body .jw-error:not(.jw-flag-audio-player).jw-flag-small-player .jw-error-msg .jw-icon,body .jwplayer.jw-state-error:not(.jw-flag-audio-player).jw-flag-small-player .jw-error-msg .jw-icon,body .jw-error:not(.jw-flag-audio-player).jw-breakpoint-2 .jw-error-msg .jw-icon,body .jwplayer.jw-state-error:not(.jw-flag-audio-player).jw-breakpoint-2 .jw-error-msg .jw-icon{flex:.5 0 auto;margin-right:0;margin-bottom:20px}.jwplayer.jw-state-error.jw-flag-audio-player .jw-error-msg .jw-break,.jwplayer.jw-state-error.jw-flag-small-player .jw-error-msg .jw-break,.jwplayer.jw-state-error.jw-breakpoint-2 .jw-error-msg .jw-break{display:inline}.jwplayer.jw-state-error.jw-flag-audio-player .jw-error-msg .jw-break:before,.jwplayer.jw-state-error.jw-flag-small-player .jw-error-msg .jw-break:before,.jwplayer.jw-state-error.jw-breakpoint-2 .jw-error-msg .jw-break:before{content:" "}.jwplayer.jw-state-error.jw-flag-audio-player .jw-error-msg{height:100%;width:100%;top:0;position:absolute;left:0;background:#000;-webkit-transform:none;transform:none;padding:4px 16px;z-index:1}.jwplayer.jw-state-error.jw-flag-audio-player .jw-error-msg.jw-info-overlay{max-width:none;max-height:none}body .jwplayer.jw-state-error .jw-title,.jw-state-idle .jw-title,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player):not(.jw-flag-overlay-open-related) .jw-title{display:block}body .jwplayer.jw-state-error .jw-preview,.jw-state-idle .jw-preview,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player):not(.jw-flag-overlay-open-related) .jw-preview{display:block}.jw-state-idle .jw-captions,.jwplayer.jw-state-complete .jw-captions,body .jwplayer.jw-state-error .jw-captions{display:none}.jw-state-idle video::-webkit-media-text-track-container,.jwplayer.jw-state-complete video::-webkit-media-text-track-container,body .jwplayer.jw-state-error video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-fullscreen{width:100% !important;height:100% !important;top:0;right:0;bottom:0;left:0;z-index:1000;margin:0;position:fixed}body .jwplayer.jw-flag-flash-blocked .jw-title{display:block}.jwplayer.jw-flag-controls-hidden .jw-media{cursor:default}.jw-flag-audio-player:not(.jw-flag-flash-blocked) .jw-media{visibility:hidden}.jw-flag-audio-player .jw-title{background:none}.jw-flag-audio-player object{min-height:45px}.jw-flag-floating{background-size:cover;background-color:#000}.jw-flag-floating .jw-wrapper{position:fixed;z-index:2147483647;-webkit-animation:jw-float-to-bottom 150ms cubic-bezier(0, .25, .25, 1) forwards 1;animation:jw-float-to-bottom 150ms cubic-bezier(0, .25, .25, 1) forwards 1;top:auto;bottom:1rem;left:auto;right:1rem;max-width:400px;max-height:400px;margin:0 auto}@media screen and (max-width:480px){.jw-flag-floating .jw-wrapper{width:100%;left:0;right:0}}.jw-flag-floating .jw-wrapper .jw-media{touch-action:none}@media screen and (max-device-width:480px) and (orientation:portrait){.jw-flag-touch.jw-flag-floating .jw-wrapper{-webkit-animation:none;animation:none;top:62px;bottom:auto;left:0;right:0;max-width:none;max-height:none}}.jw-flag-floating .jw-float-icon{pointer-events:all;cursor:pointer;display:none}.jw-flag-floating .jw-float-icon .jw-svg-icon{-webkit-filter:drop-shadow(0 0 1px #000);filter:drop-shadow(0 0 1px #000)}.jw-flag-floating.jw-floating-dismissible .jw-dismiss-icon{display:none}.jw-flag-floating.jw-floating-dismissible.jw-flag-ads .jw-float-icon{display:flex}.jw-flag-floating.jw-floating-dismissible.jw-state-paused .jw-logo,.jw-flag-floating.jw-floating-dismissible:not(.jw-flag-user-inactive) .jw-logo{display:none}.jw-flag-floating.jw-floating-dismissible.jw-state-paused .jw-float-icon,.jw-flag-floating.jw-floating-dismissible:not(.jw-flag-user-inactive) .jw-float-icon{display:flex}.jw-float-icon{display:none;position:absolute;top:3px;right:5px;align-items:center;justify-content:center}@-webkit-keyframes jw-float-to-bottom{from{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes jw-float-to-bottom{from{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.jw-flag-top{margin-top:2em;overflow:visible}.jw-top{height:2em;line-height:2;pointer-events:none;text-align:center;opacity:.8;position:absolute;top:-2em;width:100%}.jw-top .jw-icon{cursor:pointer;pointer-events:all;height:auto;width:auto}.jw-top .jw-text{color:#555}',""])},152:function(t,e,r){var n=r(153);"string"==typeof n&&(n=[["all-players",n,""]]),r(40).style(n,"all-players"),n.locals&&(t.exports=n.locals)},153:function(t,e,r){(t.exports=r(75)(!1)).push([t.i,".jw-flag-outstream.jw-state-complete .jw-controls,.jw-flag-outstream.jw-state-complete .jw-controls-backdrop{display:none}.jw-flag-outstream.jw-state-complete .jw-media{pointer-events:none}.jw-flag-outstream.jw-state-complete .jw-preview{background-color:#f2f2f2}.jw-flag-outstream .jw-wrapper{transition:-webkit-transform 250ms cubic-bezier(0, .25, .25, 1);transition:transform 250ms cubic-bezier(0, .25, .25, 1);transition:transform 250ms cubic-bezier(0, .25, .25, 1), -webkit-transform 250ms cubic-bezier(0, .25, .25, 1)}.jw-flag-outstream .jw-dismiss-icon{position:absolute;right:0;bottom:0}.jw-flag-outstream-close{max-height:1px;-webkit-animation:250ms jw-outstream-collapse 1 step-end;animation:250ms jw-outstream-collapse 1 step-end}@-webkit-keyframes jw-outstream-collapse{0%{max-height:initial}100%{max-height:1px}}@keyframes jw-outstream-collapse{0%{max-height:initial}100%{max-height:1px}}.jw-flag-outstream-close .jw-wrapper{-webkit-transform:scaleY(0);transform:scaleY(0)}.jw-flag-outstream-pending{max-height:1px;max-width:100%}.jw-flag-outstream-pending.jw-flag-top{margin-top:0;overflow:hidden}.jw-flag-outstream-pending .jw-wrapper{-webkit-transform:scaleY(0);transform:scaleY(0)}",""])},154:function(t,e,r){var n=r(155);"string"==typeof n&&(n=[["all-players",n,""]]),r(40).style(n,"all-players"),n.locals&&(t.exports=n.locals)},155:function(t,e,r){(t.exports=r(75)(!1)).push([t.i,".jw-logo-button{pointer-events:none;width:132px}.jw-svg-icon-watermark{color:#ff0046;width:96px}.jw-controlbar .jw-svg-icon-jwplayer-logo{display:none;color:#ff0046}.jw-flag-small-player .jw-logo-button{width:44px}.jw-flag-small-player .jw-svg-icon-watermark{display:none}.jw-flag-small-player .jw-controlbar .jw-svg-icon-jwplayer-logo{display:block}.jw-breakpoint--1:not(.jw-flag-audio-player) .jw-logo-button{bottom:6px}.jwplayer.jw-breakpoint-7 .jw-controlbar .jw-button-container .jw-icon-inline.jw-logo-button{width:186px}.jwplayer.jw-breakpoint-7 .jw-controlbar .jw-button-container .jw-svg-icon-watermark{width:150px}",""])},71:function(t,e,r){"use strict";function n(t){var e=!1;return{async:function(){for(var r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return Promise.resolve().then(function(){if(!e)return t.apply(r,i)})},cancel:function(){e=!0},cancelled:function(){return e}}}function i(t){return function(e,r){var n=t.mediaModel,i=Object(V.j)({},r,{type:e});switch(e){case U.T:if(n.get(U.T)===i.mediaType)return;n.set(U.T,i.mediaType);break;case U.U:return void n.set(U.U,Object(V.j)({},r));case U.M:if(r[U.M]===t.model.getMute())return;break;case U.bb:var a=r.newstate;a===U.nb&&(t.thenPlayPromise.cancel(),n.srcReset());var o=n.attributes.mediaState;n.attributes.mediaState=a,n.trigger("change:mediaState",n,a,o);break;case U.F:return t.beforeComplete=!0,t.trigger(U.B,i),void(t.attached&&!t.background&&t._playbackComplete());case U.G:n.get("setup")?(t.thenPlayPromise.cancel(),n.srcReset()):(e=U.wb,i.code+=1e5);break;case U.K:var s=r,u=s.duration,l=s.metadataType,c=s.seekRange;l||(i.metadataType="unknown"),Object(V.z)(u)&&(n.set("seekRange",c),n.set("duration",u));break;case U.D:n.set("buffer",r.bufferPercent);case U.S:var d=r;n.set("seekRange",d.seekRange),n.set("position",d.position),n.set("currentTime",d.currentTime);var f=d.duration;Object(V.z)(f)&&n.set("duration",f),e===U.S&&Object(V.v)(t.item.starttime)&&delete t.item.starttime;break;case U.R:var h=t.mediaElement;h&&h.paused&&n.set("mediaState","paused");break;case U.I:n.set(U.I,r.levels);case U.J:var p=r,g=p.currentQuality,v=p.levels;g>-1&&v.length>1&&n.set("currentLevel",parseInt(g));break;case U.f:n.set(U.f,r.tracks);case U.g:var m=r,b=m.currentTrack,y=m.tracks;b>-1&&y.length>0&&b<y.length&&n.set("currentAudioTrack",parseInt(b))}t.trigger(e,i)}}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){function r(){return c(t,arguments,h(this).constructor)}if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)})(t)}function c(){return(c=d()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&f(i,r.prototype),i}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e){var r=e.mediaControllerListener;t.off().on("all",r,e)}function v(t){return t&&t.sources&&t.sources[0]}function m(t){return t===U.lb||t===U.mb?U.nb:t}function b(t,e,r){if((e=m(e))!==(r=m(r))){var n=e.replace(/(?:ing|d)$/,""),i={type:n,newstate:e,oldstate:r,reason:function(t,e){return t===U.kb?e===U.rb?e:U.ob:e}(e,t.mediaModel.get("mediaState"))};"play"===n?i.playReason=t.get("playReason"):"pause"===n&&(i.pauseReason=t.get("pauseReason")),this.trigger(n,i)}}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function w(t,e){if(t.get("fullscreen"))return 1;if(!t.get("activeTab"))return 0;if(t.get("isFloating"))return 1;var r=t.get("intersectionRatio");return void 0===r&&(r=function(t){var e=document.documentElement,r=document.body,n={top:0,left:0,right:e.clientWidth||r.clientWidth,width:e.clientWidth||r.clientWidth,bottom:e.clientHeight||r.clientHeight,height:e.clientHeight||r.clientHeight};if(!r.contains(t))return 0;if("none"===window.getComputedStyle(t).display)return 0;var i=T(t);if(!i)return 0;for(var a,o,s,u,l,c,d,f,h=i,p=t.parentNode,g=!1;!g;){var v=null;if(p===r||p===e||1!==p.nodeType?(g=!0,v=n):"visible"!==window.getComputedStyle(p).overflow&&(v=T(p)),v&&(a=v,o=h,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,s=Math.max(a.top,o.top),u=Math.min(a.bottom,o.bottom),l=Math.max(a.left,o.left),f=u-s,!(h=(d=(c=Math.min(a.right,o.right))-l)>=0&&f>=0&&{top:s,bottom:u,left:l,right:c,width:d,height:f})))return 0;p=p.parentNode}var m=i.width*i.height,b=h.width*h.height;return m?b/m:0}(e),window.top!==window.self&&r)?0:r}function T(t){try{return t.getBoundingClientRect()}catch(t){}}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){var e,r;Object(V.j)(this,J.a);var n=new Image;this.setup=function(){(r=Object(V.j)({},Ft,t.get("logo"))).position=r.position||Ft.position,r.hide="true"===r.hide.toString(),r.file&&"control-bar"!==r.position&&(e||(e=Object(Ct.e)('<div class="jw-logo jw-logo-'+r.position+(r.hide?" jw-hide":"")+' jw-reset"></div>')),t.set("logo",r),n.onload=function(){var n=this.height,i=this.width,a={backgroundImage:'url("'+this.src+'")'};if(r.margin!==Ft.margin){var o=/(\w+)-(\w+)/.exec(r.position);3===o.length&&(a["margin-"+o[1]]=r.margin,a["margin-"+o[2]]=r.margin)}var s=.15*t.get("containerHeight"),u=.15*t.get("containerWidth");if(n>s||i>u){var l=i/n;u/s>l?(n=s,i=s*l):(i=u,n=u/l)}a.width=Math.round(i),a.height=Math.round(n),Object(St.d)(e,a),t.set("logoWidth",a.width)},n.src=r.file,r.link&&(e.setAttribute("tabindex","0"),e.setAttribute("aria-label",t.get("localization").logo)),this.ui=new It.a(e).on("click tap enter",function(t){t&&t.stopPropagation&&t.stopPropagation(),this.trigger(U.A,{link:r.link,linktarget:r.linktarget})},this))},this.setContainer=function(t){e&&t.appendChild(e)},this.element=function(){return e},this.position=function(){return r.position},this.destroy=function(){n.onload=null,this.ui&&this.ui.destroy()}}function E(t,e,r,n){var i={width:e};if(n&&void 0!==r&&t.set("aspectratio",null),!t.get("aspectratio")){var a=r;Object(V.v)(a)&&0!==a&&(a=Math.max(a,44)),i.height=a}return i}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,r){return e&&_(t.prototype,e),r&&_(t,r),t}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function A(t,e,r){Object.keys(e).forEach(function(n){n in e&&e[n]!==r[n]&&t.trigger("change:"+n,t,e[n],r[n])})}function x(t,e){t&&t.off(null,null,e)}function R(t,e){var r=e.muted;if(!ie)try{
ie=new ve([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"})}catch(t){return Promise.resolve()}return tt.OS.tizen?Promise.resolve():(t.muted=r,t.src=ge.createObjectURL(ie),t.play()||Object(pe.a)(t))}function L(t,e){var r=e.cancelable,n=e.muted,i=void 0!==n&&n,a=e.allowMuted,o=void 0!==a&&a,s=e.timeout,u=void 0===s?1e4:s,l=t.getTestElement(),c=i?"muted":""+o;me[c]||(me[c]=R(l,{muted:i})["catch"](function(t){if(!r.cancelled()&&!1===i&&o)return R(l,{muted:i=!0});throw t}).then(function(){return i?(me[c]=null,"autoplayMuted"):"autoplayEnabled"})["catch"](function(t){throw clearTimeout(d),me[c]=null,t.reason="autoplayDisabled",t}));var d,f=me[c].then(function(t){if(clearTimeout(d),r.cancelled()){var e=new Error("Autoplay test was cancelled");throw e.reason="cancelled",e}return t}),h=new Promise(function(t,e){d=setTimeout(function(){me[c]=null;var t=new Error("Autoplay test timed out");t.reason="timeout",e(t)},u)});return Promise.race([f,h])}function P(t,e){e.off(U.N,t._onPlayAttempt),e.off(U.gb,t._triggerFirstFrame),e.off(U.S,t._onTime),t.off("change:activeTab",t._onTabVisible)}function I(t){return window.WebGLRenderingContext&&t.some(function(t){return t.stereomode&&t.stereomode.length>0})}function D(t,e,n,i){if(function(t,e,r){var n=t.get("related"),i=e.getPlaylist(),a=!(!n||!n.file)||!!r.recommendations;return(i.length>1||a)&&(!1!==t.get("controls")||!n.disableRelated)}(t,e,i))return function(t,e){return r.e(18).then(function(){if(!t.attributes._destroyed&&!e.getPlugin("related")){var n=new Re.a;return n.name="related",n.js=r(179)["default"],n}}.bind(null,r))["catch"](Object(xe.b)(301129))}(t,e).then(function(r){var i=e.getPlugin("related");if(!i){var a=t.get("related");(i=Object(Le.a)(r,a,e)).on("nextUp",function(e){var r=null;e===Object(e)&&((r=Object(ut.a)(e)).sources=Object(Y.c)(r,t),r.feedType=e.feedType),t.set("nextUp",r)}),i.on("warning",function(t){n.trigger("warning",t)}),i.setup(t),i.addToPlayer()}})["catch"](function(e){return e.message=e.message||t.get("localization").errors[e.key],delete e.key,n.trigger(U.wb,e),e})}function M(t,e,n){r.e(12).then(function(){var n=new(0,r(181)["default"])(t,e);return t.castToggle=n.castToggle.bind(t._castController),t._castController=n,t.stopCasting=n.stopCasting,n.init()}.bind(null,r))["catch"](Object(xe.c)(301161))["catch"](n)}function F(t,e,n){return r.e(11).then(function(){var n=r(178)["default"];t._airplayController=new n(t,e),t.castToggle=t._airplayController.airplayToggle.bind(t._airplayController)}.bind(null,r))["catch"](Object(xe.c)(301162))["catch"](n)}function N(t,e){Ie||(setTimeout(function(){Pe.push(function(t,e){var r=Object(V.l)(t.sources,function(t){return"video/mp4"===t.type});r||(r=t.sources[0]);var n,i=t.pubdate?new Date(1e3*t.pubdate):null,a=e.getConfig(),o=t.mediaid&&a.pid?"https://cdn.jwplayer.com/players/"+t.mediaid+"-"+a.pid+".html":null,s=e.get("duration");return s&&(n="PT"+Math.floor(s/60)+"M"+Math.round(s)%60+"S"),{"@context":"https://schema.org","@type":"VideoObject",name:t.title,description:t.description,thumbnailUrl:t.image,uploadDate:i?i.toISOString():void 0,duration:n,contentUrl:r.file,embedUrl:o?'<iframe src="'+o+'" frameborder="0" scrolling="auto" allowfullscreen></iframe>':void 0}}(t,e))},750),clearTimeout(Ee),Ee=setTimeout(function(){var t=document.createElement("script");t.setAttribute("type","application/ld+json"),t.setAttribute("id","__jw-ld-json"),Pe.length>1?t.innerText=JSON.stringify(Pe):t.innerText=JSON.stringify(Pe[0]),document.head.appendChild(t),Ie=!0},1e3))}r.r(e);var B=r(36),U=r(3),V=r(0),G=r(15),H=r(64),K=r(43),z=["notVisible","always","never"],q=r(55),W=r(59),Y=r(22),X=r(56),Q=r(2),J=r(9),Z=r(41),$=r(1),tt=r(4),et=r(54),rt=r(49),nt=function(t){function e(){var e;return(e=t.call(this)||this).providerController=null,e._provider=null,e.addAttributes({mediaModel:new at}),e}a(e,t);var r=e.prototype;return r.setup=function(t){return t=t||{},this._normalizeConfig(t),Object(V.j)(this.attributes,t,rt.b),this.providerController=new Z.a(this.getConfiguration()),this.setAutoStart(),this},r.getConfiguration=function(){var t=this.clone(),e=t.mediaModel.attributes;return Object.keys(rt.a).forEach(function(r){t[r]=e[r]}),t.instreamMode=!!t.instream,delete t.instream,delete t.mediaModel,t},r.persistQualityLevel=function(t,e){var r=e[t]||{},n=r.label,i=Object(V.z)(r.bitrate)?r.bitrate:null;this.set("bitrateSelection",i),this.set("qualityLabel",n)},r.setActiveItem=function(t){var e=this.get("playlist")[t];this.resetItem(e),this.attributes.playlistItem=null,this.set("item",t),this.set("minDvrWindow",e.minDvrWindow),this.set("dvrSeekLimit",e.dvrSeekLimit),this.set("playlistItem",e)},r.setMediaModel=function(t){this.mediaModel&&this.mediaModel!==t&&this.mediaModel.off(),t=t||new at,this.mediaModel=t,function(t){var e=t.get("mediaState");t.trigger("change:mediaState",t,e,e)}(t)},r.destroy=function(){this.attributes._destroyed=!0,this.off(),this._provider&&(this._provider.off(null,null,this),this._provider.destroy())},r.getVideo=function(){return this._provider},r.setFullscreen=function(t){(t=!!t)!==this.get("fullscreen")&&this.set("fullscreen",t)},r.getProviders=function(){return this.providerController},r.setVolume=function(t){if(Object(V.z)(t)){var e=Math.min(Math.max(0,t),100);this.set("volume",e);var r=0===e;r!==this.getMute()&&this.setMute(r)}},r.getMute=function(){return this.get("autostartMuted")||this.get("mute")},r.setMute=function(t){if(void 0===t&&(t=!this.getMute()),this.set("mute",!!t),!t){var e=Math.max(10,this.get("volume"));this.set("autostartMuted",!1),this.setVolume(e)}},r.setStreamType=function(t){this.set("streamType",t),"LIVE"===t&&this.setPlaybackRate(1)},r.setProvider=function(t){this._provider=t,it(this,t)},r.resetProvider=function(){this._provider=null,this.set("provider",void 0)},r.setPlaybackRate=function(t){Object(V.v)(t)&&(t=Math.max(Math.min(t,4),.25),"LIVE"===this.get("streamType")&&(t=1),this.set("defaultPlaybackRate",t),this._provider&&this._provider.setPlaybackRate&&this._provider.setPlaybackRate(t))},r.persistCaptionsTrack=function(){var t=this.get("captionsTrack");t?this.set("captionLabel",t.name):this.set("captionLabel","Off")},r.setVideoSubtitleTrack=function(t,e){this.set("captionsIndex",t),t&&e&&t<=e.length&&e[t-1].data&&this.set("captionsTrack",e[t-1])},r.persistVideoSubtitleTrack=function(t,e){this.setVideoSubtitleTrack(t,e),this.persistCaptionsTrack()},r.setAutoStart=function(t){void 0!==t&&this.set("autostart",t);var e=!(!tt.OS.mobile||!this.get("autostart"));this.set("playOnViewable",e||"viewable"===this.get("autostart"))},r.resetItem=function(t){var e=t?Object(Q.g)(t.starttime):0,r=t?Object(Q.g)(t.duration):0,n=this.mediaModel;this.set("playRejected",!1),this.attributes.itemMeta={},n.set("position",e),n.set("currentTime",0),n.set("duration",r)},r.persistBandwidthEstimate=function(t){Object(V.z)(t)&&this.set("bandwidthEstimate",t)},r._normalizeConfig=function(t){var e=t.floating;e&&e.disabled&&delete t.floating},e}(et.a),it=function(t,e){t.set("provider",e.getName()),!0===t.get("instreamMode")&&(e.instreamMode=!0),-1===e.getName().name.indexOf("flash")&&(t.set("flashThrottle",void 0),t.set("flashBlocked",!1)),t.setPlaybackRate(t.get("defaultPlaybackRate")),t.set("supportsPlaybackRate",e.supportsPlaybackRate),t.set("playbackRate",e.getPlaybackRate()),t.set("renderCaptionsNatively",e.renderNatively)},at=function(t){function e(){var e;return(e=t.call(this)||this).addAttributes({mediaState:U.nb}),e}return a(e,t),e.prototype.srcReset=function(){Object(V.j)(this.attributes,{setup:!1,started:!1,preloaded:!1,visualQuality:null,buffer:0,currentTime:0})},e}(et.a),ot=nt,st=function(t){function e(e,r){var a;return(a=t.call(this)||this).attached=!0,a.beforeComplete=!1,a.item=null,a.mediaModel=new at,a.model=r,a.provider=e,a.providerListener=new i(s(a)),a.thenPlayPromise=n(function(){}),e.off(),e.on("all",a.providerListener,s(a)),a.eventQueue=new q.a(s(a),["trigger"],function(){return!a.attached||a.background}),a}var r,a;a=t,(r=e).prototype=Object.create(a.prototype),r.prototype.constructor=r,r.__proto__=a;var u,l,c,d=e.prototype;return d.play=function(t){var e=this.item,r=this.model,n=this.mediaModel,i=this.provider;if(t||(t=r.get("playReason")),r.set("playRejected",!1),n.get("setup"))return i.play()||Promise.resolve();n.set("setup",!0);var a=this._loadAndPlay(e,i);return n.get("started")?a:this._playAttempt(a,t)},d.stop=function(){var t=this.provider;this.beforeComplete=!1,t.stop()},d.pause=function(){this.provider.pause()},d.preload=function(){var t=this.item,e=this.mediaModel,r=this.provider;!t||t&&"none"===t.preload||!this.attached||this.setup||this.preloaded||(e.set("preloaded",!0),r.preload(t))},d.destroy=function(){var t=this.provider,e=this.mediaModel;this.off(),e.off(),t.off(),this.eventQueue.destroy(),this.detach(),t.getContainer()&&t.remove(),delete t.instreamMode,this.provider=null,this.item=null},d.attach=function(){var t=this.model,e=this.provider;t.setPlaybackRate(t.get("defaultPlaybackRate")),e.attachMedia(),this.attached=!0,this.eventQueue.flush(),this.beforeComplete&&this._playbackComplete()},d.detach=function(){var t=this.provider;this.thenPlayPromise.cancel();var e=t.detachMedia();return this.attached=!1,e},d._playAttempt=function(t,e){var r=this,n=this.item,i=this.mediaModel,a=this.model,o=this.provider,s=o?o.video:null;return this.trigger(U.N,{item:n,playReason:e}),(s?s.paused:a.get(U.bb)!==U.qb)||a.set(U.bb,U.kb),t.then(function(){var t,e;i.get("setup")&&(i.set("started",!0),i===a.mediaModel&&(e=(t=i).get("mediaState"),t.trigger("change:mediaState",t,e,e)))})["catch"](function(t){if(r.item&&i===a.mediaModel){if(a.set("playRejected",!0),s&&s.paused){if(s.src===location.href)return r._loadAndPlay(n,o);i.set("mediaState",U.pb)}var u=Object(V.j)(new $.t(null,Object($.D)(t),t),{error:t,item:n,playReason:e});throw delete u.key,r.trigger(U.O,u),t}})},d._playbackComplete=function(){var t=this.item,e=this.provider;t&&delete t.starttime,this.beforeComplete=!1,e.setState(U.lb),this.trigger(U.F,{})},d._loadAndPlay=function(){var t=this.item,e=this.provider,r=e.load(t);if(r){var i=n(function(){return e.play()||Promise.resolve()});return this.thenPlayPromise=i,r.then(i.async)}return e.play()||Promise.resolve()},u=e,(l=[{key:"audioTrack",get:function(){return this.provider.getCurrentAudioTrack()},set:function(t){this.provider.setCurrentAudioTrack(t)}},{key:"quality",get:function(){return this.provider.getCurrentQuality()},set:function(t){this.provider.setCurrentQuality(t)}},{key:"audioTracks",get:function(){return this.provider.getAudioTracks()}},{key:"background",get:function(){if(!this.attached)return!1;var t=this.provider;if(!t.video)return!1;var e=t.getContainer();return!e||e&&!e.contains(t.video)},set:function(t){var e=this.provider;if(e.video){var r=e.getContainer();r&&(t?this.background||(this.thenPlayPromise.cancel(),this.pause(),e.removeFromContainer?e.removeFromContainer():r.removeChild(e.video),this.container=null):(this.eventQueue.flush(),this.beforeComplete&&this._playbackComplete()))}else t?this.detach():this.attach()}},{key:"container",get:function(){return this.provider.getContainer()},set:function(t){this.provider.setContainer(t)}},{key:"mediaElement",get:function(){return this.provider.video}},{key:"preloaded",get:function(){return this.mediaModel.get("preloaded")}},{key:"qualities",get:function(){return this.provider.getQualityLevels()}},{key:"setup",get:function(){return this.mediaModel.get("setup")}},{key:"started",get:function(){return this.mediaModel.get("started")}},{key:"activeItem",set:function(t){var e=this.mediaModel=new at,r=t?Object(Q.g)(t.starttime):0,n=t?Object(Q.g)(t.duration):0,i=e.attributes;e.srcReset(),i.position=r,i.duration=n,this.item=t,this.provider.init(t)}},{key:"controls",set:function(t){this.provider.setControls(t)}},{key:"mute",set:function(t){this.provider.mute(t)}},{key:"position",set:function(t){var e=this.provider;this.model.get("scrubbing")&&e.fastSeek?e.fastSeek(t):e.seek(t)}},{key:"subtitles",set:function(t){this.provider.setSubtitlesTrack&&this.provider.setSubtitlesTrack(t)}},{key:"volume",set:function(t){this.provider.volume(t)}}])&&o(u.prototype,l),c&&o(u,c),e}(J.a),ut=r(28),lt=function(t){function e(e){var r;return(r=t.call(this,e)||this).code=$.a,r}var r,n;return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e}(l(Error)),ct=function(){function t(t,e,r){var n=this;this.index=t,this.model=e,this.api=r,this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e}),this.async=null,this.asyncPromise=null,this.rejected=!1}var e,r,n,i=t.prototype;return i.run=function(){var t=this,e=this.api,r=this.async,n=this.index,i=this.model,a=this.resolve,o=this.reject,s=this.promise,u=i.get("playlist"),l=this.getItem(n);if(!l){var c=-1===n?"No recs item":"No playlist item at index "+n;this.rejected=!0,o(new Error(c))}if(r){this.clear();var d=this.asyncPromise=r.call(e,l,n);d&&d.then?d.then(function(e){if(e&&e!==l&&u===i.get("playlist")){var r=t.replace(e);if(r)return void a(r)}a(l)})["catch"](function(e){var r=new lt("Item skipped by playlist item callback");r.sourceError=e,t.rejected=!0,o(r)}):this.asyncPromise=null}return this.asyncPromise||a(l),s},i.getItem=function(t){var e=this.model;return-1===t?e.get("nextUp"):e.get("playlist")[t]},i.replace=function(t){var e=this.index,r=this.model,n=Object(Y.d)(r,new ut.a(t),t.feedData||{});if(n)return-1===e?r.set("nextUp",n):r.get("playlist")[e]=n,n},i.clear=function(){this.async=null},e=t,(r=[{key:"callback",set:function(t){this.async=t}},{key:"skipped",get:function(){return this.rejected}}])&&u(e.prototype,r),n&&u(e,n),t}(),dt=function(t){function e(e,r,n){var i,a,o;return(i=t.call(this)||this).adPlaying=!1,i.apiContext=n,i.background=(a=null,o=null,Object.defineProperties({setNext:function(t,e){o={item:t,loadPromise:e}},isNext:function(t){return!(!o||JSON.stringify(o.item.sources[0])!==JSON.stringify(t.sources[0]))},updateNext:function(t){o&&(o.item=t)},clearNext:function(){o=null}},{nextLoadPromise:{get:function(){return o?o.loadPromise:null}},currentMedia:{get:function(){return a},set:function(t){a=t}}})),i.mediaPool=r,i.mediaController=null,i.mediaControllerListener=function(t,e){return function(r,n){switch(r){case U.bb:return;case"flashThrottle":case"flashBlocked":return void t.set(r,n.value);case U.V:return void t.set(U.V,n[U.V]);case U.M:return void t.set(U.M,n[U.M]);case U.P:return void t.set("playbackRate",n.playbackRate);case U.K:Object(V.j)(t.get("itemMeta"),n.metadata);break;case U.J:t.persistQualityLevel(n.currentQuality,n.levels);break;case U.tb:t.persistVideoSubtitleTrack(n.currentTrack,n.tracks);break;case U.S:case U.Q:case U.R:case U.X:case U.sb:case"subtitlesTracksData":t.trigger(r,n);break;case U.i:return void t.persistBandwidthEstimate(n.bandwidthEstimate)}e.trigger(r,n)}}(e,function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)),i.model=e,i.providers=new Z.a(e.getConfiguration()),i.loadPromise=null,i.backgroundLoading=e.get("backgroundLoading"),i.asyncItems=[],i.itemSetContext=0,i.backgroundLoading||e.set("mediaElement",i.mediaPool.getPrimedElement()),i}var r,i;i=t,(r=e).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var a,o,s,u=e.prototype;return u.asyncActiveItem=function(t){var e=this,r=this.model,n=setTimeout(function(){r.set(U.bb,U.kb)},50);return this.getAsyncItem(t).run().then(function(t){return clearTimeout(n),t})["catch"](function(i){if(clearTimeout(n),t<r.get("playlist").length-1)return e.setActiveItem(t+1).then(function(){return null});throw i})},u.setActiveItem=function(t){var e=this,r=this.background,n=this.mediaController,i=this.model,a=i.get("playlist")[t];i.attributes.itemReady=!1,n&&(n.mediaModel.off(),i.attributes.mediaModel=new at,i.mediaModel.attributes=n.mediaModel.clone()),r.isNext(a)||this._destroyBackgroundMedia();var o=this.itemSetContext=Math.random();return this.loadPromise=this.asyncActiveItem(t).then(function(a){if(null===a||o!==e.itemSetContext)return null;i.setActiveItem(t);var s=v(a);if(!s)return Promise.reject(new $.t($.p,$.i));if(r.isNext(a))return e._destroyActiveMedia(),e._activateBackgroundMedia();if(n){if(i.get("castActive")||e._providerCanPlay(n.provider,s))return n.activeItem=a,e._setActiveMedia(n),n;e._destroyActiveMedia()}return e._setupMediaController(s).then(function(t){if(o===e.itemSetContext)return t.activeItem=a,e._setActiveMedia(t),t})["catch"](function(t){throw e._destroyActiveMedia(),t})})},u.setAttached=function(t){var e=this.mediaController;if(this.attached=t,e){if(!t){var r=e.detach(),n=e.item,i=e.mediaModel.get("position");return i&&(n.starttime=i),r}e.attach()}},u.playVideo=function(t){var e,r=this,i=this.mediaController,a=this.model;if(!a.get("playlistItem"))return Promise.reject(new Error("No media"));if(t||(t=a.get("playReason")),i)e=i.play(t);else{a.set(U.bb,U.kb);var o=n(function(e){if(r.mediaController&&r.mediaController.mediaModel===e.mediaModel)return e.play(t);throw new Error("Playback cancelled.")});e=(this.loadPromise||Promise.resolve())["catch"](function(t){throw o.cancel(),t}).then(o.async)}return e},u.stopVideo=function(){var t=this.mediaController,e=this.model,r=e.get("playlist")[e.get("item")];e.attributes.playlistItem=r,e.resetItem(r),t&&t.stop()},u.preloadVideo=function(){var t=this.background,e=this.mediaController||t.currentMedia;e&&e.preload()},u.pause=function(){var t=this.mediaController;t&&t.pause()},u.castVideo=function(t,e){var r=this.model;r.attributes.itemReady=!1;var n=Object(V.j)({},e),i=n.starttime=r.mediaModel.get("currentTime");this._destroyActiveMedia();var a=new st(t,r);a.activeItem=n,this._setActiveMedia(a),r.mediaModel.set("currentTime",i)},u.stopCast=function(){var t=this.model,e=t.get("item");t.get("playlist")[e].starttime=t.mediaModel.get("currentTime"),this.stopVideo(),this.setActiveItem(e)["catch"](function(){})},u.backgroundActiveMedia=function(){this.adPlaying=!0;var t=this.background,e=this.mediaController;e&&(t.currentMedia&&this._destroyMediaController(t.currentMedia),e.background=!0,t.currentMedia=e,this.mediaController=null)},u.restoreBackgroundMedia=function(){this.adPlaying=!1;var t=this.background,e=this.mediaController,r=t.currentMedia;if(r){if(e&&e!==r)return this._destroyMediaController(r),void(t.currentMedia=null);var n=r.mediaModel.attributes;n.mediaState===U.nb?n.mediaState=U.pb:n.mediaState!==U.pb&&(n.mediaState=U.kb),this._setActiveMedia(r),r.background=!1,t.currentMedia=null}},u.backgroundLoad=function(t,e){var r=this,n=this.background,i=this.getAsyncItem(e).run().then(function(t){n.updateNext(t);var e=v(t);return r._setupMediaController(e).then(function(e){return e.activeItem=t,e.preload(),e})})["catch"](function(){n.clearNext()});n.setNext(t,i)},u.forwardEvents=function(){var t=this.mediaController;t&&g(t,this)},u.routeEvents=function(t){var e=this.mediaController;e&&(e.off(),t&&g(e,t))},u.destroy=function(){this.off(),this._destroyBackgroundMedia(),this._destroyActiveMedia(),this.apiContext=null},u._setActiveMedia=function(t){var e=this.model,r=t.mediaModel,n=t.provider;!function(t,e){var r=t.get("mediaContainer");r?e.container=r:t.once("change:mediaContainer",function(t,r){e.container=r})}(e,t),this.mediaController=t,e.set("mediaElement",t.mediaElement),e.setMediaModel(r),e.setProvider(n),g(t,this),e.set("itemReady",!0)},u._destroyActiveMedia=function(){var t=this.mediaController,e=this.model;t&&t.provider&&(t.detach(),this._destroyMediaController(t),e.resetProvider(),this.mediaController=null)},u._destroyBackgroundMedia=function(){var t=this.background;this._destroyMediaController(t.currentMedia),t.currentMedia=null,this._destroyBackgroundLoadingMedia()},u._destroyMediaController=function(t){var e=this.mediaPool;t&&(e.recycle(t.mediaElement),t.destroy())},u._setupMediaController=function(t){var e=this,r=this.model,n=this.providers,i=function(t){return new st(new t(r.get("id"),r.getConfiguration(),e.primedElement),r)},a=n.choose(t),o=a.provider,s=a.name;return o?Promise.resolve(i(o)):n.load(s).then(function(t){return i(t)})},u._activateBackgroundMedia=function(){var t=this,e=this.background,r=this.background.nextLoadPromise,n=this.model;return this._destroyMediaController(e.currentMedia),e.currentMedia=null,r.then(function(r){if(r)return e.clearNext(),t.adPlaying?(n.attributes.itemReady=!0,e.currentMedia=r):(t._setActiveMedia(r),r.background=!1),r})},u._destroyBackgroundLoadingMedia=function(){var t=this,e=this.background,r=this.background.nextLoadPromise;r&&r.then(function(r){t._destroyMediaController(r),e.clearNext()})},u._providerCanPlay=function(t,e){var r=this.providers.choose(e).provider;return r&&t&&t instanceof r},u.setMute=function(t){var e=this.background,r=this.mediaController,n=this.mediaPool;r&&(r.mute=t),e.currentMedia&&(e.currentMedia.mute=t),n.syncMute(t)},u.setVolume=function(t){var e=this.background,r=this.mediaController,n=this.mediaPool;r&&(r.volume=t),e.currentMedia&&(e.currentMedia.volume=t),n.syncVolume(t)},u.getAsyncItem=function(t){var e=this.asyncItems[t];return e||((e=this.asyncItems[t]=new ct(t,this.model,this.apiContext)).callback=this.model.get("playlistItemCallback")),e},u.clearItemPromises=function(){this.asyncItems.forEach(function(t){t&&t.reject(new Error("Item playback aborted"))}),this.asyncItems.length=0},a=e,(o=[{key:"audioTrack",get:function(){var t=this.mediaController;return t?t.audioTrack:-1},set:function(t){var e=this.mediaController;e&&(e.audioTrack=parseInt(t,10)||0)}},{key:"audioTracks",get:function(){var t=this.mediaController;if(t)return t.audioTracks}},{key:"beforeComplete",get:function(){var t=this.mediaController,e=this.background.currentMedia;return!(!t&&!e)&&(t?t.beforeComplete:e.beforeComplete)}},{key:"primedElement",get:function(){return this.backgroundLoading?this.mediaPool.getPrimedElement():this.model.get("mediaElement")}},{key:"quality",get:function(){return this.mediaController?this.mediaController.quality:-1},set:function(t){var e=this.mediaController;e&&(e.quality=parseInt(t,10)||0)}},{key:"qualities",get:function(){var t=this.mediaController;return t?t.qualities:null}},{key:"controls",set:function(t){var e=this.mediaController;e&&(e.controls=t)}},{key:"position",set:function(t){var e=this.mediaController;e&&(e.item.starttime=t,e.attached&&(e.position=t))}},{key:"subtitles",set:function(t){var e=this.mediaController;e&&(e.subtitles=t)}},{key:"itemCallback",set:function(t){this.model.set("playlistItemCallback",t),this.asyncItems.forEach(function(e){e&&(e.callback=t)})}}])&&p(a.prototype,o),s&&p(a,s),e}(J.a),ft=r(61),ht=function(t){function e(e,r){var n,i,a=(n=t.call(this,e,r)||this).model=new ot;if(n.playerModel=e,n.provider=null,n.backgroundLoading=e.get("backgroundLoading"),a.mediaModel.attributes.mediaType="video",n.backgroundLoading)i=r.getAdElement();else{i=e.get("mediaElement"),a.attributes.mediaElement=i,a.attributes.mediaSrc=i.src;var o=n.srcResetListener=function(){n.srcReset()};i.addEventListener("emptied",o),i.playbackRate=i.defaultPlaybackRate=1}return n.mediaPool=Object(ft.a)(i,r),n}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i,a,o,s=e.prototype;return s.setup=function(){var t=this.model,e=this.playerModel,r=this.primedElement,n=e.attributes,i=e.mediaModel;t.setup({id:n.id,volume:n.volume,instreamMode:!0,edition:n.edition,mediaContext:i,mute:n.mute,streamType:"VOD",autostartMuted:n.autostartMuted,autostart:n.autostart,advertising:n.advertising,sdkplatform:n.sdkplatform,skipButton:!1}),t.on("change:state",b,this),t.on(U.w,function(t){this.trigger(U.w,t)},this),r.paused||r.pause()},s.setActiveItem=function(e){var r=this;return this.stopVideo(),this.provider=null,t.prototype.setActiveItem.call(this,e).then(function(t){return r._setProvider(t.provider),r.playVideo()})},s.usePsuedoProvider=function(t){t&&(this._setProvider(t),t.off(U.w),t.on(U.w,function(t){this.trigger(U.w,t)},this))},s._setProvider=function(t){var e=this;if(t&&this.mediaPool){this.provider=t;var r=this.model,n=this.playerModel,i="vpaid"===t.type;t.off(),t.on("all",function(t,e){i&&t===U.F||this.trigger(t,Object(V.j)({},e,{type:t}))},this);var a=r.mediaModel;t.on(U.bb,function(t){t.oldstate=t.oldstate||r.get(U.bb),a.set("mediaState",t.newstate)}),t.on(U.X,this._nativeFullscreenHandler,this),a.on("change:mediaState",function(t,r){e._stateHandler(r)}),t.attachMedia(),t.volume(n.get("volume")),t.mute(n.getMute()),t.setPlaybackRate&&t.setPlaybackRate(1),n.on("change:volume",function(t,e){this.volume=e},this),n.on("change:mute",function(t,e){this.mute=e,e||(this.volume=n.get("volume"))},this),n.on("change:autostartMuted",function(t,e){e||(r.set("autostartMuted",e),this.mute=n.get("mute"))},this)}},s.destroy=function(){this.mediaController;var t=this.model,e=this.mediaPool,r=this.playerModel;t.off(),this.provider=null;var n=e.getPrimedElement();if(this.backgroundLoading){e.clean();var i=r.get("mediaContainer");n.parentNode===i&&i.removeChild(n)}else n&&(n.removeEventListener("emptied",this.srcResetListener),n.src!==t.get("mediaSrc")&&this.srcReset())},s.srcReset=function(){var t=this.playerModel,e=t.get("mediaModel"),r=t.getVideo();e.srcReset(),r&&(r.src=null)},s._nativeFullscreenHandler=function(t){this.model.trigger(U.X,t),this.trigger(U.y,{fullscreen:t.jwstate})},s._stateHandler=function(t){var e=this.model;switch(t){case U.qb:case U.pb:e.set(U.bb,t)}},i=e,(a=[{key:"mute",set:function(e){var r=this.mediaController,n=this.model,i=this.provider;n.set("mute",e),t.prototype.setMute.call(this,e),r||i.mute(e)}},{key:"volume",set:function(e){var r=this.mediaController,n=this.model,i=this.provider;n.set("volume",e),t.prototype.setVolume.call(this,e),r||i.volume(e)}}])&&y(i.prototype,a),o&&y(i,o),e}(dt),pt={skipoffset:null,tag:null},gt=function(t,e,r,n){function i(){w.model.set("playRejected",!0)}function a(){T++,y.loadItem(p)["catch"](function(){})}function o(t,e){"complete"!==t&&(e=e||{},E.tag&&!e.tag&&(e.tag=E.tag),this.trigger(t,e),"mediaError"!==t&&"error"!==t||this.loadNextItemOnError())}function s(t){var e=t.newstate,r=t.oldstate||w.model.get("state");r!==e&&u(Object(V.j)({oldstate:r},k,t))}function u(e){var r=e.newstate;r===U.qb?t.trigger(U.c,e):r===U.pb&&t.trigger(U.b,e)}function l(e){var r=e.duration,n=e.position,i=w.model.mediaModel||w.model;i.set("duration",r),i.set("position",n),m||(m=(Object(Q.d)(v,r)||r)-X.b),!S&&n>=Math.max(m,X.a)&&(t.preloadNextItem(),S=!0)}function c(t){var e={};E.tag&&(e.tag=E.tag),this.trigger(U.F,e),d.call(this,t)}function d(t){k={},p&&T+1<p.length?a():(t.type===U.F&&this.trigger(U.cb,{}),this.destroy())}function f(){!O&&r&&r.clickHandler()&&r.clickHandler().setAlternateClickHandlers(x,R)}function h(t){t.width&&t.height&&r&&r.resizeMedia()}var p,g,v,m,b=this,y=this,w=new ht(e,n),T=0,k={},j=null,E={},_=d,S=!1,O=!1,C=!1,A=!1,x=function(t){O||((t=t||{}).hasControls=!!e.get("controls"),b.trigger(U.z,t),w.model.get("state")===U.pb?t.hasControls&&w.playVideo()["catch"](function(){}):w.pause())},R=function(){O||w.model.get("state")===U.pb&&e.get("controls")&&(t.setFullscreen(),t.play())};this.init=function(){if(!C&&!O){C=!0,k={},w.setup(),w.on("all",o,this),w.on(U.O,i,this),w.on(U.S,l,this),w.on(U.F,c,this),w.on(U.K,h,this),w.on(U.bb,s,this),j=t.detachMedia();var n=w.primedElement;if(e.get("mediaContainer").appendChild(n),e.set("instream",w),w.model.set("state",U.kb),r){var a=r.clickHandler();a&&a.setAlternateClickHandlers(function(){},null)}return this.setText(e.get("localization").loadingAd),A=t.isBeforeComplete()||e.get("state")===U.lb,this}},this.enableAdsMode=function(n){var i=this;if(!C&&!O)return t.routeEvents({mediaControllerListener:function(t,e){i.trigger(t,e)}}),e.set("instream",w),w.model.set("state",U.qb),function(n){if(r){var i=r.clickHandler();i&&i.setAlternateClickHandlers(function(r){O||((r=r||{}).hasControls=!!e.get("controls"),y.trigger(U.z,r),n&&(e.get("state")===U.pb?t.playVideo():(t.pause(),n&&(t.trigger(U.a,{clickThroughUrl:n}),window.open(n)))))},null)}}(n),this},this.setEventData=function(t){k=t},this.setState=function(t){var e=t.newstate,r=w.model;t.oldstate=r.get("state"),r.set("state",e),u(t)},this.setTime=function(e){l(e),t.trigger(U.e,e)},this.loadNextItemOnError=function(){p&&T+1<p.length&&a()},this.loadItem=function(t,r){if(O||!C)return Promise.reject(new Error("Instream not setup"));k={};var n=t;Array.isArray(t)?(g=r||g,t=(p=t)[T],g&&(r=g[T])):n=[t];var i=w.model;i.set("playlist",n),e.set("hideAdsControls",!1),t.starttime=0,y.trigger(U.db,{index:T,item:t}),E=Object(V.j)({},pt,r),f(),i.set("skipButton",!1);var a=!e.get("backgroundLoading")&&j?j.then(function(){return w.setActiveItem(T)}):w.setActiveItem(T);return S=!1,void 0!==(v=t.skipoffset||E.skipoffset)&&y.setupSkipButton(v,E),a},this.setupSkipButton=function(t,e,r){var n=w.model;_=r||d,n.set("skipMessage",e.skipMessage),n.set("skipText",e.skipText),n.set("skipOffset",t),n.attributes.skipButton=!1,n.set("skipButton",!0)},this.applyProviderListeners=function(t){w.usePsuedoProvider(t),f()},this.play=function(){k={},w.playVideo()},this.pause=function(){k={},w.pause()},this.skipAd=function(t){var r=e.get("autoPause").pauseAds,n="autostart"===e.get("playReason"),i=e.get("viewable");!r||n||i||(this.noResume=!0);var a=U.d;this.trigger(a,t),_.call(this,{type:a})},this.replacePlaylistItem=function(t){
O||(e.set("playlistItem",t),w.srcReset())},this.destroy=function(){O||(O=!0,this.trigger("destroyed"),this.off(),r&&r.clickHandler()&&r.clickHandler().revertAlternateClickHandlers(),e.off(null,null,w),w.off(null,null,y),w.destroy(),C&&w.model&&(e.attributes.state=U.pb),t.forwardEvents(),e.set("instream",null),w=null,k={},j=null,C&&!e.attributes._destroyed&&(t.attachMedia(),this.noResume||(A?t.stopVideo():t.playVideo())))},this.getState=function(){return!O&&w.model.get("state")},this.setText=function(t){return O||!r||r.setAltText(t||""),this},this.hide=function(){O||e.set("hideAdsControls",!0)},this.getMediaElement=function(){return O?null:w.primedElement},this.setSkipOffset=function(t){v=t>0?t:null,w&&w.model.set("skipOffset",v)}};Object(V.j)(gt.prototype,J.a);var vt=gt,mt=r(83),bt=r(82),yt=function(t){function e(t){if(t.data=t.data||[],t.name=t.label||t.name||t.language,t._id=Object(bt.a)(t,s.length),!t.name){var e=Object(bt.b)(t,l);t.name=e.label,l=e.unknownCount}u[t._id]=t,s.push(t)}function r(){for(var t=[{id:"off",label:"Off"}],e=0;e<s.length;e++)t.push({id:s[e]._id,label:s[e].name||"Unknown CC",language:s[e].language});return t}function n(e){var r=c=e,n=t.get("captionLabel");if("Off"!==n){for(var i=0;i<s.length;i++){var a=s[i];if(n&&n===a.name){r=i+1;break}a["default"]||a.defaulttrack||"default"===a._id?r=i+1:a.autoselect}var o;o=r,s.length?t.setVideoSubtitleTrack(o,s):t.set("captionsIndex",o)}else t.set("captionsIndex",0)}function i(){var e=r();a(e)!==a(t.get("captionsList"))&&(t.set("captionsList",e),n(c))}function a(t){return t.map(function(t){return t.id+"-"+t.label}).join(",")}var o=this,s=[],u={},l=0,c=0;t.on("change:playlistItem",function(t){s=[],u={},l=0;var e=t.attributes;e.captionsIndex=0,e.captionsList=r(),t.set("captionsTrack",null)},this),t.on("change:itemReady",function(){var r=t.get("playlistItem").tracks,n=r&&r.length;if(n&&!t.get("renderCaptionsNatively"))for(var a=function(t){var n,i=r[t];"subtitles"!==(n=i.kind)&&"captions"!==n||u[i._id]||(i.sideloaded=!0,e(i),Object(mt.b)(i,function(t){var e;e=t,i.data=e},function(t){o.trigger(U.wb,t)}))},s=0;s<n;s++)a(s);i()},this),t.on("change:captionsIndex",function(t,e){var r=null;0!==e&&(r=s[e-1]),t.set("captionsTrack",r)},this),this.setSubtitlesTracks=function(t){if(Array.isArray(t)){if(t.length){for(var r=0;r<t.length;r++)e(t[r]);var n=Object.keys(u).map(function(t){return u[t]});s=n.filter(function(t){return!t.sideloaded}).concat(n.filter(function(t){return!!t.sideloaded}))}else s=[],u={},l=0;i()}},this.selectDefaultIndex=n,this.getCurrentIndex=function(){return t.get("captionsIndex")},this.getCaptionsList=function(){return t.get("captionsList")},this.destroy=function(){this.off(null,null,this)}};Object(V.j)(yt.prototype,J.a);var wt=yt,Tt=r(42),kt=r(68),jt=r(62),Et=r(48),_t=r(85),St=r(11),Ot=r(38),Ct=r(8),At=r(7),xt=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],Rt=function(t,e,r){for(var n=t.requestFullscreen||t.webkitRequestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen,i=e.exitFullscreen||e.webkitExitFullscreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.msExitFullscreen,a=!(!n||!i),o=xt.length;o--;)e.addEventListener(xt[o],r);return{events:xt,supportsDomFullscreen:function(){return a},requestFullscreen:function(){n.call(t,{navigationUI:"hide"})},exitFullscreen:function(){null!==this.fullscreenElement()&&i.apply(e)},fullscreenElement:function(){var t=e.fullscreenElement,r=e.webkitCurrentFullScreenElement,n=e.mozFullScreenElement,i=e.msFullscreenElement;return null===t?t:t||r||n||i},destroy:function(){for(var t=xt.length;t--;)e.removeEventListener(xt[t],r)}}},Lt=Rt.requestFullscreen,Pt=Rt.requestFullscreen,It=r(34),Dt=function(t){function e(e,r){var n;return(n=t.call(this)||this).revertAlternateClickHandlers(),n.domElement=r,n.model=e,n.ui=new It.a(r).on("click tap",n.clickHandler,k(n)).on("doubleClick doubleTap",function(){this.alternateDoubleClickHandler?this.alternateDoubleClickHandler():this.trigger("doubleClick")},k(n)),n}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.destroy=function(){this.ui&&(this.ui.destroy(),this.ui=null,this.domElement=null,this.model=null,this.revertAlternateClickHandlers())},i.clickHandler=function(t){this.model&&(this.model.get("flashBlocked")||(this.alternateClickHandler?this.alternateClickHandler(t):this.trigger(t.type===U.n?"click":"tap")))},i.element=function(){return this.domElement},i.setAlternateClickHandlers=function(t,e){this.alternateClickHandler=t,this.alternateDoubleClickHandler=e||null},i.revertAlternateClickHandlers=function(){this.alternateClickHandler=null,this.alternateDoubleClickHandler=null},e}(J.a),Mt=r(91),Ft={linktarget:"_blank",margin:8,hide:!1,position:"top-right"},Nt=function(){function t(t){this.model=t,this.image=null}var e=t.prototype;return e.setup=function(t){this.el=t,this.hasZoomThumbnail=this.model.get("_abZoomThumbnail"),this.hasZoomThumbnail&&(this.zoomOriginX=Math.ceil(100*Math.random())+"%",this.zoomOriginY=Math.ceil(100*Math.random())+"%",this.model.on("change:viewable",this.pauseZoomThumbnail,this),this.model.on("change:isFloating",this.enableZoomThumbnail,this))},e.setImage=function(t){var e=this.image;e&&(e.onload=null),this.image=null;var r="";"string"==typeof t&&(r='url("'+t+'")',(e=this.image=new Image).src=t),this.hasZoomThumbnail?(this.imageEl=document.createElement("div"),Object(St.d)(this.imageEl,{backgroundImage:r}),this.el&&this.el.appendChild(this.imageEl),this.enableZoomThumbnail()):Object(St.d)(this.el,{backgroundImage:r})},e.enableZoomThumbnail=function(){var t=this;this.hasZoomThumbnail&&!this.model.get("isFloating")&&(clearTimeout(this.zoomThumbnailTimeout),this.zoomThumbnailTimeout=setTimeout(function(){t.imageEl&&(t.imageEl.classList.add("jw-ab-zoom-thumbnail"),t.imageEl.style.transformOrigin=t.zoomOriginX+" "+t.zoomOriginY)},2e3))},e.pauseZoomThumbnail=function(){clearTimeout(this.zoomThumbnailTimeout),this.imageEl&&(this.imageEl.style.animationPlayState=this.model.get("viewable")?"running":"paused")},e.removeZoomThumbnail=function(){clearTimeout(this.zoomThumbnailTimeout),this.imageEl&&this.imageEl.classList.remove("jw-ab-zoom-thumbnail")},e.resize=function(t,e,r){var n,i=this;if("uniform"===r){if(t&&(this.playerAspectRatio=t/e),!this.playerAspectRatio||!this.image||"complete"!==(n=this.model.get("state"))&&"idle"!==n&&"error"!==n&&"buffering"!==n)return;var a=this.image,o=null;if(a){if(0===a.width)return void(a.onload=function(){i.resize(t,e,r)});var s=a.width/a.height;Math.abs(this.playerAspectRatio-s)<.09&&(o="cover")}Object(St.d)(this.el,{backgroundSize:o})}},e.element=function(){return this.el},e.destroy=function(){this.hasZoomThumbnail&&(this.removeZoomThumbnail(),this.model.off(null,null,this))},t}(),Bt=r(147),Ut=function(t){var e=new Nt(t),r=e.setImage.bind(e);return(e=Object(V.j)(e,J.a)).setImage=function(t,n,i,a){if(r(t),n){var o=a._model;new Bt.a("posterItem",e.el,i,a,function(){e.trigger("videoThumbnailFirstFrame",{feedData:i.feedData,target:i,ui:"poster",viewable:o.get("viewable")})}).init()}},e},Vt=r(128),Gt=function(){function t(t){this.container=t,this.input=t.querySelector(".jw-media")}var e=t.prototype;return e.disable=function(){this.ui&&(this.ui.destroy(),this.ui=null)},e.enable=function(){var t,e,r,n,i=this.container,a=this.input,o=this.ui=new It.a(a,{preventScrolling:!0}).on("dragStart",function(){t=i.offsetLeft,e=i.offsetTop,r=window.innerHeight,n=window.innerWidth}).on("drag",function(a){var s=Math.max(t+a.pageX-o.startX,0),u=Math.max(e+a.pageY-o.startY,0),l=Math.max(n-(s+i.clientWidth),0),c=Math.max(r-(u+i.clientHeight),0);0===l?s="auto":l="auto",0===u?c="auto":u="auto",Object(St.d)(i,{left:s,right:l,top:u,bottom:c,margin:0})}).on("dragEnd",function(){t=e=n=r=null})},t}(),Ht=null,Kt={floatingPlayer:Ht};Object.defineProperty(Kt,"floatingPlayer",{get:function(){return Ht},set:function(t){if(t!==Ht){Ht=t;var e=qt.slice();qt.length=0,e.forEach(function(t){t.startFloating()})}}});var zt,qt=[],Wt=function(t){var e=qt.indexOf(t);-1!==e&&qt.splice(e,1)},Yt=function(){function t(t,e,r,n){void 0===n&&(n=tt.OS.mobile),this._playerEl=r.player,this._wrapperEl=r.wrapper,this._preview=r.preview,this._model=t,this._floatingUI=new Gt(this._wrapperEl),this._floatingStoppedForever=!1,this._lastIntRatio=0,this._playerBounds=e,this._isMobile=n,this._boundThrottledMobileFloatScrollHandler=this.throttledMobileFloatScrollHandler.bind(this),this._boundInitFloatingBehavior=this.initFloatingBehavior.bind(this)}var e=t.prototype;return e.setup=function(){this._model.change("floating",this._boundInitFloatingBehavior)},e.initFloatingBehavior=function(){if(!this._floatingStoppedForever&&(kt.a.removeScrollHandler(this._boundThrottledMobileFloatScrollHandler),Wt(this),this.getFloatingConfig())){var t=this.getFloatMode();"notVisible"===t?this._isMobile?(kt.a.addScrollHandler(this._boundThrottledMobileFloatScrollHandler),this._boundThrottledMobileFloatScrollHandler()):this.checkFloatIntersection():"always"===t?this.startFloating():"never"===t&&this.stopFloating()}},e.updatePlayerBounds=function(t){this._playerBounds=t},e.getFloatingConfig=function(){return this._model.get("floating")},e.getFloatMode=function(){var t=this.getFloatingConfig();return t&&t.mode||"notVisible"},e.resize=function(){this._model.get("isFloating")&&this.updateFloatingSize()},e.fosMobileBehavior=function(){return this._isMobile&&!Object(Ct.f)()&&!this._model.get("fullscreen")},e.shouldFloatOnViewable=function(){var t=this._model.get("state");return t!==U.nb&&t!==U.mb&&t!==U.lb},e.startFloating=function(t){var e,r=this,n=this._playerBounds;if(null===this.getFloatingPlayer()){this.setFloatingPlayer(this._playerEl),this._model.set("isFloating",!0),Object(Ct.a)(this._playerEl,"jw-flag-floating"),t&&(Object(St.d)(this._wrapperEl,{transform:"translateY(-"+(62-n.top)+"px)"}),setTimeout(function(){Object(St.d)(r._wrapperEl,{transform:"translateY(0)",transition:"transform 150ms cubic-bezier(0, 0.25, 0.25, 1)"})}));var i=this._preview.el;Object(St.d)(this._playerEl,{backgroundImage:i.style.backgroundImage}),this.updateFloatingSize(),this._model.get("instreamMode")||this._floatingUI.enable(),this._model.trigger("forceResponsiveListener",{})}else this.getFloatingPlayer()!==this._playerEl&&"always"===this.getFloatMode()&&(e=this,-1===qt.indexOf(e)&&qt.push(e))},e.stopFloating=function(t,e){var r=this;if(t&&(this._floatingStoppedForever=!0,kt.a.removeScrollHandler(this._boundThrottledMobileFloatScrollHandler)),this.getFloatingPlayer()===this._playerEl){this.setFloatingPlayer(null),this._model.set("isFloating",!1);var n=this._playerBounds,i=function(){Object(Ct.o)(r._playerEl,"jw-flag-floating"),r._model.trigger("forceAspectRatioChange",{}),Object(St.d)(r._playerEl,{backgroundImage:null}),Object(St.d)(r._wrapperEl,{maxWidth:null,width:null,height:null,left:null,right:null,top:null,bottom:null,margin:null,transform:null,transition:null,"transition-timing-function":null})};e?(Object(St.d)(this._wrapperEl,{transform:"translateY(-"+(62-n.top)+"px)","transition-timing-function":"ease-out"}),setTimeout(i,150)):i(),this.disableFloatingUI(),this._model.trigger("forceResponsiveListener",{})}},e.updateFloatingSize=function(){var t=this._playerBounds,e=this._model.get("width"),r=this._model.get("height"),n=E(this._model,e);if(n.maxWidth=Math.min(400,t.width),!this._model.get("aspectratio")){var i=t.width,a=t.height/i||.5625;Object(V.v)(e)&&Object(V.v)(r)&&(a=r/e),this._model.trigger("forceAspectRatioChange",{ratio:100*a+"%"})}Object(St.d)(this._wrapperEl,n)},e.enableFloatingUI=function(){this._floatingUI.enable()},e.disableFloatingUI=function(){this._floatingUI.disable()},e.setFloatingPlayer=function(t){Kt.floatingPlayer=t},e.getFloatingPlayer=function(){return Kt.floatingPlayer},e.destroy=function(){this.getFloatingPlayer()===this._playerEl&&this.setFloatingPlayer(null),this.getFloatingConfig()&&this._isMobile&&kt.a.removeScrollHandler(this._boundThrottledMobileFloatScrollHandler),Wt(this),this._model.off("change:floating",this._boundInitFloatingBehavior)},e.updateFloating=function(t,e){t<.5&&!Object(At.m)()&&this.shouldFloatOnViewable()?this.startFloating(e):this.stopFloating(!1,e)},e.checkFloatOnScroll=function(){if("notVisible"===this.getFloatMode()){var t=this._model.get("isFloating"),e=this._playerBounds,r=e.top<62,n=window.scrollY||window.pageYOffset,i=r?e.top<=n:e.top<=n+62;!t&&i?this.updateFloating(0,r):t&&!i&&this.updateFloating(1,r)}},e.throttledMobileFloatScrollHandler=function(){var t=this;this.fosMobileBehavior()&&this._model.get("inDom")&&(clearTimeout(this._mobileDebounceTimeout),this._mobileDebounceTimeout=setTimeout(this.checkFloatOnScroll.bind(this),150),this._mobileCheckCanFire&&(this._mobileCheckCanFire=!1,this.checkFloatOnScroll(),setTimeout(function(){t._mobileCheckCanFire=!0},50)))},e.checkFloatIntersection=function(t){var e="number"==typeof t,r=e?t:this._lastIntRatio;this._canFloat=this._canFloat||r>=.5,!this.getFloatingConfig()||"notVisible"!==this.getFloatMode()||this.fosMobileBehavior()||this._floatingStoppedForever||this._canFloat&&this.updateFloating(r),e&&(this._lastIntRatio=t)},e.updateStyles=function(){!this._floatingStoppedForever&&this.getFloatingConfig()&&"notVisible"===this.getFloatMode()&&this._boundThrottledMobileFloatScrollHandler()},t}(),Xt=r(70);r(150);var Qt=tt.OS.mobile,Jt=tt.Browser.ie,Zt=function(t,e){function r(){Object(Et.a)(K),K=Object(Et.b)(n)}function n(){P.isSetup&&(P.updateBounds(),P.updateStyles(),P.checkResized())}function i(t,r){if(Object(V.v)(t)&&Object(V.v)(r)){var n=Object(_t.a)(t);Object(_t.b)(D,n);var i=n<2;Object(Ct.v)(D,"jw-flag-small-player",i),Object(Ct.v)(D,"jw-orientation-portrait",r>t)}if(e.get("controls")){var a=function(t){var e=t.get("height");if(t.get("aspectratio"))return!1;if("string"==typeof e&&e.indexOf("%")>-1)return!1;var r=1*e||NaN;return!!(r=isNaN(r)?t.get("containerHeight"):r)&&!!(r&&r<=44)}(e);Object(Ct.v)(D,"jw-flag-audio-player",a),e.set("audioMode",a)}}function a(){e.set("visibility",w(e,D))}function o(t,e){var r={controls:e};e?(zt=Ot.a.controls)?s():(r.loadPromise=Object(Ot.b)().then(function(e){zt=e;var r=t.get("controls");return r&&s(),r}),r.loadPromise["catch"](function(t){P.trigger(U.wb,t)})):P.removeControls(),A&&x&&P.trigger(U.o,r)}function s(){var t=new zt(document,P.element());P.addControls(t)}function u(t,e,r){e&&!r&&(_(t,t.get("state")),P.updateStyles())}function l(t){rt&&rt.mouseMove(t)}function c(t){rt&&!rt.showing&&"IFRAME"===t.target.nodeName&&rt.userActive()}function d(t){rt&&rt.showing&&(t.relatedTarget&&!D.contains(t.relatedTarget)||!t.relatedTarget&&tt.Features.iframe)&&rt.userActive()}function f(t,e){Object(Ct.p)(D,/jw-stretch-\S+/,"jw-stretch-"+e)}function h(t,e){Object(Ct.v)(D,"jw-flag-aspect-mode",!!e);var r=D.querySelectorAll(".jw-aspect");Object(St.d)(r,{paddingTop:e||null}),P.isSetup&&e&&!t.get("isFloating")&&(Object(St.d)(D,E(t,t.get("width"))),n())}function p(r){r.link?(t.pause({reason:"interaction"}),t.setFullscreen(!1),Object(Ct.l)(r.link,r.linktarget,{rel:"noreferrer"})):e.get("controls")&&t.playToggle({reason:"interaction"})}function g(t,r){if((t&&!isNaN(1*t)||(t=e.get("containerWidth")))&&(r&&!isNaN(1*r)||(r=e.get("containerHeight")))){N&&N.resize(t,r,e.get("stretching"));var n=e.getVideo();n&&n.resize(t,r,e.get("stretching"))}}function v(t){Object(Ct.v)(D,"jw-flag-ios-fullscreen",t.jwstate),m(t)}function m(t){var n=e.get("fullscreen"),i=void 0!==t.jwstate?t.jwstate:function(){if(Y.supportsDomFullscreen()){var t=Y.fullscreenElement();return!(!t||t!==D)}return e.getVideo().getFullScreen()}();n!==i&&e.set("fullscreen",i),r(),clearTimeout(H),H=setTimeout(g,200)}function b(t,e){Object(Ct.v)(t,"jw-flag-fullscreen",e),Object(St.d)(document.body,{overflowY:e?"hidden":""}),e&&rt&&rt.userActive(),g(),r()}function y(t,e){var r="LIVE"===e;Object(Ct.v)(D,"jw-flag-live",r)}function T(t,e){var r="audio"===e,n=t.get("provider");Object(Ct.v)(D,"jw-flag-media-audio",r);var i=n&&0===n.name.indexOf("flash"),a=r&&!i?F:F.nextSibling;N.el.parentNode.insertBefore(N.el,a)}function k(t,e){if(e){var r=Object(Tt.a)(t,e);Tt.a.cloneIcon&&r.querySelector(".jw-icon").appendChild(Tt.a.cloneIcon("error")),B.hide(),D.appendChild(r.firstChild),Object(Ct.v)(D,"jw-flag-audio-player",!!t.get("audioMode"))}else B.playlistItem(t,t.get("playlistItem"))}function _(t,e,r){if(P.isSetup){if(r===U.mb){var n=D.querySelector(".jw-error-msg");n&&n.parentNode.removeChild(n)}Object(Et.a)(z),e===U.qb?S(e):z=Object(Et.b)(function(){return S(e)})}}function S(t){switch(e.get("controls")&&t!==U.pb&&Object(Ct.i)(D,"jw-flag-controls-hidden")&&(Object(Ct.o)(D,"jw-flag-controls-hidden"),Object(Ct.v)(D,"jw-floating-dismissible",P.dismissible)),Object(Ct.p)(D,/jw-state-\S+/,"jw-state-"+t),t){case U.mb:P.stopFloating();case U.nb:case U.lb:G&&G.hide(),N&&N.enableZoomThumbnail();break;default:G&&(G.show(),t===U.pb&&rt&&!rt.showing&&G.renderCues(!0)),N&&N.removeZoomThumbnail()}}function O(){return e.get("isFloating")?M:D}var C,A,x,R,L=this,P=Object(V.j)(this,J.a,{isSetup:!1,api:t,model:e}),I=e.get("localization"),D=Object(Ct.e)('<div id="'+e.get("id")+'" class="jwplayer jw-reset jw-state-setup" tabindex="0" aria-label="'+(I.player||"")+'" role="application"><div class="jw-aspect jw-reset"></div><div class="jw-wrapper jw-reset"><div class="jw-top jw-reset"></div><div class="jw-aspect jw-reset"></div><div class="jw-media jw-reset"></div><div class="jw-preview jw-reset"></div><div class="jw-title jw-reset-text" dir="auto"><div class="jw-title-primary jw-reset-text"></div><div class="jw-title-secondary jw-reset-text"></div></div><div class="jw-overlays jw-reset"></div><div class="jw-hidden-accessibility"><span class="jw-time-update" aria-live="assertive"></span><span class="jw-volume-update" aria-live="assertive"></span></div></div></div>'),M=D.querySelector(".jw-wrapper"),F=D.querySelector(".jw-media"),N=new Ut(e,t),B=new Vt.a(e),G=new Mt.b(e);G.on("all",P.trigger,P);var H=-1,K=-1,z=-1,q=e.get("floating");this.dismissible=q&&q.dismissible;var W,Y,X,Z={},$=new Yt(e,Z,{player:D,wrapper:M,preview:N}),et=null,rt=null;this.updateBounds=function(){Object(Et.a)(K);var t=O(),n=document.body.contains(t),i=Object(Ct.c)(t),a=Math.round(i.width),o=Math.round(i.height);if(Z=Object(Ct.c)(D),$.updatePlayerBounds(Z),a===A&&o===x)return A&&x||r(),void e.set("inDom",n);a&&o||A&&x||r(),(a||o||n)&&(e.set("containerWidth",a),e.set("containerHeight",o)),e.set("inDom",n),n&&kt.a.observe(D)},this.updateStyles=function(){var t=e.get("containerWidth"),r=e.get("containerHeight");i(t,r),rt&&rt.resize(t,r),g(t,r),G.resize(),$.updateStyles()},this.checkResized=function(){var t=e.get("containerWidth"),r=e.get("containerHeight"),n=e.get("isFloating");if(t!==A||r!==x){this.resizeListener||(this.resizeListener=new Xt.a(M,this,e)),A=t,x=r,P.trigger(U.ib,{width:t,height:r});var i=Object(_t.a)(t);et!==i&&(et=i,P.trigger(U.j,{breakpoint:et}))}n!==R&&(R=n,P.trigger(U.x,{floating:n}),a())},this.responsiveListener=r,this.setup=function(){N.setup(D.querySelector(".jw-preview")),B.setup(D.querySelector(".jw-title")),(C=new j(e)).setup(),C.setContainer(M),C.on(U.A,p),G.setup(D.id,e.get("captions")),B.element().parentNode.insertBefore(G.element(),B.element()),W=function(t,e){var r=new Dt(e,F),n=e.get("controls");return r.on({click:function(){P.trigger(U.p),O().focus(),rt&&(at()?rt.settingsMenu.close():ot()?rt.infoOverlay.close():t.playToggle({reason:"interaction"}))},tap:function(){P.trigger(U.p),at()&&rt.settingsMenu.close(),ot()&&rt.infoOverlay.close();var r=e.get("state");if(n&&(r===U.nb||r===U.lb||e.get("instream")&&r===U.pb)&&t.playToggle({reason:"interaction"}),n&&r===U.pb){if(e.get("instream")||e.get("castActive")||"audio"===e.get("mediaType"))return;Object(Ct.v)(D,"jw-flag-controls-hidden"),P.dismissible&&Object(Ct.v)(D,"jw-floating-dismissible",Object(Ct.i)(D,"jw-flag-controls-hidden")),G.renderCues(!0)}else rt&&(rt.showing?rt.userInactive():rt.userActive())},doubleClick:function(){return rt&&t.setFullscreen()}}),Qt||(D.addEventListener("mousemove",l),D.addEventListener("mouseover",c),D.addEventListener("mouseout",d)),r}(t,e),X=new It.a(D).on("click",function(){}),Y=function(t,e,r,n){var i=function(){return n.get("ampController")&&!tt.OS.iOS&&!tt.Browser.safari};return Rt.requestFullscreen=function(){if(!i())return Lt.call(Rt)},Rt.exitFullscreen=function(){if(!i())return Pt.call(Rt)},Rt(t,e,r)}(D,document,m,e),e.on("change:hideAdsControls",function(t,e){Object(Ct.v)(D,"jw-flag-ads-hide-controls",e)}),e.on("change:scrubbing",function(t,e){Object(Ct.v)(D,"jw-flag-dragging",e)}),e.on("change:playRejected",function(t,e){Object(Ct.v)(D,"jw-flag-play-rejected",e)}),e.on(U.X,v),e.on("change:"+U.U,function(){g(),G.resize()}),e.player.on("change:errorEvent",k),e.change("stretching",f);var n=e.get("width"),a=e.get("height"),o=E(e,n,a);Object(St.d)(D,o),e.change("aspectratio",h),i(n,a),e.get("controls")||(Object(Ct.a)(D,"jw-flag-controls-hidden"),Object(Ct.o)(D,"jw-floating-dismissible")),Jt&&Object(Ct.a)(D,"jw-ie");var s=e.get("skin")||{};s.name&&Object(Ct.p)(D,/jw-skin-\S+/,"jw-skin-"+s.name);var u=function(t){t||(t={});var e=t.active,r=t.inactive,n=t.background,i={};return i.controlbar=function(t){if(t||e||r||n){var i={};return t=t||{},i.iconsActive=t.iconsActive||e,i.icons=t.icons||r,i.text=t.text||r,i.background=t.background||n,i}}(t.controlbar),i.timeslider=function(t){if(t||e){var r={};return t=t||{},r.progress=t.progress||e,r.rail=t.rail,r}}(t.timeslider),i.menus=function(t){if(t||e||r||n){var i={};return t=t||{},i.text=t.text||r,i.textActive=t.textActive||e,i.background=t.background||n,i}}(t.menus),i.tooltips=function(t){if(t||r||n){var e={};return t=t||{},e.text=t.text||r,e.background=t.background||n,e}}(t.tooltips),i}(s);!function(t,e){function r(e,r,n,i){if(n){e=Object(Q.f)(e,"#"+t+(i?"":" "));var a={};a[r]=n,Object(St.b)(e.join(", "),a,t)}}var n;e&&(e.controlbar&&function(e){r([".jw-controlbar .jw-icon-inline.jw-text",".jw-title-primary",".jw-title-secondary"],"color",e.text),e.icons&&(r([".jw-button-color:not(.jw-icon-cast)",".jw-button-color.jw-toggle.jw-off:not(.jw-icon-cast)"],"color",e.icons),r([".jw-display-icon-container .jw-button-color"],"color",e.icons),Object(St.b)("#"+t+" .jw-icon-cast google-cast-launcher.jw-off","{--disconnected-color: "+e.icons+"}",t)),e.iconsActive&&(r([".jw-display-icon-container .jw-button-color:hover",".jw-display-icon-container .jw-button-color:focus"],"color",e.iconsActive),r([".jw-button-color.jw-toggle:not(.jw-icon-cast)",".jw-button-color:hover:not(.jw-icon-cast)",".jw-button-color:focus:not(.jw-icon-cast)",".jw-button-color.jw-toggle.jw-off:hover:not(.jw-icon-cast)"],"color",e.iconsActive),r([".jw-svg-icon-buffer"],"fill",e.icons),Object(St.b)("#"+t+" .jw-icon-cast:hover google-cast-launcher.jw-off","{--disconnected-color: "+e.iconsActive+"}",t),Object(St.b)("#"+t+" .jw-icon-cast:focus google-cast-launcher.jw-off","{--disconnected-color: "+e.iconsActive+"}",t),Object(St.b)("#"+t+" .jw-icon-cast google-cast-launcher.jw-off:focus","{--disconnected-color: "+e.iconsActive+"}",t),Object(St.b)("#"+t+" .jw-icon-cast google-cast-launcher","{--connected-color: "+e.iconsActive+"}",t),Object(St.b)("#"+t+" .jw-icon-cast google-cast-launcher:focus","{--connected-color: "+e.iconsActive+"}",t),Object(St.b)("#"+t+" .jw-icon-cast:hover google-cast-launcher","{--connected-color: "+e.iconsActive+"}",t),Object(St.b)("#"+t+" .jw-icon-cast:focus google-cast-launcher","{--connected-color: "+e.iconsActive+"}",t)),r([" .jw-settings-topbar",":not(.jw-state-idle) .jw-controlbar",".jw-flag-audio-player .jw-controlbar"],"background",e.background,!0)}(e.controlbar),e.timeslider&&function(t){var e=t.progress;"none"!==e&&(r([".jw-progress",".jw-knob"],"background-color",e),r([".jw-buffer"],"background-color",Object(St.c)(e,50))),r([".jw-rail"],"background-color",t.rail),r([".jw-background-color.jw-slider-time",".jw-slider-time .jw-cue"],"background-color",t.background)}(e.timeslider),e.menus&&(r([".jw-option",".jw-toggle.jw-off",".jw-skip .jw-skip-icon",".jw-nextup-tooltip",".jw-nextup-close",".jw-settings-content-item",".jw-related-title"],"color",(n=e.menus).text),r([".jw-option.jw-active-option",".jw-option:not(.jw-active-option):hover",".jw-option:not(.jw-active-option):focus",".jw-settings-content-item:hover",".jw-nextup-tooltip:hover",".jw-nextup-tooltip:focus",".jw-nextup-close:hover"],"color",n.textActive),r([".jw-nextup",".jw-settings-menu"],"background",n.background)),e.tooltips&&function(t){r([".jw-skip",".jw-tooltip .jw-text",".jw-time-tip .jw-text"],"background-color",t.background),r([".jw-time-tip",".jw-tooltip"],"color",t.background),r([".jw-skip"],"border","none"),r([".jw-skip .jw-text",".jw-skip .jw-icon",".jw-time-tip .jw-text",".jw-tooltip .jw-text"],"color",t.text)}(e.tooltips),e.menus&&function(e){if(e.textActive){var r={color:e.textActive,borderColor:e.textActive,stroke:e.textActive};Object(St.b)("#"+t+" .jw-color-active",r,t),Object(St.b)("#"+t+" .jw-color-active-hover:hover",r,t)}if(e.text){var n={color:e.text,borderColor:e.text,stroke:e.text};Object(St.b)("#"+t+" .jw-color-inactive",n,t),Object(St.b)("#"+t+" .jw-color-inactive-hover:hover",n,t)}}(e.menus))}(e.get("id"),u),e.set("mediaContainer",F),e.set("iFrame",tt.Features.iframe),e.set("activeTab",Object(jt.a)()),e.set("touchMode",Qt&&("string"==typeof a||a>=44)),kt.a.add(this),e.get("enableGradient")&&!Jt&&Object(Ct.a)(D,"jw-ab-drop-shadow"),this.isSetup=!0,e.trigger("viewSetup",D);var b=document.body.contains(D);b&&kt.a.observe(D),e.set("inDom",b),e.on("forceAspectRatioChange",function(t){var r=t.ratio||e.get("aspectratio");h(e,r)}),e.on("forceResponsiveListener",r),$.setup()},this.init=function(){this.updateBounds(),e.on("change:fullscreen",nt),e.on("change:activeTab",a),e.on("change:fullscreen",a),e.on("change:intersectionRatio",a),e.on("change:visibility",u),e.on("instreamMode",function(t){t?st():ut()}),a(),1!==kt.a.size()||e.get("visibility")||u(e,1,0);var t=e.player;e.change("state",_),t.change("controls",o),e.change("streamType",y),e.change("mediaType",T),t.change("playlistItem",function(t,e){it(t,e)}),A=x=null,this.initFloatingBehavior(),this.checkResized()},this.initFloatingBehavior=function(){$.initFloatingBehavior()},this.addControls=function(r){var n=this;rt=r,Object(Ct.o)(D,"jw-flag-controls-hidden"),Object(Ct.v)(D,"jw-floating-dismissible",this.dismissible),r.enable(t,e),x&&(i(A,x),r.resize(A,x),G.renderCues(!0)),r.on("userActive userInactive",function(){var t=e.get("state");t!==U.qb&&t!==U.kb||G.renderCues(!0)}),r.on("dismissFloating",function(){n.stopFloating(!0),t.pause({reason:"interaction"})}),r.on("all",P.trigger,P),e.get("instream")&&rt.setupInstream()},this.removeControls=function(){rt&&(rt.disable(e),rt=null),Object(Ct.a)(D,"jw-flag-controls-hidden"),Object(Ct.o)(D,"jw-floating-dismissible")};var nt=function(e,r){if(r&&rt&&e.get("autostartMuted")&&rt.unmuteAutoplay(t,e),Y.supportsDomFullscreen())r?Y.requestFullscreen():Y.exitFullscreen(),b(D,r);else if(Jt)b(D,r);else{var n=e.get("instream"),i=n?n.provider:null,a=e.getVideo()||i;a&&a.setFullscreen&&a.setFullscreen(r)}};this.resize=function(t,r){var i=E(e,t,r,!0);void 0!==t&&void 0!==r&&(e.set("width",t),e.set("height",r)),Object(St.d)(D,i),$.resize(),n()},this.resizeMedia=g,this.setPosterImage=function(t,e){e.setImage(t&&t.image)};var it=function(t,e){L.setPosterImage(e,N),Qt&&function(t,e){var r=t.get("mediaElement");if(r){var n=Object(Ct.j)(e.title||"");r.setAttribute("title",n.textContent)}}(t,e)},at=function(){var t=rt&&rt.settingsMenu;return!(!t||!t.visible)},ot=function(){var t=rt&&rt.infoOverlay;return!(!t||!t.visible)},st=function(){Object(Ct.a)(D,"jw-flag-ads"),rt&&rt.setupInstream(),$.disableFloatingUI()},ut=function(){if(W){rt&&rt.destroyInstream(e),$.getFloatingPlayer()!==D||Object(At.m)()||$.enableFloatingUI(),P.setAltText(""),Object(Ct.o)(D,["jw-flag-ads","jw-flag-ads-hide-controls"]),e.set("hideAdsControls",!1);var t=e.getVideo();t&&t.setContainer(F),W.revertAlternateClickHandlers()}};this.setAltText=function(t){e.set("altText",t)},this.clickHandler=function(){return W},this.getContainer=this.element=function(){return D},this.getWrapper=function(){return M},this.controlsContainer=function(){return rt?rt.element():null},this.getSafeRegion=function(t){void 0===t&&(t=!0);var e={x:0,y:0,width:A||0,height:x||0};return rt&&t&&(e.height-=rt.controlbarHeight()),e},this.setCaptions=function(t){G.clear(),G.setup(e.get("id"),t),G.resize()},this.setIntersection=function(t){var r=Math.round(100*t.intersectionRatio)/100;e.set("intersectionRatio",r),this.checkFloatIntersection(r)},this.checkFloatIntersection=function(t){$.checkFloatIntersection(t)},this.stopFloating=function(t,e){$.stopFloating(t,e)},this.destroy=function(){e.destroy(),N.destroy(),kt.a.unobserve(D),kt.a.remove(this),this.isSetup=!1,this.off(),Object(Et.a)(K),clearTimeout(H),X&&(X.destroy(),X=null),Y&&(Y.destroy(),Y=null),rt&&rt.disable(e),W&&(W.destroy(),D.removeEventListener("mousemove",l),D.removeEventListener("mouseout",d),D.removeEventListener("mouseover",c),W=null),G.destroy(),C&&(C.destroy(),C=null),Object(St.a)(e.get("id")),this.resizeListener&&(this.resizeListener.destroy(),delete this.resizeListener),$.destroy()}},$t=!1,te=window.$sf,ee=function(t,e){this.playerElement=t,this.wrapperElement=e};Object(V.j)(ee.prototype,{setup:function(t){var e=Object(Ct.e)(function(t){return'<span class="jw-text jw-reset">'+t+"</span>"}(t));this.wrapperElement.appendChild(e),Object(Ct.a)(this.playerElement,"jw-flag-top")}});var re,ne,ie,ae=ee,oe=r(87),se=r.n(oe),ue=r(88),le=r(148),ce=function(t,e){var n="free"===e.get("edition");n&&!re&&(r(154),re=!0);var i=new Zt(t,e),a=i.setup;if(i.setPosterImage=function(r,n){var i=Object(le.a)(r.images);i?(tt.OS.mobile||i.reverse(),r.videoThumbnail=i[0].src,n.on("videoThumbnailFirstFrame",function(e){t.trigger("videoThumbFirstFrame",e)}),n.setImage(r&&r.image,!0,r,e)):n.setImage(r&&r.image)},i.setup=function(){var t=this;a.call(this),e.get("displayHeading")&&new ae(i.getContainer(),i.getContainer().querySelector(".jw-top")).setup(e.get("localization").advertising.displayHeading),e.change("castAvailable",function(e,r){var n=e.get("cast");Object(n)===n&&Object(Ct.v)(t.getContainer(),"jw-flag-cast-available",r)},this),e.change("castActive",function(e,r){var n=e.get("airplayActive");Object(Ct.v)(t.getContainer(),"jw-flag-casting",r||!1),Object(Ct.v)(t.getContainer(),"jw-flag-airplay-casting",n||!1)},this),e.change("flashBlocked",function(e,r){Object(Ct.v)(t.getContainer(),"jw-flag-flash-blocked",r)},this)},n){var o=i.addControls;i.addControls=function(t){o.call(this,t);var e=document.querySelector(".jw-logo-button");if(e){var r=Object(ue.b)(se.a);e.appendChild(r)}}}var s=e.get("advertising");return s&&s.outstream&&function(t,e){$t||($t=!0,r(152));var n=e.model,i=e.getSafeRegion;e.getSafeRegion=function(t){var e=i.call(this,t);return e.height=this.api.getHeight(),e},n.on("change:mediaState",function(r,a){if(a===U.ob||a===U.qb){if(n.off("change:mediaState",null,e),te&&te.ext&&te.ext.supports()["exp-push"]){var o=te.ext.geom(),s=o.exp,u=o.self,l=Math.min(t.getHeight()-u.h,s.yx?1/0:s.b),c=Math.min(t.getWidth()-u.w,s.xs?1/0:s.r);(l>0||c>0)&&te.ext.expand({b:Math.max(0,l),r:Math.max(0,c),push:!0})}Object(Ct.o)(e.getContainer(),"jw-flag-outstream-pending"),e.getSafeRegion=i,e.responsiveListener()}},e);var a=e.setup;e.setup=function(){a.call(this),Object(Ct.a)(this.getContainer(),"jw-flag-outstream jw-flag-outstream-pending")};var o=n.get("advertising");o.dismissible&&(e.dismissible=!0,e.on("dismissFloating",function(){t.remove()})),te&&te.ext&&t.once(U.hb,function(){te.ext.register(t.getWidth(),t.getHeight())}),t.once(U.cb,function(){e.stopFloating(!0),"close"===o.endstate&&(Object(Ct.a)(e.getContainer(),"jw-flag-outstream-close"),te&&te.ext&&te.ext.collapse())})}(t,i),i},de=/^change:(.+)$/,fe=function(t){function e(e,r){var n;return(n=t.call(this)||this)._model=e,n._mediaModel=null,Object(V.j)(e.attributes,{altText:"",fullscreen:!1,logoWidth:0,scrubbing:!1}),e.on("all",function(t,i,a,o){i===e&&(i=O(n)),r&&!r(t,i,a,o)||n.trigger(t,i,a,o)},O(n)),e.on("change:mediaModel",function(t,e){n.mediaModel=e},O(n)),n}C(e,t);var r=e.prototype;return r.get=function(t){var e=this._mediaModel;return e&&t in e.attributes?e.get(t):this._model.get(t)},r.set=function(t,e){return this._model.set(t,e)},r.getVideo=function(){return this._model.getVideo()},r.destroy=function(){x(this._model,this),x(this._mediaModel,this),this.off()},S(e,[{key:"mediaModel",set:function(t){var e=this,r=this._mediaModel;x(r,this),this._mediaModel=t,t.on("all",function(r,n,i,a){n===t&&(n=e),e.trigger(r,n,i,a)},this),r&&A(this,t.attributes,r.attributes)}}]),e
}(et.a),he=function(t){function e(e){var r;return(r=t.call(this,e,function(t){var e=r._instreamModel;if(e){var n=de.exec(t);if(n&&n[1]in e.attributes)return!1}return!0})||this)._instreamModel=null,r._playerViewModel=new fe(r._model),e.on("change:instream",function(t,e){r.instreamModel=e?e.model:null},O(r)),r}C(e,t);var r=e.prototype;return r.get=function(t){var e=this._mediaModel;if(e&&t in e.attributes)return e.get(t);var r=this._instreamModel;return r&&t in r.attributes?r.get(t):this._model.get(t)},r.getVideo=function(){var e=this._instreamModel;return e&&e.getVideo()?e.getVideo():t.prototype.getVideo.call(this)},r.destroy=function(){t.prototype.destroy.call(this),x(this._instreamModel,this)},S(e,[{key:"player",get:function(){return this._playerViewModel}},{key:"instreamModel",set:function(t){var e=this,r=this._instreamModel;if(x(r,this),this._model.off("change:mediaModel",null,this),this._instreamModel=t,this.trigger("instreamMode",!!t),t)t.on("all",function(r,n,i,a){n===t&&(n=e),e.trigger(r,n,i,a)},this),t.change("mediaModel",function(t,r){e.mediaModel=r},this),A(this,t.attributes,this._model.attributes);else if(r){this._model.change("mediaModel",function(t,r){e.mediaModel=r},this);var n=Object(V.j)({},this._model.attributes,r.attributes);A(this,this._model.attributes,n)}}}]),e}(fe),pe=r(79),ge=(ne=window).URL&&ne.URL.createObjectURL?ne.URL:ne.webkitURL||ne.mozURL,ve=window.Blob,me={},be=r(84),ye=r(63),we=function(t){function e(){return t.apply(this,arguments)||this}var r,n;return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.prototype.getFirstFrame=function(){var t=this.between(U.N,U.H),e=this.between("tabVisible",U.H);return e&&t&&e>0&&e<t?e:t},e}(r(30).a),Te=function(t,e){t.change("mediaModel",function(t,r,n){t._qoeItem&&n&&t._qoeItem.end(n.get("mediaState")),t._qoeItem=new we,t._qoeItem.tick(U.db),t._qoeItem.start(r.get("mediaState")),function(t,e){t._onTabVisible&&P(t,e);var r,n,i=!1;t._triggerFirstFrame=function(){if(!i){i=!0;var r=t._qoeItem;r.tick(U.H);var n=r.getFirstFrame();if(e.trigger(U.H,{loadTime:n}),e.mediaController){var a=e.mediaController.mediaModel;a.off("change:"+U.U,null,a),a.change(U.U,function(t,r){r&&e.trigger(U.U,r)},a)}P(t,e)}},t._onTime=(r=t._triggerFirstFrame,n=0,function(t){var e=t.position;e>n&&r(),n=e}),t._onPlayAttempt=function(){t._qoeItem.tick(U.N)},t._onTabVisible=function(e,r){r?t._qoeItem.tick("tabVisible"):t._qoeItem.tick("tabHidden")},t.on("change:activeTab",t._onTabVisible),e.on(U.N,t._onPlayAttempt),e.once(U.gb,t._triggerFirstFrame),e.on(U.S,t._onTime)}(t,e),r.on("change:mediaState",function(e,r,n){r!==n&&(t._qoeItem.end(n),t._qoeItem.start(r))})})},ke=function(){},je=function(){};Object(V.j)(ke.prototype,{setup:function(t,e,r,i,a,o){function s(t,e){Object(V.y)(e)||Q.set("viewable",Math.round(e))}function u(){ht&&(!0!==Q.get("autostart")||Q.get("playOnViewable")||T("autostart"),ht.flush())}function l(t,e){B.trigger("viewable",{viewable:e}),c()}function c(){if((G.a[0]===e||1===Q.get("viewable"))&&"idle"===Q.get("state")&&!1===Q.get("autostart"))if(!o.primed()&&tt.OS.android){var t=o.getTestElement(),r=B.getMute();Promise.resolve().then(function(){return R(t,{muted:r})}).then(function(){"idle"===Q.get("state")&&ct.preloadVideo()})["catch"](je)}else ct.preloadVideo()}function d(t){B._instreamAdapter.noResume=!t,t||j({reason:"viewable"})}function f(t){t||(B.pause({reason:"viewable"}),Q.set("playOnViewable",!t))}function h(t,e){var r=g();if(t.get("playOnViewable")){if(e){var n=t.get("autoPause").pauseAds,i=t.get("pauseReason");v()===U.nb?T("viewable"):r&&!n||"interaction"===i||m({reason:"viewable"})}else tt.OS.mobile&&!r&&(B.pause({reason:"autostart"}),Q.set("playOnViewable",!0));tt.OS.mobile&&r&&d(e)}}function p(t,e){var r=t.get("state"),n=g(),i=t.get("playReason");n?t.get("autoPause").pauseAds?f(e):d(e):r===U.qb||r===U.kb?f(e):r===U.nb&&"playlist"===i&&t.once("change:state",function(){f(e)})}function g(){var t=B._instreamAdapter;return!!t&&t.getState()}function v(){return g()||Q.get("state")}function m(t){if(nt.cancel(),et=!1,Q.get("state")===U.mb)return Promise.resolve();var r=w(t);return Q.set("playReason",r),g()?(e.pauseAd(!1,t),Promise.resolve()):Q.get("state")===U.lb?(k(!0),B.setItemIndex(0).then(function(){return y(t,r)})):y(t,r)}function y(t,e){if(!Z&&(Z=!0,B.trigger(U.C,{playReason:e,startTime:t&&t.startTime?t.startTime:Q.get("playlistItem").starttime}),Z=!1,Object(ye.a)()&&!o.primed()&&o.prime(),"playlist"===e&&Q.get("autoPause").viewability&&p(Q,Q.get("viewable")),F)){if(Object(ye.a)()&&!ut){var r=Q.get("mediaElement");B._instreamAdapter&&(r.src=""),r.load()}return F=!1,M=null,Promise.resolve()}return ct.playVideo(e).then(o.played)}function w(t){return t&&t.reason?t.reason:"unknown"}function T(t){if(v()===U.nb){nt=n(u);var e=Q.get("advertising");L(o,{cancelable:nt,muted:B.getMute(),allowMuted:!e||e.autoplayadsmuted}).then(function(e){return Q.set("canAutoplay",e),"autoplayMuted"!==e||B.getMute()||(Q.set("autostartMuted",!0),P(),Q.once("change:autostartMuted",function(t){t.off("change:viewable",h),B.trigger(U.M,{mute:Q.getMute()})})),D&&B.getMute()&&Q.get("enableDefaultCaptions")&&D.selectDefaultIndex(1),m({reason:t})["catch"](function(){B._instreamAdapter||Q.set("autostartFailed",!0),M=null})})["catch"](function(t){if(Q.set("canAutoplay","autoplayDisabled"),Q.set("autostart",!1),!nt.cancelled()){var e=Object($.D)(t);B.trigger(U.h,{reason:t.reason,code:e,error:t})}})}}function k(t){if(nt.cancel(),ht.empty(),g()){var e=B._instreamAdapter;return e&&(e.noResume=!0),void(M=function(){return ct.stopVideo()})}M=null,!t&&(et=!0),Z&&(F=!0),Q.set("errorEvent",void 0),ct.stopVideo()}function j(t){var e=w(t);Q.set("pauseReason",e),Q.set("playOnViewable","viewable"===e)}function E(t){M=null,nt.cancel();var r=g();if(r&&r!==U.pb)return j(t),void e.pauseAd(!0,t);switch(Q.get("state")){case U.mb:return;case U.qb:case U.kb:j(t),ct.pause();break;default:Z&&(F=!0)}}function _(t,e){B.instreamDestroy(),k(!0),B.setItemIndex(t),B.play(e)}function S(t){_(Q.get("item")+1,t)}function O(){B.completeCancelled()||(M=B.completeHandler,B.shouldAutoAdvance()?B.nextItem():Q.get("repeat")?S({reason:"repeat"}):(tt.OS.iOS&&x(!1),Q.set("playOnViewable",!1),Q.set("state",U.lb),B.trigger(U.cb,{})))}function C(t,e){t=parseInt(t,10)||0,Q.persistVideoSubtitleTrack(t,e),ct.subtitles=t,B.trigger(U.k,{tracks:A(),track:t})}function A(){return D?D.getCaptionsList():[]}function x(t){Object(V.r)(t)||(t=!Q.get("fullscreen")),Q.set("fullscreen",t),B._instreamAdapter&&B._instreamAdapter._adModel&&B._instreamAdapter._adModel.set("fullscreen",t)}function P(){ct.setMute(Q.getMute()),ct.setVolume(Q.get("volume"))}var I,D,M,F,N=this,B=this,Q=B._model=new ot,Z=!1,et=!1,rt=null,nt=n(u),it=n(je);B.originalContainer=B.currentContainer=r,B._events=i,B.trigger=function(t,e){var r=function(t,e,r){var n=r;switch(e){case"time":case"beforePlay":case"pause":case"play":case"ready":var i=t.get("viewable");void 0!==i&&(n=Object(V.j)({},r,{viewable:i}))}return n}(Q,t,e);return J.a.trigger.call(this,t,r)};var at=new q.a(B,["trigger"],function(){return!0}),st=function(t,e){B.trigger(t,e)};Q.setup(t);var ut=Q.get("backgroundLoading"),lt=new he(Q);(I=this._view=new ce(e,lt)).on("all",function(t,e){e&&e.doNotForward||st(t,e)},B),lt.on("viewSetup",function(t){Object(H.b)(N,t)});var ct=this._programController=new dt(Q,o,e._publicApi);P(),ct.on("all",st,B).on("subtitlesTracks",function(t){if(D){D.setSubtitlesTracks(t.tracks);var e=D.getCurrentIndex();e>0&&C(e,t.tracks)}},B).on(U.F,function(){Promise.resolve().then(O)},B).on(U.G,B.triggerError,B),Te(Q,ct),Q.on(U.w,B.triggerError,B),Q.on("change:state",function(t,e,r){g()||b.call(N,t,e,r)},this),Q.on("change:castState",function(t,e){B.trigger(U.m,e)}),Q.on("change:fullscreen",function(t,e){B.trigger(U.y,{fullscreen:e}),e&&t.set("playOnViewable",!1)}),Q.on("change:volume",function(t,e){B.trigger(U.V,{volume:e})}),Q.on("change:mute",function(t){B.trigger(U.M,{mute:t.getMute()})}),Q.on("change:playbackRate",function(t,e){B.trigger(U.ab,{playbackRate:e,position:t.get("position")})});var ft=function pt(t,e){"clickthrough"!==e&&"interaction"!==e&&"external"!==e||(Q.set("playOnViewable",!1),Q.off("change:playReason change:pauseReason",pt))};Q.on("change:playReason change:pauseReason",ft),B.on(U.c,function(t){return ft(0,t.playReason)}),B.on(U.b,function(t){return ft(0,t.pauseReason)}),Q.on("change:scrubbing",function(t,e){e?(rt=Q.get("state")!==U.pb,E()):rt&&m({reason:"interaction"})}),Q.on("change:captionsList",function(t,e){B.trigger(U.l,{tracks:e,track:Q.get("captionsIndex")||0})}),Q.on("change:mediaModel",function(t,e){var r=this;t.set("errorEvent",void 0),e.change("mediaState",function(e,r){var n;t.get("errorEvent")||t.set(U.bb,(n=r)===U.ob||n===U.rb?U.kb:n)},this),e.change("duration",function(e,r){if(0!==r){var n=t.get("minDvrWindow"),i=Object(be.b)(r,n);t.setStreamType(i)}},this);var n="autoplay"===(t.get("related")||{}).oncomplete,i=t.get("item")+1,a=t.get("playlist")[i];(a||n)&&e.on("change:position",function o(t,s){if(n&&!a&&(i=-1,a=Q.get("nextUp")),a&&!a.daiSetting){var u=e.get("duration");s&&u>0&&s>=u-X.b&&(e.off("change:position",o,r),ut?ct.backgroundLoad(a,i):ct.getAsyncItem(i).run())}},this)}),(D=new wt(Q)).on("all",st,B),this.playerReady=function(){I.once(U.ib,function(){try{Q.change("visibility",s),at.off(),B.trigger(U.hb,{setupTime:0}),Q.change("playlist",function(t,e){if(e.length){var r={playlist:e},n=Q.get("feedData");n&&(r.feedData=Object(V.j)({},n)),B.trigger(U.eb,r)}}),Q.change("playlistItem",function(t,e){if(e){var r=e.title,n=e.image;if("mediaSession"in navigator&&window.MediaMetadata&&(r||n))try{navigator.mediaSession.metadata=new window.MediaMetadata({title:r,artist:window.location.hostname,artwork:[{src:n||""}]})}catch(t){}t.set("cues",[]),B.trigger(U.db,{index:Q.get("item"),item:e})}}),at.flush(),at.destroy(),at=null,Q.change("viewable",l),Q.change("viewable",h),Q.get("autoPause").viewability?Q.change("viewable",p):Q.once("change:autostartFailed change:mute",function(t){t.off("change:viewable",h)}),u(),Q.on("change:itemReady",function(t,e){e&&ht.flush()})}catch(t){B.triggerError(Object($.C)($.s,$.b,t))}}),I.init()},this.preload=c,this.load=function(t,e){var r,i=B._instreamAdapter;switch(i&&(i.noResume=!0),B.trigger("destroyPlugin",{}),k(!0),ct.clearItemPromises(),nt.cancel(),nt=n(u),it.cancel(),Object(ye.a)()&&o.prime(),typeof t){case"string":Q.attributes.item=0,Q.attributes.itemReady=!1,it=n(function(t){if(t)return B.updatePlaylist(Object(Y.a)(t.playlist),t)}),r=function(t){var e=this;return new Promise(function(r,n){var i=new W.a;i.on(U.eb,function(t){r(t)}),i.on(U.w,n,e),i.load(t)})}(t).then(it.async);break;case"object":Q.attributes.item=0,r=B.updatePlaylist(Object(Y.a)(t),e||{});break;case"number":r=B.setItemIndex(t);break;default:return}r["catch"](function(t){B.triggerError(Object($.B)(t,$.d))}),r.then(nt.async)["catch"](je)},this.play=function(t){return m(t)["catch"](je)},this.pause=E,this.seek=function(t,e){var r=Q.get("state");if(r!==U.mb){ct.position=t;var n=r===U.nb;Q.get("scrubbing")||!n&&r!==U.lb||(n&&((e=e||{}).startTime=t),this.play(e))}},this.stop=k,this.playlistItem=_,this.playlistNext=S,this.playlistPrev=function(t){_(Q.get("item")-1,t)},this.setCurrentCaptions=C,this.setCurrentQuality=function(t){ct.quality=t},this.setFullscreen=x,this.getCurrentQuality=function(){return ct.quality},this.getQualityLevels=function(){return ct.qualities},this.setCurrentAudioTrack=function(t){ct.audioTrack=t},this.getCurrentAudioTrack=function(){return ct.audioTrack},this.getAudioTracks=function(){return ct.audioTracks},this.getCurrentCaptions=function(){return D?D.getCurrentIndex():-1},this.getCaptionsList=A,this.getVisualQuality=function(){var t=this._model.get("mediaModel");return t?t.get(U.U):null},this.getConfig=function(){return this._model?this._model.getConfiguration():void 0},this.getState=v,this.next=je,this.completeHandler=O,this.completeCancelled=function(){return(t=Q.get("state"))!==U.nb&&t!==U.lb&&t!==U.mb||!!et&&(et=!1,!0);var t},this.shouldAutoAdvance=function(){return Q.get("item")!==Q.get("playlist").length-1},this.nextItem=function(){S({reason:"playlist"})},this.setConfig=function(t){!function(t,e){var r=t._model,n=r.attributes;if(e.height&&(e.height=Object(K.b)(e.height),e.width=e.width||n.width),e.width&&(e.width=Object(K.b)(e.width),e.aspectratio?(n.width=e.width,delete e.width):e.height=n.height),e.width&&e.height&&!e.aspectratio&&t._view.resize(e.width,e.height),e.floating){var i=r.get("floating")||{},a=Object(V.j)({},i,e.floating);-1===z.indexOf(a.mode)?delete e.floating:e.floating=a}Object.keys(e).forEach(function(i){var a=e[i];if(void 0!==a)switch(i){case"aspectratio":r.set(i,Object(K.a)(a,n.width));break;case"autostart":!function(t,e,r){t.setAutoStart(r),"idle"===t.get("state")&&!0===r&&e.play({reason:"autostart"})}(r,t,a);break;case"mute":t.setMute(a);break;case"volume":t.setVolume(a);break;case"playbackRateControls":case"playbackRates":case"repeat":case"stretching":case"floating":r.set(i,a)}})}(B,t)},this.setItemIndex=function(t){ct.stopVideo();var e=Q.get("playlist").length,r=Object(Y.f)(t,e);return ct.setActiveItem(r)["catch"](function(t){if(t.code===$.a){if(ct.asyncItems.reduce(function(t,e){return t&&e.skipped},!0))throw t;var e=N.shouldAutoAdvance;return N.shouldAutoAdvance=function(){return!1},O(),Q.attributes.itemReady=!0,void(N.shouldAutoAdvance=e)}t.code>=151&&t.code<=162&&(t=Object($.B)(t,$.f)),N.triggerError(Object($.C)($.p,$.e,t))})},this.detachMedia=function(){if(Z&&(F=!0),Q.get("autoPause").viewability&&p(Q,Q.get("viewable")),!ut)return ct.setAttached(!1);ct.backgroundActiveMedia()},this.attachMedia=function(){ut?ct.restoreBackgroundMedia():ct.setAttached(!0),"function"==typeof M&&M()},this.routeEvents=function(t){return ct.routeEvents(t)},this.forwardEvents=function(){return ct.forwardEvents()},this.playVideo=function(t){return ct.playVideo(t)},this.stopVideo=function(){return ct.stopVideo()},this.castVideo=function(t,e){return ct.castVideo(t,e)},this.stopCast=function(){return ct.stopCast()},this.backgroundActiveMedia=function(){return ct.backgroundActiveMedia()},this.restoreBackgroundMedia=function(){return ct.restoreBackgroundMedia()},this.preloadNextItem=function(){ct.background.currentMedia&&ct.preloadVideo()},this.isBeforeComplete=function(){return ct.beforeComplete},this.setVolume=function(t){Q.setVolume(t),P()},this.setMute=function(t){Q.setMute(t),P()},this.setPlaybackRate=function(t){Q.setPlaybackRate(t)},this.getProvider=function(){return Q.get("provider")},this.getWidth=function(){return Q.get("containerWidth")},this.getHeight=function(){return Q.get("containerHeight")},this.getItemQoe=function(){return Q._qoeItem},this.setItemCallback=function(t){ct.itemCallback=t},this.getItemPromise=function(t){var e=Q.get("playlist");if(t<-1||t>e.length-1||isNaN(t))return null;var r=ct.getAsyncItem(t);return r?r.promise:null},this.addButton=function(t,e,r,n,i){var a=Q.get("customButtons")||[],o=!1,s={img:t,tooltip:e,callback:r,id:n,btnClass:i};a=a.reduce(function(t,e){return e.id===n?(o=!0,t.push(s)):t.push(e),t},[]),o||a.unshift(s),Q.set("customButtons",a)},this.removeButton=function(t){var e=Q.get("customButtons")||[];e=e.filter(function(e){return e.id!==t}),Q.set("customButtons",e)},this.resize=I.resize,this.getSafeRegion=I.getSafeRegion,this.setCaptions=I.setCaptions,this.checkBeforePlay=function(){return Z},this.setControls=function(t){Object(V.r)(t)||(t=!Q.get("controls")),Q.set("controls",t),ct.controls=t},this.addCues=function(t){this.setCues(Q.get("cues").concat(t))},this.setCues=function(t){Q.set("cues",t)},this.updatePlaylist=function(t,e){try{var r=Object(Y.b)(t,Q,e);Object(Y.e)(r);var n=Object(V.j)({},e);delete n.playlist,Q.set("feedData",n),Q.set("playlist",r)}catch(t){return Promise.reject(t)}return this.setItemIndex(Q.get("item"))},this.setPlaylistItem=function(t,e){var r=Q.get("playlist"),n=Object(Y.f)(t,r.length),i=ct.getAsyncItem(n);if(i.replace(e)){var a=r[n];e&&e!==a&&(ct.asyncItems[n]=null,i.reject(new Error("Item replaced"))),n===Q.get("item")&&"idle"===Q.get("state")&&this.setItemIndex(n)}},this.playerDestroy=function(){this.off(),this.stop(),Object(H.b)(this,this.originalContainer),I&&I.destroy(),Q&&Q.destroy(),ht&&ht.destroy(),D&&D.destroy(),ct&&ct.destroy(),this.instreamDestroy()},this.isBeforePlay=this.checkBeforePlay,this.createInstream=function(){return this.instreamDestroy(),this._instreamAdapter=new vt(this,Q,I,o),this._instreamAdapter},this.instreamDestroy=function(){B._instreamAdapter&&(B._instreamAdapter.destroy(),B._instreamAdapter=null)};var ht=new q.a(this,["play","pause","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen"],function(){return!N._model.get("itemReady")||at});ht.queue.push.apply(ht.queue,a),I&&I.setup()},get:function(t){if(t in rt.a){var e=this._model.get("mediaModel");return e?e.get(t):rt.a[t]}return this._model.get(t)},getContainer:function(){return this.currentContainer||this.originalContainer},getMute:function(){return this._model.getMute()},triggerError:function(t){var e=this._model;t.message=e.get("localization").errors[t.key],delete t.key,e.set("errorEvent",t),e.set("state",U.mb),e.once("change:state",function(){this.set("errorEvent",void 0)},e),this.trigger(U.w,t)}});var Ee,_e=ke,Se=function(t,e){var r=t._model,n=t._view,i=!1,a=e.height,o=e.width,s=t.getHeight;t.getHeight=function(){var t=r.get("aspectratio");return t?Math.round(r.get("containerWidth")*parseFloat(t)/100):a};var u,l=t.getWidth;t.getWidth=function(){return Object(V.v)(o)?o:l.call(this)},t.getSafeRegion=function(t){return n.getSafeRegion(t)},t.resize=function(t,e){return n.resize(t,e)},u=n.resize,n.resize=function(t,e){return a=e,o=t,u.call(n,t,e)},r.setAutoStart("viewable"),t.setMute(!0),t.setItemIndex=function(){return r.setActiveItem(0),Promise.resolve()},t.updatePlaylist=function(){return r.set("playlist",[{sources:[{}]}]),r.attributes.itemReady=!0,this.setItemIndex(0)};var c=t.createInstream;t.createInstream=function(){var e=c.call(this);return e.noResume=!0,i=!1,e.on("state",function(e){var r=e.newstate;r!==U.ob&&r!==U.qb||(t.attachMedia=f,t.getHeight=s,t.getWidth=l,n&&(n.resize=u),i=!0)}),e};var d=t.attachMedia;t.attachMedia=t.playerDestroy;var f=function(){return i||r.set("repeat",!1),r.get("backgroundLoading")||this._programController.mediaPool.clean(),r.set("state",U.lb),this._programController.trigger(U.F,{}),d.call(this)};t._programController.playVideo=function(){return Promise.resolve()}},Oe=function(t){var e,r,n=!1;return t&&((r=document.createElement("div")).className="afs_ads",r.innerHTML="&nbsp;",r.style.width="1px",r.style.height="1px",r.style.position="absolute",r.style.background="transparent",e=r,t.element().appendChild(e)),{onReady:function(){if(n)return!0;t&&document.body.contains(t.element())&&(null!==e.offsetParent&&"afs_ads"===e.className&&""!==e.innerHTML&&0!==e.clientHeight||(n=!0)),n&&this.trigger("adBlock")},getAdBlock:function(){return n}}},Ce=r(26),Ae=r(149),xe=r(6),Re=r(58),Le=r(37),Pe=[],Ie=!1,De=_e.prototype.setup;_e.prototype.setup=function(t,e){function r(){return c.get("cast")}function n(t){c.on("change:playlistItem",i,this),p&&p.outstream||!r()?s():(!(c.get("cast")||{}).customAppId&&Object(B.b)(c.get("playlist"))||a.apply(this),o.apply(this)),D(c,e,this,t.item),c.get("generateSEOMetadata")&&N(t.item,this)}function i(t,r){h.onReady(),D(c,e,this,r)}function a(){if(window.chrome&&tt.Browser.chrome)return M(this,c,w)}function o(){if(window.WebKitPlaybackTargetAvailabilityEvent&&!c.get("playlist").some(function(t){return!Object(Ce.b)(t.sources[0])}))return F(this,c,w);s()}function s(){var t=c.getVideo();t&&t.video&&(t.video.webkitWirelessVideoPlaybackDisabled=!0)}var u=this,l=De.apply(this,arguments),c=this._model,d=this._view,f=this.modelShim,h=Oe(d),p=c.get("advertising");if(f&&f.attributes.ampController){var g=f.attributes.ampController,v=this.playerReady;this.ampController=g,delete f.attributes.ampController,this.playerReady=function(){v.apply(this,arguments),g.setup(c)}}t.analytics&&(t.sdkplatform=t.sdkplatform||t.analytics.sdkplatform),c.once("change:visibility",function(){h.onReady.call(u)}),this.next=function(t){t=t||{};var r=e.getPlugin("related");b.call(this,r,"nextClick",t.feedShownId,function(){return r.next(t)})};var m=this.nextItem;this.nextItem=function(){var t=e.getPlugin("related");b.call(this,t,"nextAutoAdvance"),m.call(this)};var b=function(t,e,r,n){if(t){var i=c.get("nextUp");i&&this.trigger(e,{mode:i.mode,ui:"nextup",feedShownId:r,target:i,itemsShown:[i],feedData:i.feedData}),"function"==typeof n&&n()}},y=this.updatePlaylist;this.updatePlaylist=function(t,r){var n=this,i=[];return c.get("mobileSdk")||!I(t)||e.getPlugin("vr")||console.warn("Playlist contains 360\xb0 or VR media. JW Player 360\xb0/VR support is now deprecated"),Object(B.b)(t)&&i.push(Object(B.d)(c.get("edition"))),Object(Ae.a)(t,"images","image"),i.length?(c.attributes.itemReady=!1,Promise.all(i).then(function(){return y.call(n,t,r)})):y.call(this,t,r)},this.shouldAutoAdvance=function(){var t=c.get("related"),e=c.get("nextUp");return!(!e||"playlist"!==e.mode||!t.shouldAutoAdvance)},e.getAdBlock=h.getAdBlock,this.once(U.db,n,this);var w=function(t){u.trigger(U.wb,t)};return c.on("change:flashBlocked",function(t,e){var r;e?(t.get("flashThrottle")?r={message:"Click to run Flash"}:(r=new $.t($.o,210002),this.trigger(U.w,r)),t.set("errorEvent",r)):t.set("errorEvent",void 0)},this),p&&p.outstream&&Se(this,t),l},e["default"]=_e},75:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r,n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var a=(r=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([a]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(n[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];null!=o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},76:function(t,e,r){"use strict";function n(t){return i||(i=new DOMParser),Object(a.r)(Object(a.s)(i.parseFromString(t,"image/svg+xml").documentElement))}r.d(e,"a",function(){return n});var i,a=r(8)},77:function(t,e,r){"use strict";function n(t){var e=[],r=(t=Object(a.i)(t)).split("\r\n\r\n");1===r.length&&(r=t.split("\n\n"));for(var n=0;n<r.length;n++)if("WEBVTT"!==r[n]){var o=i(r[n]);o.text&&e.push(o)}return e}function i(t){var e={},r=t.split("\r\n");1===r.length&&(r=t.split("\n"));var n=1;if(r[0].indexOf(" --> ")>0&&(n=0),r.length>n+1&&r[n+1]){var i=r[n],o=i.indexOf(" --> ");o>0&&(e.begin=Object(a.g)(i.substr(0,o)),e.end=Object(a.g)(i.substr(o+5)),e.text=r.slice(n+1).join("\r\n"))}return e}r.d(e,"a",function(){return n});var a=r(2)},78:function(t,e){"use strict";function r(t){return"string"==typeof t&&(!!{start:!0,middle:!0,end:!0,left:!0,right:!0}[t.toLowerCase()]&&t.toLowerCase())}var n=window.VTTCue;n||((n=function(t,e,n){var i=this;i.hasBeenReset=!1;var a="",o=!1,s=t,u=e,l=n,c=null,d="",f=!0,h="auto",p="start",g="auto",v=100,m="middle";Object.defineProperty(i,"id",{enumerable:!0,get:function(){return a},set:function(t){a=""+t}}),Object.defineProperty(i,"pauseOnExit",{enumerable:!0,get:function(){return o},set:function(t){o=!!t}}),Object.defineProperty(i,"startTime",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");s=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"endTime",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"text",{enumerable:!0,get:function(){return l},set:function(t){l=""+t,this.hasBeenReset=!0}}),Object.defineProperty(i,"region",{enumerable:!0,get:function(){return c},set:function(t){c=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"vertical",{enumerable:!0,get:function(){return d},set:function(t){var e=function(t){return"string"==typeof t&&!!{"":!0,lr:!0,rl:!0}[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}}),Object.defineProperty(i,"snapToLines",{enumerable:!0,get:function(){return f},set:function(t){f=!!t,this.hasBeenReset=!0}}),Object.defineProperty(i,"line",{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");h=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"lineAlign",{enumerable:!0,get:function(){return p},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");p=e,this.hasBeenReset=!0}}),Object.defineProperty(i,"position",{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");g=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"size",{enumerable:!0,get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");v=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"align",{enumerable:!0,get:function(){return m},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}}),i.displayState=void 0}).prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)}),e.a=n},79:function(t,e,r){"use strict";function n(t){return new Promise(function(e,r){if(t.paused)return r(i("NotAllowedError",0,"play() failed."));var n=function(){t.removeEventListener("play",a),t.removeEventListener("playing",o),t.removeEventListener("pause",o),t.removeEventListener("abort",o),t.removeEventListener("error",o)},a=function(){t.addEventListener("playing",o),t.addEventListener("abort",o),t.addEventListener("error",o),t.addEventListener("pause",o)},o=function(t){if(n(),"playing"!==t.type){var a='The play() request was interrupted by a "'+t.type+'" event.';return"error"===t.type?r(i("NotSupportedError",9,a)):r(i("AbortError",20,a))}e()};t.addEventListener("play",a)})}function i(t,e,r){var n=new Error(r);return n.name=t,n.code=e,n}r.d(e,"a",function(){return n})},82:function(t,e,r){"use strict";function n(t,e){var r=t.kind||"cc";return t["default"]||t.defaulttrack?"default":t._id||t.file||r+e}function i(t,e){var r=t.label||t.name||t.language;return r||(r="Unknown CC",(e+=1)>1&&(r+=" ["+e+"]")),{label:r,unknownCount:e}}r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i})},83:function(t,e,r){"use strict";function n(t){throw new h.t(null,t)}function i(t,e,i){t.xhr=Object(l.b)(t.file,function(a){!function(t,e,i,a){var s,l,p=t.responseXML?t.responseXML.firstChild:null;if(p)for("xml"===Object(c.b)(p)&&(p=p.nextSibling);p&&p.nodeType===p.COMMENT_NODE;)p=p.nextSibling;try{if(p&&"tt"===Object(c.b)(p)){if(!t.responseXML)throw new Error("Empty XML response");s=function(t){t||n(306007);var e=[],r=t.getElementsByTagName("p"),i=30,a=t.getElementsByTagName("tt");if(a&&a[0]){var o=parseFloat(a[0].getAttribute("ttp:frameRate")||"");isNaN(o)||(i=o)}r||n(306005),r.length||(r=t.getElementsByTagName("tt:p")).length||(r=t.getElementsByTagName("tts:p"));for(var s=0;s<r.length;s++){for(var u=r[s],l=u.getElementsByTagName("br"),c=0;c<l.length;c++){var d=l[c];d&&d.parentNode&&d.parentNode.replaceChild(t.createTextNode("\r\n"),d)}var h=u.innerHTML||u.textContent||u.text||"",p=Object(f.i)(h).replace(/>\s+</g,"><").replace(/(<\/?)tts?:/g,"$1").replace(/<br.*?\/>/g,"\r\n");if(p){var g=u.getAttribute("begin")||"",v=u.getAttribute("dur")||"",m=u.getAttribute("end")||"",b={begin:Object(f.g)(g,i),text:p};m?b.end=Object(f.g)(m,i):v&&(b.end=(b.begin||0)+Object(f.g)(v,i)),e.push(b)}}return e.length||n(306005),e}(t.responseXML),l=o(s),delete e.xhr,i(l)}else{var g=t.responseText;g.indexOf("WEBVTT")>=0?r.e(19).then(function(){return r(163)["default"]}.bind(null,r))["catch"](Object(u.c)(301131)).then(function(t){var r=new t(window);l=[],r.oncue=function(t){l.push(t)},r.onflush=function(){delete e.xhr,i(l)},r.parse(g)})["catch"](function(t){delete e.xhr,a(Object(h.C)(null,h.c,t))}):(s=Object(d.a)(g),l=o(s),delete e.xhr,i(l))}}catch(t){delete e.xhr,a(Object(h.C)(null,h.c,t))}}(a,t,e,i)},function(t,e,r,n){i(Object(h.B)(n,h.c))})}function a(t){t&&t.forEach(function(t){var e=t.xhr;e&&(e.onload=null,e.onreadystatechange=null,e.onerror=null,"abort"in e&&e.abort()),delete t.xhr})}function o(t){return t.map(function(t){return new s.a(t.begin,t.end,t.text)})}var s=r(78),u=r(6),l=r(27),c=r(5),d=r(77),f=r(2),h=r(1);r.d(e,"b",function(){return i}),r.d(e,"a",function(){return a})},84:function(t,e,r){"use strict";function n(t,e){return t!==1/0&&Math.abs(t)>=Math.max(a(e),0)}function i(t,e){var r="VOD";return t===1/0?r="LIVE":t<0&&(r=n(t,a(e))?"DVR":"LIVE"),r}function a(t){return void 0===t?120:Math.max(t,0)}r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i})},85:function(t,e,r){"use strict";function n(t){var e=-1;return t>=1280?e=7:t>=960?e=6:t>=800?e=5:t>=640?e=4:t>=540?e=3:t>=420?e=2:t>=320?e=1:t>=250&&(e=0),e}function i(t,e){var r="jw-breakpoint-"+e;Object(a.p)(t,/jw-breakpoint--?\d+/,r)}r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i});var a=r(8)},87:function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-jwplayer-logo" viewBox="0 0 992 1024" focusable="false"><path d="M144 518.4c0 6.4-6.4 6.4-6.4 0l-3.2-12.8c0 0-6.4-19.2-12.8-38.4 0-6.4-6.4-12.8-9.6-22.4-6.4-6.4-16-9.6-28.8-6.4-9.6 3.2-16 12.8-16 22.4s0 16 0 25.6c3.2 25.6 22.4 121.6 32 140.8 9.6 22.4 35.2 32 54.4 22.4 22.4-9.6 28.8-35.2 38.4-54.4 9.6-25.6 60.8-166.4 60.8-166.4 6.4-12.8 9.6-12.8 9.6 0 0 0 0 140.8-3.2 204.8 0 25.6 0 67.2 9.6 89.6 6.4 16 12.8 28.8 25.6 38.4s28.8 12.8 44.8 12.8c6.4 0 16-3.2 22.4-6.4 9.6-6.4 16-12.8 25.6-22.4 16-19.2 28.8-44.8 38.4-64 25.6-51.2 89.6-201.6 89.6-201.6 6.4-12.8 9.6-12.8 9.6 0 0 0-9.6 256-9.6 355.2 0 25.6 6.4 48 12.8 70.4 9.6 22.4 22.4 38.4 44.8 48s48 9.6 70.4-3.2c16-9.6 28.8-25.6 38.4-38.4 12.8-22.4 25.6-48 32-70.4 19.2-51.2 35.2-102.4 51.2-153.6s153.6-540.8 163.2-582.4c0-6.4 0-9.6 0-12.8 0-9.6-6.4-19.2-16-22.4-16-6.4-32 0-38.4 12.8-6.4 16-195.2 470.4-195.2 470.4-6.4 12.8-9.6 12.8-9.6 0 0 0 0-156.8 0-288 0-70.4-35.2-108.8-83.2-118.4-22.4-3.2-44.8 0-67.2 12.8s-35.2 32-48 54.4c-16 28.8-105.6 297.6-105.6 297.6-6.4 12.8-9.6 12.8-9.6 0 0 0-3.2-115.2-6.4-144-3.2-41.6-12.8-108.8-67.2-115.2-51.2-3.2-73.6 57.6-86.4 99.2-9.6 25.6-51.2 163.2-51.2 163.2v3.2z"></path></svg>'},88:function(t,e,r){"use strict";function n(t){if(!s[t]){var e=Object.keys(s);e.length>10&&delete s[e[0]];var r=Object(o.a)(t);s[t]=r}return s[t].cloneNode(!0)}r.d(e,"b",function(){return n}),r.d(e,"a",function(){return u});var i=r(11),a=r(34),o=r(76),s={},u=function(){function t(t,e,r,o,s){var u,l=document.createElement("div");l.className="jw-icon jw-icon-inline jw-button-color jw-reset "+(s||""),l.setAttribute("button",o),l.setAttribute("role","button"),l.setAttribute("tabindex","0"),e&&l.setAttribute("aria-label",e),t&&"<svg"===t.substring(0,4)?u=n(t):((u=document.createElement("div")).className="jw-icon jw-button-image jw-button-color jw-reset",t&&Object(i.d)(u,{backgroundImage:"url("+t+")"})),l.appendChild(u),new a.a(l).on("click tap enter",r,this),l.addEventListener("mousedown",function(t){t.preventDefault()}),this.id=o,this.buttonElement=l}var e=t.prototype;return e.element=function(){return this.buttonElement},e.toggle=function(t){t?this.show():this.hide()},e.show=function(){this.buttonElement.style.display=""},e.hide=function(){this.buttonElement.style.display="none"},t}()},91:function(t,e,r){"use strict";r.d(e,"a",function(){return d});var n,i=r(0),a=r(4),o=r(6),s=r(9),u=r(3),l=r(11),c=r(8),d={back:!0,backgroundOpacity:50,edgeStyle:null,fontSize:14,fontOpacity:100,fontScale:.05,preprocessor:i.o,windowOpacity:0},f=function(t){function e(){Object(i.s)(h.fontSize)&&(j.get("containerHeight")?w=d.fontScale*(h.userFontScale||1)*h.fontSize/d.fontSize:j.once("change:containerHeight",e,this))}function s(){var t=j.get("containerHeight");if(t){var e;if(j.get("fullscreen")&&a.OS.iOS)e=null;else{var r=t*w;e=Math.round(10*function(t){var e=j.get("mediaElement");if(e&&e.videoHeight){var r=e.videoWidth,n=e.videoHeight,i=r/n,o=j.get("containerHeight"),s=j.get("containerWidth");if(j.get("fullscreen")&&a.OS.mobile){var u=window.screen;u.orientation&&(o=u.availHeight,s=u.availWidth)}
if(s&&o&&r&&n)return(s/o>i?o:n*s/r)*w}return t}(r))/10}j.get("renderCaptionsNatively")?function(t,e){var r="#"+t+" .jw-video::-webkit-media-text-track-display";e&&(e+="px",a.OS.iOS&&Object(l.b)(r,{fontSize:"inherit"},t,!0)),T.fontSize=e,Object(l.b)(r,T,t,!0)}(j.get("id"),e):Object(l.d)(m,{fontSize:e})}}function f(t,e,r){var n=Object(l.c)("#000000",r);"dropShadow"===t?e.textShadow="0 2px 1px "+n:"raised"===t?e.textShadow="0 0 5px "+n+", 0 1px 5px "+n+", 0 2px 5px "+n:"depressed"===t?e.textShadow="0 -2px 1px "+n:"uniform"===t&&(e.textShadow="-2px 0 1px "+n+",2px 0 1px "+n+",0 -2px 1px "+n+",0 2px 1px "+n+",-1px 1px 1px "+n+",1px 1px 1px "+n+",1px -1px 1px "+n+",1px 1px 1px "+n)}var h,p,g,v,m,b,y,w,T,k=this,j=t.player;(m=document.createElement("div")).className="jw-captions jw-reset",this.show=function(){Object(c.a)(m,"jw-captions-enabled")},this.hide=function(){Object(c.o)(m,"jw-captions-enabled")},this.populate=function(t){j.get("renderCaptionsNatively")||(g=[],p=t,t?this.selectCues(t,v):this.renderCues())},this.resize=function(){s(),this.renderCues(!0)},this.renderCues=function(t){t=!!t,n&&n.processCues(window,g,m,t)},this.selectCues=function(t,e){if(t&&t.data&&e&&!j.get("renderCaptionsNatively")){var r=this.getAlignmentPosition(t,e);!1!==r&&(g=this.getCurrentCues(t.data,r),this.renderCues(!0))}},this.getCurrentCues=function(t,e){return Object(i.k)(t,function(t){return e>=t.startTime&&(!t.endTime||e<=t.endTime)})},this.getAlignmentPosition=function(t,e){var r=t.source,n=e.metadata,a=e.currentTime;return r&&n&&Object(i.v)(n[r])&&(a=n[r]),a},this.clear=function(){Object(c.g)(m)},this.setup=function(t,r){b=document.createElement("div"),y=document.createElement("span"),b.className="jw-captions-window jw-reset",y.className="jw-captions-text jw-reset",h=Object(i.j)({},d,r),w=d.fontScale;var n=function(){e(h.fontSize);var r=h.windowColor,n=h.windowOpacity,i=h.edgeStyle;T={};var o={};!function(t,e){var r=e.color,n=e.fontOpacity;if((r||n!==d.fontOpacity)&&(t.color=Object(l.c)(r||"#ffffff",n)),e.back){var i=e.backgroundColor,a=e.backgroundOpacity;i===d.backgroundColor&&a===d.backgroundOpacity||(t.backgroundColor=Object(l.c)(i,a))}else t.background="transparent";e.fontFamily&&(t.fontFamily=e.fontFamily),e.fontStyle&&(t.fontStyle=e.fontStyle),e.fontWeight&&(t.fontWeight=e.fontWeight),e.textDecoration&&(t.textDecoration=e.textDecoration)}(o,h),(r||n!==d.windowOpacity)&&(T.backgroundColor=Object(l.c)(r||"#000000",n)),f(i,o,h.fontOpacity),h.back||null!==i||f("uniform",o),Object(l.d)(b,T),Object(l.d)(y,o),function(t,e){s(),function(t,e){a.Browser.safari&&Object(l.b)("#"+t+" .jw-video::-webkit-media-text-track-display-backdrop",{backgroundColor:e.backgroundColor},t,!0),Object(l.b)("#"+t+" .jw-video::-webkit-media-text-track-display",T,t,!0),Object(l.b)("#"+t+" .jw-video::cue",e,t,!0)}(t,e),function(t,e){Object(l.b)("#"+t+" .jw-text-track-display",T,t),Object(l.b)("#"+t+" .jw-text-track-cue",e,t)}(t,e)}(t,o)};n(),b.appendChild(y),m.appendChild(b),j.change("captionsTrack",function(t,e){this.populate(e)},this),j.set("captions",h),j.on("change:captions",function(t,e){h=e,n()})},this.element=function(){return m},this.destroy=function(){j.off(null,null,this),this.off()};var E=function(t){v=t,k.selectCues(p,v)};j.on("change:playlistItem",function(){v=null,g=[]},this),j.on(u.Q,function(t){g=[],E(t)},this),j.on(u.S,E,this),j.on("subtitlesTrackData",function(){this.selectCues(p,v)},this),j.on("change:captionsList",function _(t,e){var i=this;1!==e.length&&(t.get("renderCaptionsNatively")||n||(r.e(10).then(function(){n=r(98)["default"]}.bind(null,r))["catch"](Object(o.c)(301121))["catch"](function(t){i.trigger(u.wb,t)}),t.off("change:captionsList",_,this)))},this)};Object(i.j)(f.prototype,s.a),e.b=f}}]),
/*!
   JW Player version 8.18.2
   Copyright (c) 2020, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.18.2/notice.txt
*/
(window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[]).push([[14],{122:function(t,e,r){"use strict";function n(t){return{bitrate:t.bitrate,label:t.label,width:t.width,height:t.height}}r.d(e,"a",function(){return n})},143:function(t,e,r){"use strict";var n=r(3),i=r(52),a={canplay:function(){this.renderNatively&&this.setTextTracks(this.video.textTracks),this.trigger(n.E)},play:function(){this.stallTime=-1,this.video.paused||this.state===n.qb||this.setState(n.ob)},loadedmetadata:function(){var t={metadataType:"media",duration:this.getDuration(),height:this.video.videoHeight,width:this.video.videoWidth,seekRange:this.getSeekRange()},e=this.drmUsed;e&&(t.drm=e),this.trigger(n.K,t)},timeupdate:function(){var t=this.video.currentTime,e=this.getCurrentTime(),r=this.getDuration();if(!isNaN(r)){this.seeking||this.video.paused||this.state!==n.rb&&this.state!==n.ob||this.stallTime===t||(this.stallTime=-1,this.setState(n.qb),this.trigger(n.gb));var i={position:e,duration:r,currentTime:t,seekRange:this.getSeekRange(),metadata:{currentTime:t}};if(this.getPtsOffset){var a=this.getPtsOffset();a>=0&&(i.metadata.mpegts=a+e)}var o=this.getLiveLatency();null!==o&&(i.latency=o),(this.state===n.qb||this.seeking&&this.state!==n.nb)&&this.trigger(n.S,i)}},click:function(t){this.trigger(n.n,t)},volumechange:function(){var t=this.video;this.trigger(n.V,{volume:Math.round(100*t.volume)}),this.trigger(n.M,{mute:t.muted})},seeking:function(){if(this.state===n.ob){var t=this.video.buffered.length?this.video.buffered.start(0):-1;if(this.video.currentTime===t)return}else if(this.state===n.nb)return;this.seeking=!0},seeked:function(){this.seeking&&(this.seeking=!1,this.trigger(n.R))},playing:function(){-1===this.stallTime&&this.setState(n.qb),this.trigger(n.gb)},pause:function(){this.state!==n.lb&&(this.video.ended||this.video.error||this.video.currentTime!==this.video.duration&&this.setState(n.pb))},progress:function(){var t=this.getDuration();if(!(t<=0||t===1/0)){var e=this.video.buffered;if(e&&0!==e.length){var r=Object(i.a)(e.end(e.length-1)/t,0,1);this.trigger(n.D,{bufferPercent:100*r,position:this.getCurrentTime(),duration:t,currentTime:this.video.currentTime,seekRange:this.getSeekRange()})}}},ratechange:function(){this.trigger(n.P,{playbackRate:this.video.playbackRate})},ended:function(){this.state!==n.nb&&this.state!==n.lb&&this.trigger(n.F)}};e.a=a},144:function(t,e,r){"use strict";var n=r(4),i=r(11),a=r(97),o={container:null,volume:function(t){this.video.volume=Math.min(Math.max(0,t/100),1)},mute:function(t){this.video.muted=!!t,this.video.muted||this.video.removeAttribute("muted")},resize:function(t,e,r){var a=this.video,o=a.videoWidth,s=a.videoHeight;if(t&&e&&o&&s){var u={objectFit:"",width:"",height:""};if("uniform"===r){var l=t/e,c=o/s,d=Math.abs(l-c);d<.09&&d>.0025&&(u.objectFit="fill",r="exactfit")}if(n.Browser.ie||n.OS.iOS&&n.OS.version.major<9||n.Browser.androidNative)if("uniform"!==r){u.objectFit="contain";var f=t/e,h=o/s,p=1,g=1;"none"===r?p=g=f>h?Math.ceil(100*s/e)/100:Math.ceil(100*o/t)/100:"fill"===r?p=g=f>h?f/h:h/f:"exactfit"===r&&(f>h?(p=f/h,g=1):(p=1,g=h/f)),Object(i.e)(a,"matrix("+p.toFixed(2)+", 0, 0, "+g.toFixed(2)+", 0, 0)")}else u.top=u.left=u.margin="",Object(i.e)(a,"");Object(i.d)(a,u)}},getContainer:function(){return this.container},setContainer:function(t){this.container=t,this.video.parentNode!==t&&t.appendChild(this.video)},removeFromContainer:function(){var t=this.container,e=this.video;this.container=null,t&&t===e.parentNode&&t.removeChild(e)},remove:function(){this.stop(),this.destroy(),this.removeFromContainer()},atEdgeOfLiveStream:function(){return!!this.isLive()&&Object(a.a)(this.video.buffered)-this.video.currentTime<=2}};e.a=o},145:function(t,e){"use strict";e.a={eventsOn_:function(){},eventsOff_:function(){},attachMedia:function(){this.eventsOn_()},detachMedia:function(){return this.eventsOff_()}}},146:function(t,e,r){"use strict";function n(t,e,r){var n=t+1e3,o=i.p;return e>0?(403===e&&(o=i.r),n+=a(e)):"http:"===(""+r).substring(0,5)&&"https:"===document.location.protocol?n+=12:0===e&&(n+=11),{code:n,key:o}}r.d(e,"b",function(){return n}),r.d(e,"a",function(){return a});var i=r(1),a=function(t){return t>=400&&t<600?t:6}},156:function(t,e,r){"use strict";function n(t,e){var r=t[e];return!Object(a.u)(r)&&r>=0?r:null}function i(t,e,r){var i=function(t,e,r){var i=n(r,"startPTS"),o=null===i?n(r,"start"):i;if(null===o)return null;switch(t){case"PROGRAM-DATE-TIME":return{metadataType:"program-date-time",programDateTime:e,start:o,end:o+n(r,"duration")};case"EXT-X-DATERANGE":var s={},u=e.split(",").map(function(t){var e=t.split("="),r=e[0],n=(e[1]||"").replace(/^"|"$/g,"");return s[r]=n,{name:r,value:n}}),l=s["START-DATE"];if(!l)return null;var c=s["END-DATE"],d=o;if(r.programDateTime&&(d+=(new Date(l)-new Date(r.programDateTime))/1e3),Object(a.u)(d))return null;var f=parseFloat(s["PLANNED-DURATION"]||s.DURATION)||0;return!f&&c&&(f=(new Date(c)-new Date(l))/1e3),{metadataType:"date-range",tag:t,content:e,attributes:u,start:d,end:d+f,startDate:l,endDate:c,duration:f};case"EXT-X-CUE-IN":case"EXT-X-CUE-OUT":return{metadataType:"scte-35",tag:t,content:e,start:o,end:o+(parseFloat(e)||0)};case"DISCONTINUITY":var h=o+n(r,"duration");return{metadataType:"discontinuity",tag:t,discontinuitySequence:r.cc,PTS:e,start:o,end:h};default:return null}}(t,e,r);if(i){if(Object(a.u)(i.start))return;var s=this.createCue(i.start,i.end,JSON.stringify(i)),u=r.sn+"_"+t+"_"+e;if(this.addVTTCue({type:"metadata",cue:s},u)){var l=i.metadataType;delete i.metadataType,this.trigger(o.L,{metadataType:l,metadata:i})}}}r.d(e,"a",function(){return i});var a=r(0),o=r(3)},157:function(t,e,r){"use strict";r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i});var n=1,i=25},158:function(t,e,r){"use strict";function n(t,e,r){if(!t)return"";var n=t.bitrate||t.bandwidth;return function(t,e){var r=null;if(e&&t){var n=Object.keys(t);if(n.length){var a=function(t,e){var r,n=null,i=1/0;return t.forEach(function(t){(r=Math.abs(parseFloat(t)-e))<i&&(n=t,i=r)}),n}(n,i(e));a&&(r=t[a])}}return r}(e,n)||t.label||function(t,e,r){if(!t&&!e)return"";var n="",a="";return e&&(n=a=i(e)+" kbps"),t&&(n=t+"p",e&&r&&(n+=" ("+a+")")),n}(t.height,n,r)}function i(t){return Math.floor(t/1e3)}function a(t){return!!Array.isArray(t)&&s(t,["height","bitrate","bandwidth"])}function o(t){return!!Array.isArray(t)&&s(t,["label"])}function s(t,e){return t.some(function(t){for(var r,n=0;n<e.length&&!(r=t[e[n]]);n++);if(!r)return!1;var i=this[r]||!1;return this[r]=!0,i},{})}r.d(e,"a",function(){return n}),r.d(e,"d",function(){return i}),r.d(e,"c",function(){return a}),r.d(e,"b",function(){return o})},159:function(t,e,r){"use strict";function n(t,e){var r,n=e;return{start:function(){this.stop(),r=window.setInterval(function(){var e=t.getBandwidthEstimate();Object(a.z)(e)&&(n=e,t.trigger(i.i,{bandwidthEstimate:n}))},1e3)},stop:function(){clearInterval(r)},getEstimate:function(){return n}}}r.d(e,"a",function(){return n});var i=r(3),a=r(0)},161:function(t,e,r){"use strict";function n(t,e){var r=Object(h.c)(t),n=Object(d.A)(t,function(t,n){return{label:Object(h.a)(t,e,r),level_id:t.id,hlsjsIndex:n,bitrate:t.bitrate,height:t.height,width:t.width,audioGroupId:t.attrs?t.attrs.AUDIO:void 0}});return(n=p(n)).length>1&&n.unshift({label:"Auto",level_id:"auto",hlsjsIndex:-1}),n}function i(t,e){return Math.max(0,Object(d.p)(e,Object(d.l)(e,function(e){return e.hlsjsIndex===t})))}function a(t,e,r,n){void 0===n&&(n=t.length);var i,a,o=function(){try{return window.devicePixelRatio}catch(t){}return 1}();e*=o,r*=o;for(var s=0;s<n;s++){var u=t[s];if((u.width>=e||u.height>=r)&&(i=u,!(a=t[s+1])||i.width!==a.width||i.height!==a.height))return s}return n-1}function o(t){var e=t.withCredentials,r=t.aesToken,n=t.renderTextTracksNatively,i=t.onXhrOpen,a=t.liveSyncDuration,o=t.hlsjsConfig,s=Object(d.D)(o||{},["liveSyncDuration","liveSyncDurationCount","liveMaxLatencyDuration","liveMaxLatencyDurationCount","liveBackBufferLength","loader","pLoader","fLoader","debug"]),u={autoStartLoad:!1,testBandwidth:!1,maxBufferSize:3e7,maxMaxBufferLength:E.a,liveBackBufferLength:900,capLevelToPlayerSize:!1,renderNatively:n,renderTextTracksNatively:n,debug:!!j&&c,captionsTextTrack1Label:"Unknown CC",captionsTextTrack2Label:"Unknown CC",captionsTextTrack1LanguageCode:"",captionsTextTrack2LanguageCode:"",progressive:!1},l=s.liveSyncDurationCount,f=s.liveMaxLatencyDurationCount;if(void 0!==l||void 0!==f)s.liveSyncDuration=s.liveMaxLatencyDuration=void 0,s.liveSyncDurationCount=Object(d.s)(l)?l:1/0,s.liveMaxLatencyDurationCount=Object(d.s)(f)?f:1/0;else{s.liveSyncDurationCount=s.liveMaxLatencyDurationCount=void 0,u.liveSyncDuration=Object(_.c)(a);var h=s.liveMaxLatencyDuration;s.liveMaxLatencyDuration=Object(d.s)(h)?h:1/0}return e||r||i?Object(d.j)({},u,function(t,e,r){return{xhrSetup:function(n,i){if(t&&(n.withCredentials=!0),e){var a=i.indexOf("?")>0?"&token=":"?token=";n.open("GET",i+a+e,!0)}"function"==typeof r&&r(n,i)},fetchSetup:function(r,n){if(e){var i=r.url.indexOf("?")>0?"&token=":"?token=";r.url=r.url+i+e}return t&&(n.credentials="include"),new Request(r.url,n)}}}(e,r,i),s):Object(d.j)({},u,s)}function s(t){if(t){if(/^frag/.test(t))return 2e3;if(/^(manifest|level|audioTrack)/.test(t))return 1e3;if(/^key/.test(t))return 4e3}return 0}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t){var e=t.Events,r=e.MEDIA_ATTACHED,l=e.MEDIA_DETACHED,c=e.MANIFEST_PARSED,h=e.LEVEL_LOADED,p=e.LEVEL_UPDATED,g=e.LEVEL_PTS_UPDATED,v=e.FRAG_CHANGED,m=e.LEVEL_SWITCHED,b=e.FRAG_PARSING_METADATA,y=e.BUFFER_APPENDED,w=e.BUFFER_CODECS,T=e.FRAG_BUFFERED,k=e.INIT_PTS_FOUND,j=e.NON_NATIVE_TEXT_TRACKS_FOUND,_=e.CUES_PARSED,C=e.AUDIO_TRACKS_UPDATED,A=e.ERROR,x=t.ErrorTypes,W=x.MEDIA_ERROR,Y=x.NETWORK_ERROR,X=function(t){var e=t.ErrorTypes.NETWORK_ERROR,r=t.ErrorDetails,n=r.MANIFEST_PARSING_ERROR,i=r.LEVEL_EMPTY_ERROR,a=r.MANIFEST_INCOMPATIBLE_CODECS_ERROR,o=r.FRAG_PARSING_ERROR,u=r.FRAG_DECRYPT_ERROR,l=r.BUFFER_STALLED_ERROR,c=r.BUFFER_APPEND_ERROR,d=r.INTERNAL_EXCEPTION,f=r.MANIFEST_LOAD_ERROR,h=r.LEVEL_LOAD_ERROR,p=r.LEVEL_LOAD_TIMEOUT,g=r.BUFFER_SEEK_OVER_HOLE,v=r.BUFFER_NUDGE_ON_STALL,m=[f,n,a,h],b=[l,g,v],y=[i,h,p];return function(t){var r=t.details,f=t.response,h=t.type,p=t.fatal,g=m.indexOf(r)<0,v=b.indexOf(r)>=0,w=y.indexOf(r)>=0,T=O.p,k=23e4;switch(r){case n:k=232600;break;case i:k=232631;break;case a:T=O.o,k=232632;break;case o:k=233600;break;case u:k=233650;break;case l:k=234001;break;case c:k=234002;break;case d:k=239e3;break;default:if(h===e)if(!1===navigator.onLine)g=!1,w=!1,k=(p="manifestLoadError"===r)?232002:230002,T=O.m;else if(/TimeOut$/.test(r))k=231001+s(r);else if(f){var j=Object(S.b)(23e4,f.code,t.url,f.text);k=j.code,T=j.key,k+=s(r)}}return{key:T,code:k,recoverable:g,stalling:v,suppressLevel:w,fatal:p,error:t}}}(t);return function(e){function s(t,r,n){var i;return(i=e.call(this)||this).bandwidthMonitor=Object(V.a)(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),r.bandwidthEstimate),i.bitrateSelection=r.bitrateSelection,i.bufferStallTimeout=1e3,i.connectionTimeoutDuration=1e4,i.dvrEnd=null,i.dvrPosition=null,i.dvrUpdatedTime=0,i.eventHandler=null,i.hlsjs=null,i.hlsjsConfig=null,i.hlsjsOptions=null,i.jwConfig=r,i.lastPosition=0,i.maxRetries=3,i.playerId=t,i.processPlaylistMetadata=P.a,i.recoveryInterval=5e3,i.renderNatively=z(r.renderCaptionsNatively),i.savedVideoProperties=!1,i.seeking=!1,i.staleManifestDurationMultiplier=3e3,i.state=M.nb,i.supports=s.supports,i.supportsPlaybackRate=!0,i.video=n,i.playerWidth=0,i.playerHeight=0,i.playerStretching=null,i.capLevels=!1,i.resetLifecycleVariables(),i}var S,x;x=e,(S=s).prototype=Object.create(x.prototype),S.prototype.constructor=S,S.__proto__=x;var R,Q,J,Z=s.prototype;return Z.resetLifecycleVariables=function(){this.resetRecovery(),this.stopStaleTimeout(),this.stopConnectionTimeout(),this.streamBitrate=-1,this.videoFound=!1,this.videoHeight=0,this.src=null,this.currentHlsjsLevel=null,this.currentJwItem=null,this.jwLevels=[],this.audioTracks=null,this.audioTracksMap=null,this.lastRecoveryTime=null,this.lastEndSn=null,this.levelDuration=0,this.live=!1,this.liveEdgePosition=null,this.liveEdgeUpdated=0,this.liveEdgeSn=-1,this.livePaused=!1,this.recoveringMediaError=!1,this.recoveringNetworkError=!1,this.staleManifestTimeout=null,this.streamType="VOD",this.lastProgramDateTime=0,this.programDateSyncTime=0},Z.resetRecovery=function(){this.retryCount=0},Z.stopStaleTimeout=function(){clearTimeout(this.staleManifestTimeout),this.staleManifestTimeout=null},Z.stopConnectionTimeout=function(){clearTimeout(this.connectionTimeout),this.connectionTimeout=null},Z.startConnectionTimeout=function(){var t=this;this.connectionTimeout||(this.connectionTimeout=setTimeout(function(){navigator.onLine?t.hlsjs.startLoad():t.handleError(230002,null,O.m)},this.connectionTimeoutDuration))},Z.trigger=function(t,r){if(t===M.bb&&r.newstate===M.qb&&!this.videoHeight){var n=this.getCurrentHlsjsLevel();this.checkAdaptation(n)}e.prototype.trigger.call(this,t,r)},Z.initHlsjs=function(e){var r=this.jwConfig.hlsjsConfig,n={withCredentials:!!q(e,this.jwConfig,"withCredentials"),aesToken:q(e,this.jwConfig,"aestoken"),renderTextTracksNatively:this.renderNatively,onXhrOpen:e.sources[0].onXhrOpen,liveSyncDuration:q(e,this.jwConfig,"liveSyncDuration"),hlsjsConfig:r};if(this.setupSideloadedTracks(e.tracks),this.capLevels=!e.stereomode,!this.hlsjs||!Object(d.B)(this.hlsjsOptions)(n)){this.hlsjsOptions=n,this.restoreVideoProperties(),this.stopStaleTimeout(),this.stopConnectionTimeout(),this.hlsjsConfig=o(n);var i=Object(d.j)({},this.hlsjsConfig),a=this.bandwidthMonitor.getEstimate();Object(d.z)(a)&&(i.abrEwmaDefaultEstimate=a),this.hlsjs=new t(i),this.eventHandler=new f(this.video,this.createVideoListeners(),this.hlsjs,this.createHlsjsListeners())}},Z.init=function(t){this.destroy(),this.initHlsjs(t)},Z.preload=function(t){"metadata"===t.preload&&(this.maxBufferLength=E.b),this.load(t)},Z.load=function(t){var e=this.hlsjs,r=this.video,n=this.src,i=t.sources[0].file,a=i.url&&"string"==typeof i.url?i.url:i;if(n!==a||this.videoSrc!==r.src){var o=t.starttime||-1;o<-1&&(o=this.lastPosition),this.initHlsjs(t),this.currentJwItem=t,this.src=a,this.videoHeight=0,this.eventsOn_(),e.config.startPosition=o,e.loadSource(a),e.attachMedia(r),this.videoSrc=r.src}else this.maxBufferLength=E.a},Z.restartStream=function(t){var e=Object(d.j)({},this.currentJwItem);t?e.starttime=t:delete e.starttime,this.src=null,this._clearNonNativeCues(),this.clearMetaCues(),this.clearTracks(),this.init(e),this.load(e),delete e.starttime},Z.play=function(){return this.livePaused&&(this.livePaused=!1,this.restartStream()),this.video.play()||Object(U.a)(this.video)},Z.pause=function(){this.stopConnectionTimeout(),this.live&&"LIVE"===this.streamType&&!this.livePaused&&this.livePause(),this.video.pause()},Z.livePause=function(){this.livePaused=!0,this.hlsjs.stopLoad(),this.stopStaleTimeout()},Z.stop=function(){this.clearTracks(),this.hlsjs&&(this.eventsOff_(),this.hlsjs.stopLoad()),this.pause(),this.setState(M.nb)},Z.seek=function(t){var e=this.getDuration();if(e&&e!==1/0&&!Object(d.u)(e)){this.stopStaleTimeout(),this.stopConnectionTimeout();var r=t>=0?t:t+this.video.duration,n=this.getSeekRange();"DVR"===this.streamType&&(this.dvrPosition=r-this.dvrEnd,t<0&&(r+=Math.min(12,(Object(F.a)()-this.dvrUpdatedTime)/1e3))),this.seeking=!0,this.trigger(M.Q,{position:this.getCurrentTime(),offset:r}),this.video.currentTime=r;var i=this.video.currentTime,a={position:this.getCurrentTime(),duration:e,currentTime:i,seekRange:n,metadata:{currentTime:i}};this.trigger("time",a)}},Z.getCurrentQuality=function(){var t=0;return this.hlsjs&&!this.hlsjs.autoLevelEnabled&&(t=i(this.hlsjs.manualLevel,this.jwLevels)),t},Z.getQualityLevels=function(){return Object(d.A)(this.jwLevels,function(t){return Object(L.a)(t)})},Z.getCurrentAudioTrack=function(){return Object(d.v)(this.currentAudioTrackIndex)?this.currentAudioTrackIndex:-1},Z.getAudioTracks=function(){return this.audioTracks||[]},Z.getCurrentTime=function(){return this.live&&"DVR"===this.streamType?(this.dvrPosition||this.updateDvrPosition(this.getSeekRange()),this.dvrPosition):this.video.currentTime},Z.getDuration=function(){if(this.live&&this.currentJwItem){var t=this.levelDuration,e=this.currentJwItem.minDvrWindow;return Object(I.a)(t,e)?(this.streamType="DVR",-t):(this.streamType="LIVE",1/0)}return this.streamType="VOD",this.video.duration},Z.getCurrentHlsjsLevel=function(){var t=0;if(this.hlsjs){var e=this.hlsjs,r=e.firstLevel,n=e.currentLevel;t=n>0?n:r}return t},Z.getName=function(){return H()},Z.getPlaybackRate=function(){return this.video.playbackRate},Z.getSeekRange=function(){var t=this.levelDuration,e=this.video,r=e.seekable,n=e.duration,i=r.length?Math.max(r.end(0),r.end(r.length-1)):n;return Object(d.u)(n)?{start:0,end:0}:{start:Math.max(0,i-t),end:i}},Z.getBandwidthEstimate=function(){var t=this.hlsjs;if(t)return t.bandwidthEstimate},Z.getLiveLatency=function(){var t=null;if(this.live&&null!==this.liveEdgePosition){var e=Object(F.a)();t=this.liveEdgePosition+(e-this.liveEdgeUpdated)/1e3-this.video.currentTime;var r=this.lastProgramDateTime;if(r){var n=e/1e3-(r/1e3+(this.video.currentTime-this.programDateSyncTime))-t;n>0&&n<10&&(t+=n)}}return t},Z.setCurrentQuality=function(t){if(!(t<0)){var e,r,n,i=(e=t,r=this.jwLevels,n=-1,e>-1&&r[e]&&(n=r[e].hlsjsIndex),n);this.hlsjs.nextLevel=i,this.trigger(M.J,{levels:this.jwLevels,currentQuality:t}),this.bitrateSelection=this.jwLevels[t].bitrate}},Z.setCurrentAudioTrack=function(t){var e=i(this.getCurrentHlsjsLevel(),this.jwLevels);if(this.jwLevels&&this.jwLevels[e]){var r=this.jwLevels[e].audioGroupId;Object(d.G)(this.audioTracksMap)&&(this.audioTracks=this.audioTracksMap[r],Object(d.v)(t)&&Object(d.G)(this.audioTracks)&&this.audioTracks[t]&&this.currentAudioTrackIndex!==t&&(this.trigger(M.f,{tracks:this.audioTracks,currentTrack:t}),null!==this.currentAudioTrackIndex&&this.audioTracks[t].hlsjsIndex!==this.hlsjs.audioTrack&&this.trigger(M.g,{tracks:this.audioTracks,currentTrack:t}),this.currentAudioTrackIndex=t,this.audioTracks[t].hlsjsIndex!==this.hlsjs.audioTrack&&(this.hlsjs.audioTrack=this.audioTracks[t].hlsjsIndex)))}},Z.updateAudioTrack=function(t){if(this.hlsjs.audioTracks.length){var e,r=this.currentAudioTrackIndex;Object(d.v)(r)?this.audioTracks[r].hlsjsIndex!==this.hlsjs.audioTrack&&(this.currentAudioTrackIndex=null):(void 0===(e=this.audioTracksMap[t.attrs.AUDIO])&&(e=[]),r=Math.max(Object(d.p)(e,Object(d.l)(e,function(t){return t.defaulttrack})),0)),this.setCurrentAudioTrack(r)}},Z.updateDvrPosition=function(t){this.dvrPosition=this.video.currentTime-t.end,this.dvrEnd=t.end,this.dvrUpdatedTime=Object(F.a)()},Z.setCurrentSubtitleTrack=function(t){this.hlsjs.subtitleTrack=t},Z.setPlaybackRate=function(t){this.video.playbackRate=this.video.defaultPlaybackRate=t},Z.isLive=function(){return this.live},Z.checkAdaptation=function(t){var e=this,r=this.hlsjs,n=r.levels,a=r.autoLevelEnabled,o=n[t];if(o){var s=o.width,u=o.height,l=o.bitrate;if(s=s||this.video.videoWidth,(u=u||this.video.videoHeight)!==this.videoHeight||l!==this.streamBitrate){var c=i(t,this.jwLevels),d="api";-1!==this.streamBitrate&&this.streamBitrate||this.videoHeight?a&&(d="auto"):d="initial choice",this.videoHeight=u,this.streamBitrate=l;var f=a?"auto":"manual",h=a&&n.length>1?"auto":this.jwLevels[c].label,p=function(){e.trigger(M.U,{reason:d,mode:f,level:{bitrate:l,index:c,label:h,width:s,height:u}})};D.Browser.ie?this.once("time",p,this):p()}}},Z.createVideoListeners=function(){var t=this,e={waiting:function(){t.startConnectionTimeout(),t.seeking?t.setState(M.ob):t.state===M.qb&&(t.atEdgeOfLiveStream()&&t.setPlaybackRate(1),t.stallTime=t.video.currentTime,t.setState(M.rb))}};return Object(d.i)(N.a,function(r,n){"ended"===n?e[n]=function(){this.videoHeight=0,this.streamBitrate=-1,r.call(this)}.bind(t):"error"!==n&&(e[n]=r.bind(t))}),e},Z.createHlsjsListeners=function(){var t=this,e={};return e[r]=function(){t.recoveringMediaError&&(t.hlsjs.startLoad(),t.recoveringMediaError=!1,t.resetRecovery(),t.stopStaleTimeout(),t.stopConnectionTimeout())},e[l]=function(){t._clearNonNativeCues()},e[c]=function(e,r){var o=r.levels,s=t.bitrateSelection,u=t.hlsjs,l=t.jwConfig,c=-1,f=-1;if(t.currentHlsjsLevel=null,t.jwLevels=n(o,l.qualityLabels),t.capLevels&&(t.playerWidth||t.playerHeight)){var h=a(o,t.playerWidth,t.playerHeight,r.firstLevel+1);u.levelController.firstLevel!==h&&(u.firstLevel=h),t.resize(t.playerWidth,t.playerHeight,t.playerStretching)}Object(d.z)(s)&&(f=c=function(t,e){if(!e)return-1;for(var r=Number.MAX_VALUE,n=-1,i=0;i<t.length;i++){var a=t[i];if(a.bitrate){var o=Math.abs(e-a.bitrate);if(o<=r&&(r=o,n=i),!o)break}}return n}(o,s)),u.startLevel=c,u.nextLevel=f,u.startLoad(u.config.startPosition),t.trigger(M.I,{levels:t.jwLevels,currentQuality:i(c,t.jwLevels)})},e[h]=function(e,r){var n=r.details,i=n.endSN,a=n.live,o=n.targetduration;t.checkStaleManifest(i,a,o)},e[p]=function(e,r){var n=r.details,i=n.live,a=n.totalduration;t.live=i,t.levelDuration=a;var o=t.getSeekRange(),s=Math.abs(t.dvrEnd-o.end)>1;"DVR"===t.streamType&&s&&t.updateDvrPosition(o),i&&t.state===M.nb&&t.livePause()},e[g]=function(e,r){var n=r.details,i=n.fragments,a=n.totalduration;if(t.levelDuration=a,i.length){var o=i[i.length-1];o.sn!==t.liveEdgeSn&&(t.liveEdgeUpdated=Object(F.a)(),t.liveEdgeSn=o.sn,t.liveEdgePosition=o.start+o.duration)}},e[m]=function(e,r){var n=r.level;n!==t.currentHlsjsLevel?t.setCurrentLevel(n):t.checkAdaptation(n)},e[v]=function(e,r){t.lastProgramDateTime=r.frag.programDateTime,t.programDateSyncTime=r.frag.start},e[b]=function(e,r){r.samples&&[].some.call(t.video.textTracks,function(t){return!t.inuse})&&t.setTextTracks(t.video.textTracks)},e[y]=function(){t.connectionTimeout&&t.stopConnectionTimeout(),t.atEdgeOfLiveStream()||t.stopStaleTimeout(),t.recoveringNetworkError&&(t.resetRecovery(),t.recoveringNetworkError=!1)},e[w]=function(e,r){if(!r.audio||!t.videoFound){var n=r.video?"video":"audio";t.videoFound=t.videoFound||"video"===n,t.trigger(M.T,{mediaType:n})}},e[T]=function(e,r){var n=r.frag;(n.tagList||[]).forEach(function(e){var r=e[0],i=e[1];return t.processPlaylistMetadata(r,i,n)})},e[k]=function(e,r){var n=r.frag,i=r.initPTS;t.processPlaylistMetadata("DISCONTINUITY",i,n)},this.renderNatively||(e[j]=function(e,r){t.addTextTracks(r.tracks)},e[_]=function(e,r){if(r&&r.cues&&r.cues.length){var n=!(r.cues[0]instanceof G.a);r.cues.forEach(function(e){if(n){var i=e;(e=new G.a(i.startTime,i.endTime,i.text)).line=i.line,e.align=i.align,e.position=i.position}t.addVTTCue({type:r.type,cue:e,track:r.track})})}}),e[C]=function(e,r){var n=r.audioTracks,i=t.hlsjs.levels,a=t.getCurrentHlsjsLevel();n&&n.length&&(t.currentAudioTrackIndex=null,t.audioTracksMap=function(t){return Object(d.F)(t,function(t,e,r){var n=e.groupId;return t[n]=t[n]||[],t[n].push({autoselect:e.autoselect,defaulttrack:e["default"],groupid:n,language:e.lang,name:e.name,hlsjsIndex:r}),t},{})}(n),t.updateAudioTrack(i[a]))},e[A]=function(e,r){var i=X(r),a=r.type,o=i.key;if(K(r),"DVR"===t.streamType&&a===Y){var s=t.getSeekRange();t.updateDvrPosition(s)}if(232403===i.code&&t.retryCount<t.maxRetries&&/jwpsrv.com\/.*\?token=/.test(r.url)&&(i.suppressLevel=!1,i.recoverable=!0,i.fatal=!0,i.reloadManifest=!0,t.maxRetries=1),i.suppressLevel){var u=r.context||r,l=u.level,c=u.urlId,d=void 0===c?0:c;if(t.hlsjs.removeLevel(l,d),!t.hlsjs.levels.length)return void t.handleError(i.code,r,o);i.fatal=!1,t.jwLevels=n(t.hlsjs.levels,t.jwConfig.qualityLabels),t.playerWidth&&t.playerHeight&&t.resize(t.playerWidth,t.playerHeight,t.playerStretching),t.hlsjs.currentLevel=0,t.hlsjs.currentLevel=-1,t.trigger(M.I,{levels:t.jwLevels,currentQuality:0})}if(i.fatal){var f=Object(F.a)(),h=i.recoverable&&(a===Y||a===W),p=t.retryCount;if(!(h&&p<t.maxRetries))return t.hlsjs.stopLoad(),void t.handleError(i.code,r,o);f>=t.lastRecoveryTime+t.recoveryInterval&&(K("Attempting to recover, retry count:",p),a===Y?/^manifest/.test(r.details)||i.reloadManifest?(t.recoverManifestError(),t.retryCount=p):t.hlsjs.startLoad():a===W&&(t.recoveringMediaError=!0,t.hlsjs.recoverMediaError()),t.recoveringNetworkError=!0,t.retryCount+=1,t.lastRecoveryTime=f)}t.trigger(M.wb,new O.t(null,i.code+1e5,r))},e},Z.resize=function(t,r,n){if(this.playerWidth=t,this.playerHeight=r,this.playerStretching=n,this.capLevels){var i=this.hlsjs,o=i.levels;if(o){var s=i.autoLevelCapping,u=a(o,this.playerWidth,this.playerHeight);u!==s&&(i.autoLevelCapping=u,u>s&&-1!==s&&this.state!==M.nb&&this.state!==M.lb&&i.streamController.nextLevelSwitch())}}e.prototype.resize.call(this,t,r,n)},Z.recoverManifestError=function(){var t=this.video,e=t.currentTime,r=t.paused;e||!r?(this.restartStream(e),r||this.play()["catch"](function(){})):(this.hlsjs.stopLoad(),this.hlsjs.loadSource(this.src))},Z.eventsOn_=function(){var t=this.bandwidthMonitor;this.eventHandler.on(),t.start()},Z.eventsOff_=function(){var t=this.bandwidthMonitor,e=this.eventHandler,r=this.hlsjs;r&&(this.disableTextTrack(),this.lastPosition=this.video.currentTime,r.detachMedia(),e.off()),this.off(null,null,this),t.stop(),this.resetLifecycleVariables()},Z.handleError=function(t,e,r){this.resetLifecycleVariables(),this.trigger(M.G,new O.t(r,t,e))},Z.destroy=function(){this.hlsjs&&(this.eventsOff_(),this.hlsjs.destroy(),this.hlsjs=null,this.hlsjsOptions=null)},Z.restoreVideoProperties=function(){this.savedVideoProperties&&(this.volume(this.jwConfig.volume),this.mute(this.jwConfig.mute),this.savedVideoProperties=!1)},Z.checkStaleManifest=function(t,e,r){var n=this,i=null!==this.jwConfig.liveTimeout?this.jwConfig.liveTimeout:this.staleManifestDurationMultiplier*r;e&&this.lastEndSn===t&&0!==i?this.staleManifestTimeout||(this.staleManifestTimeout=setTimeout(function(){n.checkStreamEnded()},i)):this.stopStaleTimeout(),this.lastEndSn=t,this.live=e},Z.checkStreamEnded=function(){this.hlsjs&&(this.video.ended||this.atEdgeOfLiveStream())&&(this.hlsjs.stopLoad(),this.handleError(230001,null,O.q))},Z.setCurrentLevel=function(t){this.currentHlsjsLevel=t,this.checkAdaptation(t),this.updateAudioTrack(this.hlsjs.levels[t])},Z._clearNonNativeCues=function(){var t=this;!this.renderNatively&&this._textTracks&&this._textTracks.forEach(function(e){t.clearCueData(e._id)})},s.setEdition=function(t){s.supports=Object(B.a)(t)},R=s,(Q=[{key:"maxBufferLength",set:function(t){this.hlsjs&&(this.hlsjs.config.maxMaxBufferLength=t)}}])&&u(R.prototype,Q),J&&u(R,J),s}(R)}var c={};r.r(c),r.d(c,"debug",function(){return b}),r.d(c,"log",function(){return y}),r.d(c,"info",function(){return w}),r.d(c,"warn",function(){return T}),r.d(c,"error",function(){return k}),r.d(c,"isDebug",function(){return j});var d=r(0),f=function(){function t(t,e,r,n){this.video=t,this.hlsjs=r,this.videoListeners=e,this.hlsjsListeners=n}var e=t.prototype;return e.on=function(){var t=this;this.off(),Object(d.i)(this.videoListeners,function(e,r){t.video.addEventListener(r,e,!1)}),Object(d.i)(this.hlsjsListeners,function(e,r){t.hlsjs.on(r,e)})},e.off=function(){var t=this;Object(d.i)(this.videoListeners,function(e,r){t.video.removeEventListener(r,e)}),Object(d.i)(this.hlsjsListeners,function(e,r){t.hlsjs.off(r,e)})},t}(),h=r(158),p=function(t){return t.sort(function(t,e){return t.height&&e.height?t.height===e.height?e.bitrate-t.bitrate:e.height-t.height:e.bitrate-t.bitrate})},g=window.jwplayer&&window.jwplayer.debug,v=function(){},m=function(t){return g?console[t].bind(console,"[Hls.js "+t+"] ->"):v},b=m("debug"),y=m("log"),w=m("info"),T=m("warn"),k=m("error"),j=g,E=r(157),_=r(50),S=r(146),O=r(1),C=r(144),A=r(145),x=r(96),R=function(t){function e(){return t.apply(this,arguments)||this}var r,n;return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e}(r(9).a);Object(d.j)(R.prototype,C.a,A.a,x.a);var L=r(122),P=r(156),I=r(84),D=r(4),M=r(3),F=r(18),N=r(143),B=r(21),U=r(79),V=r(159),G=r(78);r.d(e,"a",function(){return l});var H=function(){return{name:"hlsjs"}},K=window.jwplayer&&window.jwplayer.debug?console["warn"].bind(console):function(){},z=function(t){return!(!D.OS.iOS&&!D.Browser.safari)||D.Browser.chrome&&t},q=function(t,e,r){var n=t.sources[0];return void 0!==n[r]?n[r]:void 0!==t[r]?t[r]:e[r]}},167:function(t,e){var r,n;"undefined"!=typeof window&&(r=this,n=function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(e){return t[e]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=13)}([function(t,e,r){"use strict";function n(){}function i(t,e){return"["+t+"] > "+e}function a(t){var e=l.console[t];return e?function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];n[0]&&(n[0]=i(t,n[0])),e.apply(l.console,n)}:n}r.d(e,"a",function(){return c}),r.d(e,"b",function(){return d});var o=r(5),s={trace:n,debug:n,log:n,warn:n,info:n,error:n},u=s,l=Object(o.a)(),c=function(t){if(l.console&&!0===t||"object"==typeof t){!function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach(function(e){u[e]=t[e]?t[e].bind(t):a(e)})}(t,"debug","log","info","warn","error");try{u.log()}catch(t){u=s}}else u=s},d=u},function(t,e){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},function(t,e,r){"use strict";var n,i;r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i}),function(t){t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError"}(n||(n={})),function(t){t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",
t.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException"}(i||(i={}))},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)};Number.MAX_SAFE_INTEGER},function(t,e,r){"use strict";function n(){var t=Object(a.a)();return i||void 0===t.TextDecoder||(i=new t.TextDecoder("utf-8")),i}r.d(e,"b",function(){return s});var i,a=r(5),o=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,r){for(var n=r,i=0;t.isHeader(e,r);)i+=10,i+=t._readSize(e,r+6),t.isFooter(e,r+10)&&(i+=10),r+=i;if(i>0)return e.subarray(n,n+i)},t._readSize=function(t,e){var r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,(r|=(127&t[e+2])<<7)|127&t[e+3]},t.getTimeStamp=function(e){for(var r=t.getID3Frames(e),n=0;n<r.length;n++){var i=r[n];if(t.isTimeStampFrame(i))return t._readTimeStamp(i)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var r=String.fromCharCode(e[0],e[1],e[2],e[3]),n=t._readSize(e,4);return{type:r,size:n,data:e.subarray(10,10+n)}},t.getID3Frames=function(e){for(var r=0,n=[];t.isHeader(e,r);){for(var i=t._readSize(e,r+6),a=(r+=10)+i;r+8<a;){var o=t._getFrameData(e.subarray(r)),s=t._decodeFrame(o);s&&n.push(s),r+=o.size+10}t.isFooter(e,r)&&(r+=10)}return n},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),r=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var r=t._utf8ArrayToStr(e.data,!0),n=new Uint8Array(e.data.subarray(r.length+1));return{key:e.type,info:r,data:n.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var r=1,n=t._utf8ArrayToStr(e.data.subarray(r),!0);r+=n.length+1;var i=t._utf8ArrayToStr(e.data.subarray(r));return{key:e.type,info:n,data:i}}var a=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:a}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var r=1,n=t._utf8ArrayToStr(e.data.subarray(r),!0);r+=n.length+1;var i=t._utf8ArrayToStr(e.data.subarray(r));return{key:e.type,info:n,data:i}}var a=t._utf8ArrayToStr(e.data);return{key:e.type,data:a}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);var r=n();if(r){var i=r.decode(t);if(e){var a=i.indexOf("\0");return-1!==a?i.substring(0,a):i}return i.replace(/\0/g,"")}for(var o,s,u,l=t.length,c="",d=0;d<l;){if(0===(o=t[d++])&&e)return c;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(o);break;case 12:case 13:s=t[d++],c+=String.fromCharCode((31&o)<<6|63&s);break;case 14:s=t[d++],u=t[d++],c+=String.fromCharCode((15&o)<<12|(63&s)<<6|(63&u)<<0)}}return c},t}(),s=o._utf8ArrayToStr;e.a=o},function(t,e,r){"use strict";function n(){return"undefined"==typeof window?self:window}r.d(e,"a",function(){return n})},function(t){var e,r,n,i,a;e=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,r=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=a.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var r=e.exec(t);return r?{scheme:r[1]||"",netLoc:r[2]||"",path:r[3]||"",params:r[4]||"",query:r[5]||"",fragment:r[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(n,"");t.length!==(t=t.replace(i,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a},function(t,e,r){"use strict";var n=function(){function t(t,e){this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),i=function(){function t(t,e){this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),a=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),r=new Uint32Array(4),n=0;n<4;n++)r[n]=e.getUint32(4*n);return r},e.initTable=function(){var t=this.sBox,e=this.invSBox,r=this.subMix,n=r[0],i=r[1],a=r[2],o=r[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[h]=v,e[v]=h;var m=f[h],b=f[m],y=f[b],w=257*f[v]^16843008*v;n[h]=w<<24|w>>>8,i[h]=w<<16|w>>>16,a[h]=w<<8|w>>>24,o[h]=w,w=16843009*y^65537*b^257*m^16843008*h,u[v]=w<<24|w>>>8,l[v]=w<<16|w>>>16,c[v]=w<<8|w>>>24,d[v]=w,h?(h=m^f[f[f[y^m]]],p^=f[f[p]]):h=p=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),r=!0,n=0;n<e.length&&r;)r=e[n]===this.key[n],n++;if(!r){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),d=this.invKeySchedule=new Uint32Array(l),f=this.sBox,h=this.rcon,p=this.invSubMix,g=p[0],v=p[1],m=p[2],b=p[3];for(a=0;a<l;a++)a<i?s=c[a]=e[a]:(u=s,a%i==0?(u=f[(u=u<<8|u>>>24)>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u],u^=h[a/i|0]<<24):i>6&&a%i==4&&(u=f[u>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u]),c[a]=s=(c[a-i]^u)>>>0);for(o=0;o<l;o++)a=l-o,u=3&o?c[a]:c[a-4],d[o]=o<4||a<=4?u:g[f[u>>>24]]^v[f[u>>>16&255]]^m[f[u>>>8&255]]^b[f[255&u]],d[o]=d[o]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,r,n){for(var i,a,o,s,u,l,c,d,f,h,p,g,v,m,b,y,w,T=this.keySize+6,k=this.invKeySchedule,j=this.invSBox,E=this.invSubMix,_=E[0],S=E[1],O=E[2],C=E[3],A=this.uint8ArrayToUint32Array_(r),x=A[0],R=A[1],L=A[2],P=A[3],I=new Int32Array(t),D=new Int32Array(I.length),M=this.networkToHostOrderSwap;e<I.length;){for(f=M(I[e]),h=M(I[e+1]),p=M(I[e+2]),g=M(I[e+3]),u=f^k[0],l=g^k[1],c=p^k[2],d=h^k[3],v=4,m=1;m<T;m++)i=_[u>>>24]^S[l>>16&255]^O[c>>8&255]^C[255&d]^k[v],a=_[l>>>24]^S[c>>16&255]^O[d>>8&255]^C[255&u]^k[v+1],o=_[c>>>24]^S[d>>16&255]^O[u>>8&255]^C[255&l]^k[v+2],s=_[d>>>24]^S[u>>16&255]^O[l>>8&255]^C[255&c]^k[v+3],u=i,l=a,c=o,d=s,v+=4;i=j[u>>>24]<<24^j[l>>16&255]<<16^j[c>>8&255]<<8^j[255&d]^k[v],a=j[l>>>24]<<24^j[c>>16&255]<<16^j[d>>8&255]<<8^j[255&u]^k[v+1],o=j[c>>>24]<<24^j[d>>16&255]<<16^j[u>>8&255]<<8^j[255&l]^k[v+2],s=j[d>>>24]<<24^j[u>>16&255]<<16^j[l>>8&255]<<8^j[255&c]^k[v+3],v+=3,D[e]=M(i^x),D[e+1]=M(s^R),D[e+2]=M(o^L),D[e+3]=M(a^P),x=f,R=h,L=p,P=g,e+=4}return n?(w=(y=(b=D.buffer).byteLength)&&new DataView(b).getUint8(y-1))?b.slice(0,y-w):b:D.buffer},e.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),o=r(2),s=r(0),u=r(1),l=r(5),c=Object(l.a)(),d=function(){function t(t,e,r){var n=(void 0===r?{}:r).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=i,i)try{var a=c.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(t){}this.disableWebCrypto=!this.subtle}var e=t.prototype;return e.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.decrypt=function(t,e,r,o){var u=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.b.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new a),l.expandKey(e),o(l.decrypt(t,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(s.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new i(c,e)),this.fastAesKey.expandKey().then(function(i){new n(c,r).decrypt(t,i)["catch"](function(n){u.onWebCryptoError(n,t,e,r,o)}).then(function(t){o(t)})})["catch"](function(n){u.onWebCryptoError(n,t,e,r,o)})}},e.onWebCryptoError=function(t,e,r,n,i){this.config.enableSoftwareAES?(s.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,r,n,i)):(s.b.error("decrypting error : "+t.message),this.observer.trigger(u.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},e.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=d},function(t){"use strict";function e(){}function r(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function n(t,e,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new r(n,i||t,a),u=s?s+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],o]:t._events[u].push(o):(t._events[u]=o,t._eventsCount++),t}function i(t,r){0==--t._eventsCount?t._events=new e:delete t._events[r]}function a(){this._events=new e,this._eventsCount=0}var o=Object.prototype.hasOwnProperty,s="~";Object.create&&(e.prototype=Object.create(null),(new e).__proto__||(s=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)o.call(t,e)&&r.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t){var e=s?s+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,a=new Array(i);n<i;n++)a[n]=r[n].fn;return a},a.prototype.listenerCount=function(t){var e=s?s+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,n,i,a){var o=s?s+t:t;if(!this._events[o])return!1;var u,l,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,i),!0;case 6:return c.fn.call(c.context,e,r,n,i,a),!0}for(l=1,u=new Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,r){return n(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return n(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,r,n){var a=s?s+t:t;if(!this._events[a])return this;if(!e)return i(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||n&&!o.once||r&&o.context!==r||i(this,a);else{for(var u=0,l=[],c=o.length;u<c;u++)(o[u].fn!==e||n&&!o[u].once||r&&o[u].context!==r)&&l.push(o[u]);l.length?this._events[a]=1===l.length?l[0]:l:i(this,a)}return this},a.prototype.removeAllListeners=function(t){var r;return t?(r=s?s+t:t,this._events[r]&&i(this,r)):(this._events=new e,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=s,a.EventEmitter=a,t.exports=a},function(t,e,r){"use strict";function n(t,e){return 255===t[e]&&240==(246&t[e+1])}function i(t,e){return 1&t[e+1]?7:9}function a(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function o(t,e){return!!(e+1<t.length&&n(t,e))}function s(t,e){if(o(t,e)){var r=i(t,e);if(e+r>=t.length)return!1;var s=a(t,e);if(s<=r)return!1;var u=e+s;if(u===t.length||u+1<t.length&&n(t,u))return!0}return!1}function u(t,e,r,n,i){if(!t.samplerate){var a=function(t,e,r,n){var i,a,o,s,u,l=navigator.userAgent.toLowerCase(),c=n,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(i=1+((192&e[r+2])>>>6),!((a=(60&e[r+2])>>>2)>d.length-1))return s=(1&e[r+2])<<2,s|=(192&e[r+3])>>>6,w.b.log("manifest codec:"+n+",ADTS data:type:"+i+",sampleingIndex:"+a+"["+d[a]+"Hz],channelConfig:"+s),/firefox/i.test(l)?a>=6?(i=5,u=new Array(4),o=a-3):(i=2,u=new Array(2),o=a):-1!==l.indexOf("android")?(i=2,u=new Array(2),o=a):(i=5,u=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&a>=6?o=a-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(a>=6&&1===s||/vivaldi/i.test(l))||!n&&1===s)&&(i=2,u=new Array(2)),o=a)),u[0]=i<<3,u[0]|=(14&a)>>1,u[1]|=(1&a)<<7,u[1]|=s<<3,5===i&&(u[1]|=(14&o)>>1,u[2]=(1&o)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:d[a],channelCount:s,codec:"mp4a.40."+i,manifestCodec:c};t.trigger(v.a.ERROR,{type:m.b.MEDIA_ERROR,details:m.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a})}(e,r,n,i);t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,w.b.log("parsed codec:"+t.codec+",rate:"+a.samplerate+",nb channel:"+a.channelCount)}}function l(t){return 9216e4/t}function c(t,e,r,n,o){var s=function(t,e,r,n,o){var s,u,l=t.length;if(s=i(t,e),u=a(t,e),(u-=s)>0&&e+s+u<=l)return{headerLength:s,frameLength:u,stamp:r+n*o}}(e,r,n,o,l(t.samplerate));if(s){var u=s.stamp,c=s.headerLength,d=s.frameLength,f={unit:e.subarray(r+c,r+c+d),pts:u,dts:u};return t.samples.push(f),{sample:f,length:d+c}}}function d(t,e,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var i=t*e*r;return n?Math.round(i):i}function f(t,e){return void 0===e&&(e=!1),d(t,1e3,1/9e4,e)}function h(t,e){return void 0===e&&(e=1),d(t,9e4,1/e)}function p(t,e){var r;if(void 0===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}var g,v=r(1),m=r(2),b=r(7),y=r(3),w=r(0),T=r(5),k=r(4),j=function(){function t(t,e,r){this.observer=t,this.config=r,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,r,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=(k.a.getID3Data(t,0)||[]).length,r=t.length;e<r;e++)if(s(t,e))return w.b.log("ADTS sync word found !"),!0;return!1},e.append=function(t,e,r,n){for(var i=this._audioTrack,a=k.a.getID3Data(t,0)||[],s=k.a.getTimeStamp(a),l=Object(y.a)(s)?90*s:9e4*e,d=0,f=l,h=t.length,p=a.length,g=[{pts:f,dts:f,data:a}];p<h-1;)if(o(t,p)&&p+5<h){u(i,this.observer,t,p,i.manifestCodec);var v=c(i,t,p,l,d);if(!v){w.b.log("Unable to parse AAC frame");break}p+=v.length,f=v.sample.pts,d++}else k.a.isHeader(t,p)?(a=k.a.getID3Data(t,p),g.push({pts:f,dts:f,data:a}),p+=a.length):p++;this.remuxer.remux(i,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},e,r,n)},e.destroy=function(){},t}(),E=r(10),_={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,r,n,i){if(!(r+24>e.length)){var a=this.parseHeader(e,r);if(a&&r+a.frameLength<=e.length){var o=n+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:e.subarray(r,r+a.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(s),{sample:s,length:a.frameLength}}}},parseHeader:function(t,e){var r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,a=t[e+2]>>2&3,o=t[e+2]>>1&1;if(1!==r&&0!==i&&15!==i&&3!==a){var s=3===r?3-n:3===n?3:4,u=1e3*_.BitratesMap[14*s+i-1],l=3===r?0:2===r?1:2,c=_.SamplingRateMap[3*l+a],d=t[e+3]>>6==3?1:2,f=_.SamplesCoefficients[r][n],h=_.BytesInSlot[n],p=8*f*h;return{sampleRate:c,channelCount:d,frameLength:parseInt(f*u/c+o,10)*h,samplesPerFrame:p}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var r=this.parseHeader(t,e),n=4;r&&r.frameLength&&(n=r.frameLength);var i=e+n;if(i===t.length||i+1<t.length&&this.isHeaderPattern(t,i))return!0}return!1}},S=_,O=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,r=t.byteLength-e,n=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");n.set(t.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),r=this.word>>>32-e;return t>32&&w.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?r<<e|this.readBits(e):r},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){var e,r=8,n=8;for(e=0;e<t;e++)0!==n&&(n=(r+this.readEG()+256)%256),r=0===n?r:n},e.readSPS=function(){var t,e,r,n,i,a,o,s=0,u=0,l=0,c=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),m=this.skipUEG.bind(this),b=this.skipScalingList.bind(this);if(d(),t=d(),f(5),g(3),d(),m(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var y=h();if(3===y&&g(1),m(),m(),g(1),p())for(a=3!==y?8:12,o=0;o<a;o++)p()&&b(o<6?16:64)}m();var w=h();if(0===w)h();else if(1===w)for(g(1),v(),v(),e=h(),o=0;o<e;o++)v();m(),g(1),r=h(),n=h(),0===(i=f(1))&&g(1),g(1),p()&&(s=h(),u=h(),l=h(),c=h());var T=[1,1];if(p()&&p())switch(d()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(r+1)-2*s-2*u),height:(2-i)*(n+1)*16-(i?2:4)*(l+c),pixelRatio:T}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),C=function(){function t(t,e,r,n){this.decryptdata=r,this.discardEPB=n,this.decrypter=new b.a(t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},e.decryptAacSample=function(t,e,r,n){var i=t[e].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,function(a){a=new Uint8Array(a),i.set(a,16),n||s.decryptAacSamples(t,e+1,r)})},e.decryptAacSamples=function(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(t,e,r,n),!n)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e),n=0,i=32;i<=t.length-16;i+=160,n+=16)r.set(t.subarray(i,i+16),n);return r},e.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var r=0,n=32;n<=t.length-16;n+=160,r+=16)t.set(e.subarray(r,r+16),n);return t},e.decryptAvcSample=function(t,e,r,n,i,a){var o=this.discardEPB(i.data),s=this.getAvcEncryptedData(o),u=this;this.decryptBuffer(s.buffer,function(s){i.data=u.getAvcDecryptedUnit(o,s),a||u.decryptAvcSamples(t,e,r+1,n)})},e.decryptAvcSamples=function(t,e,r,n){for(;;e++,r=0){if(e>=t.length)return void n();for(var i=t[e].units;!(r>=i.length);r++){var a=i[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(t,e,r,n,a,o),!o)return}}}},t}(),A={video:1,audio:2,id3:3,text:4},x=function(){function t(t,e,r,n){this.observer=t,this.config=r,this.typeSupported=n,this.remuxer=e,this.sampleAes=null,this.pmtUnknownTypes={}}var e=t.prototype;return e.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new C(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var r=t._syncOffset(e);return!(r<0||(r&&w.b.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),0))},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),r=0;r<e;){if(71===t[r]&&71===t[r+188]&&71===t[r+376])return r;r++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:A[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},e.resetInitSegment=function(e,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=t.createTrack("video",i),this._audioTrack=t.createTrack("audio",i),this._id3Track=t.createTrack("id3",i),this._txtTrack=t.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=n,this._duration=i},e.resetTimeStamp=function(){},e.append=function(e,r,n,i){var a,o,s,u,l,c=e.length,d=!1;this.pmtUnknownTypes={},this.contiguous=n;var f=this.pmtParsed,h=this._avcTrack,p=this._audioTrack,g=this._id3Track,b=h.pid,y=p.pid,T=g.pid,k=this._pmtId,j=h.pesData,E=p.pesData,_=g.pesData,S=this._parsePAT,O=this._parsePMT.bind(this),C=this._parsePES,A=this._parseAVCPES.bind(this),x=this._parseAACPES.bind(this),R=this._parseMPEGPES.bind(this),L=this._parseID3PES.bind(this),P=t._syncOffset(e);for(c-=(c+P)%188,a=P;a<c;a+=188)if(71===e[a]){if(o=!!(64&e[a+1]),s=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((u=a+5+e[a+4])===a+188)continue}else u=a+4;switch(s){case b:o&&(j&&(l=C(j))&&A(l,!1),j={data:[],size:0}),j&&(j.data.push(e.subarray(u,a+188)),j.size+=a+188-u);break;case y:o&&(E&&(l=C(E))&&(p.isAAC?x(l):R(l)),E={data:[],size:0}),E&&(E.data.push(e.subarray(u,a+188)),E.size+=a+188-u);break;case T:o&&(_&&(l=C(_))&&L(l),_={data:[],size:0}),_&&(_.data.push(e.subarray(u,a+188)),_.size+=a+188-u);break;case 0:o&&(u+=e[u]+1),k=this._pmtId=S(e,u);break;case k:o&&(u+=e[u]+1);var I=O(e,u,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=I.avc)>0&&(h.pid=b),(y=I.audio)>0&&(p.pid=y,p.isAAC=I.isAAC),(T=I.id3)>0&&(g.pid=T),d&&!f&&(w.b.log("reparse from beginning"),d=!1,a=P-188),f=this.pmtParsed=!0;break;case 17:case 8191:break;default:d=!0}}else this.observer.trigger(v.a.ERROR,{type:m.b.MEDIA_ERROR,details:m.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});j&&(l=C(j))?(A(l,!0),h.pesData=null):h.pesData=j,E&&(l=C(E))?(p.isAAC?x(l):R(l),p.pesData=null):(E&&E.size&&w.b.log("last AAC PES packet truncated,might overlap between fragments"),p.pesData=E),_&&(l=C(_))?(L(l),g.pesData=null):g.pesData=_,null==this.sampleAes?this.remuxer.remux(p,h,g,this._txtTrack,r,n,i):this.decryptAndRemux(p,h,g,this._txtTrack,r,n,i)},e.decryptAndRemux=function(t,e,r,n,i,a,o){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,r,n,i,a,o)})}else this.decryptAndRemuxAvc(t,e,r,n,i,a,o)},e.decryptAndRemuxAvc=function(t,e,r,n,i,a,o){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,r,n,i,a,o)})}else this.remuxer.remux(t,e,r,n,i,a,o)},e.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},e._trackUnknownPmt=function(t,e,r){var n=this.pmtUnknownTypes[t]||0;return 0===n&&(this.pmtUnknownTypes[t]=0,e.call(w.b,r)),this.pmtUnknownTypes[t]++,n},e._parsePMT=function(t,e,r,n){var i,a,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<i;){switch(a=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!n){this._trackUnknownPmt(t[e],w.b.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!n){this._trackUnknownPmt(t[e],w.b.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:r?-1===o.audio&&(o.audio=a,o.isAAC=!1):this._trackUnknownPmt(t[e],w.b.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(t[e],w.b.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(t[e],w.b.log,"Unknown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return o},e._parsePES=function(t){var e,r,n,i,a,o,s,u,l=0,c=t.data;if(!t||0===t.size)return null;for(;c[0].length<19&&c.length>1;){var d=new Uint8Array(c[0].length+c[1].length);d.set(c[0]),d.set(c[1],c[0].length),c[0]=d,c.splice(1,1)}if(1===((e=c[0])[0]<<16)+(e[1]<<8)+e[2]){if((n=(e[4]<<8)+e[5])&&n>t.size-6)return null;if(192&(r=e[7])&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&r?o-(s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(w.b.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s):s=o),u=(i=e[8])+9,t.size<=u)return null;t.size-=u,a=new Uint8Array(t.size);for(var f=0,h=c.length;f<h;f++){var p=(e=c[f]).byteLength;if(u){if(u>p){u-=p;continue}e=e.subarray(u),p-=u,u=0}a.set(e,l),l+=p}return n&&(n-=i+3),{data:a,pts:o,dts:s,len:n}}return null},e.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var r=e.samples,n=r.length;if(isNaN(t.pts)){if(!n)return void e.dropped++;var i=r[n-1];t.pts=i.pts,t.dts=i.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(n||this.contiguous)?(t.id=n,r.push(t)):e.dropped++}t.debug.length&&w.b.log(t.pts+"/"+t.dts+":"+t.debug)},e._parseAVCPES=function(t,e){var r,n,i,a=this,o=this._avcTrack,s=this._parseAVCNALu(t.data),u=this.avcSample,l=!1,c=this.pushAccesUnit.bind(this),d=function(t,e,r,n){return{key:t,pts:e,dts:r,units:[],debug:n}};t.data=null,u&&s.length&&!o.audFound&&(c(u,o),u=this.avcSample=d(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:n=!0,u||(u=a.avcSample=d(!0,t.pts,t.dts,"")),u.frame=!0;var s=e.data;if(l&&s.length>4){var f=new O(s).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(u.key=!0)}break;case 5:n=!0,u||(u=a.avcSample=d(!0,t.pts,t.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0,(r=new O(a.discardEPB(e.data))).readUByte();for(var h=0,p=0,g=!1,v=0;!g&&r.bytesAvailable>1;){h=0;do{h+=v=r.readUByte()}while(255===v);p=0;do{p+=v=r.readUByte()}while(255===v);if(4===h&&0!==r.bytesAvailable){if(g=!0,181===r.readUByte()&&49===r.readUShort()&&1195456820===r.readUInt()&&3===r.readUByte()){var m=r.readUByte(),b=31&m,y=[m,r.readUByte()];for(i=0;i<b;i++)y.push(r.readUByte()),y.push(r.readUByte()),y.push(r.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:t.pts,bytes:y})}}else if(5===h&&0!==r.bytesAvailable){if(g=!0,p>16){var w=[];for(i=0;i<16;i++)w.push(r.readUByte().toString(16)),3!==i&&5!==i&&7!==i&&9!==i||w.push("-");var T=p-16,j=new Uint8Array(T);for(i=0;i<T;i++)j[i]=r.readUByte();a._insertSampleInOrder(a._txtTrack.samples,{pts:t.pts,payloadType:h,uuid:w.join(""),userDataBytes:j,userData:Object(k.b)(j.buffer)})}}else if(p<r.bytesAvailable)for(i=0;i<p;i++)r.readUByte()}break;case 7:if(n=!0,l=!0,!o.sps){var E=(r=new O(e.data)).readSPS();o.width=E.width,o.height=E.height,o.pixelRatio=E.pixelRatio,o.sps=[e.data],o.duration=a._duration;var _=e.data.subarray(1,4),S="avc1.";for(i=0;i<3;i++){var C=_[i].toString(16);C.length<2&&(C="0"+C),S+=C}o.codec=S}break;case 8:n=!0,o.pps||(o.pps=[e.data]);break;case 9:n=!1,o.audFound=!0,u&&c(u,o),u=a.avcSample=d(!1,t.pts,t.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+e.type+" ")}u&&n&&u.units.push(e)}),e&&u&&(c(u,o),this.avcSample=null)},e._insertSampleInOrder=function(t,e){var r=t.length;if(r>0){if(e.pts>=t[r-1].pts)t.push(e);else for(var n=r-1;n>=0;n--)if(e.pts<t[n].pts){t.splice(n,0,e);break}}else t.push(e)},e._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var r=this._avcTrack.samples;e=r[r.length-1]}if(e){var n=e.units;t=n[n.length-1]}return t},e._parseAVCNALu=function(t){var e,r,n,i,a=0,o=t.byteLength,s=this._avcTrack,u=s.naluState||0,l=u,c=[],d=-1;for(-1===u&&(d=0,i=31&t[0],u=0,a=1);a<o;)if(e=t[a++],u)if(1!==u)if(e)if(1===e){if(d>=0)n={data:t.subarray(d,a-u-1),type:i},c.push(n);else{var f=this._getLastNalUnit();if(f&&(l&&a<=4-l&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-l)),(r=a-u-1)>0)){var h=new Uint8Array(f.data.byteLength+r);h.set(f.data,0),h.set(t.subarray(0,r),f.data.byteLength),f.data=h}}a<o?(d=a,i=31&t[a],u=0):u=-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;if(d>=0&&u>=0&&(n={data:t.subarray(d,o),type:i,state:u},c.push(n)),0===c.length){var p=this._getLastNalUnit();if(p){var g=new Uint8Array(p.data.byteLength+t.byteLength);g.set(p.data,0),g.set(t,p.data.byteLength),p.data=g}}return s.naluState=u,c},e.discardEPB=function(t){for(var e,r,n=t.byteLength,i=[],a=1;a<n-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return t;e=n-i.length,r=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=t[o];return r},e._parseAACPES=function(t){
var e,r,n,i,a,s,d,f=this._audioTrack,h=t.data,p=t.pts,g=this.aacOverFlow,b=this.aacLastPTS;if(g){var y=new Uint8Array(g.byteLength+h.byteLength);y.set(g,0),y.set(h,g.byteLength),h=y}for(n=0,a=h.length;n<a-1&&!o(h,n);n++);if(!n||(n<a-1?(s="AAC PES did not start with ADTS header,offset:"+n,d=!1):(s="no ADTS header found in AAC PES",d=!0),w.b.warn("parsing error:"+s),this.observer.trigger(v.a.ERROR,{type:m.b.MEDIA_ERROR,details:m.a.FRAG_PARSING_ERROR,fatal:d,reason:s}),!d)){if(u(f,this.observer,h,n,this.audioCodec),r=0,e=l(f.samplerate),g&&b){var T=b+e;Math.abs(T-p)>1&&(w.b.log("AAC: align PTS for overlapping frames by "+Math.round((T-p)/90)),p=T)}for(;n<a;){if(o(h,n)){if(n+5<a){var k=c(f,h,n,p,r);if(k){n+=k.length,i=k.sample.pts,r++;continue}}break}n++}g=n<a?h.subarray(n,a):null,this.aacOverFlow=g,this.aacLastPTS=i}},e._parseMPEGPES=function(t){for(var e=t.data,r=e.length,n=0,i=0,a=t.pts;i<r;)if(S.isHeader(e,i)){var o=S.appendFrame(this._audioTrack,e,i,a,n);if(!o)break;i+=o.length,n++}else i++},e._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),R=function(){function t(t,e,r){this.observer=t,this.config=r,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,r,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){var e,r,n=k.a.getID3Data(t,0);if(n&&void 0!==k.a.getTimeStamp(n))for(e=n.length,r=Math.min(t.length-1,e+100);e<r;e++)if(S.probe(t,e))return w.b.log("MPEG Audio sync word found !"),!0;return!1},e.append=function(t,e,r,n){for(var i=k.a.getID3Data(t,0)||[],a=k.a.getTimeStamp(i),o=void 0!==a?90*a:9e4*e,s=i.length,u=t.length,l=0,c=0,d=this._audioTrack,f=[{pts:o,dts:o,data:i}];s<u;)if(S.isHeader(t,s)){var h=S.appendFrame(d,t,s,o,l);if(!h)break;s+=h.length,c=h.sample.pts,l++}else k.a.isHeader(t,s)?(i=k.a.getID3Data(t,s),f.push({pts:c,dts:c,data:i}),s+=i.length):s++;this.remuxer.remux(d,{samples:[]},{samples:f,inputTimeScale:9e4},{samples:[]},e,r,n)},e.destroy=function(){},t}(),L=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),P=Math.pow(2,32)-1,I=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,o,u,o,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,i))},t.box=function(t){for(var e,r=Array.prototype.slice.call(arguments,1),n=8,i=r.length,a=i;i--;)n+=r[i].byteLength;for((e=new Uint8Array(n))[0]=n>>24&255,e[1]=n>>16&255,e[2]=n>>8&255,e[3]=255&n,e.set(t,4),i=0,n=8;i<a;i++)e.set(r[i],n),n+=r[i].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,r){r*=e;var n=Math.floor(r/(P+1)),i=Math.floor(r%(P+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,r,n){return t.box(t.types.moof,t.mfhd(e),t.traf(n,r))},t.moov=function(e){for(var r=e.length,n=[];r--;)n[r]=t.trak(e[r]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(t.mvex(e)))},t.mvex=function(e){for(var r=e.length,n=[];r--;)n[r]=t.trex(e[r]);return t.box.apply(null,[t.types.mvex].concat(n))},t.mvhd=function(e,r){r*=e;var n=Math.floor(r/(P+1)),i=Math.floor(r%(P+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var r,n,i=e.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return t.box(t.types.sdtp,a)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var r,n,i,a=[],o=[];for(r=0;r<e.sps.length;r++)i=(n=e.sps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));for(r=0;r<e.pps.length;r++)i=(n=e.pps[r]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));var s=t.box(t.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|e.sps.length].concat(a).concat([e.pps.length]).concat(o))),u=e.width,l=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var r=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var r=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var r=e.id,n=e.duration*e.timescale,i=e.width,a=e.height,o=Math.floor(n/(P+1)),s=Math.floor(n%(P+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,r){var n=t.sdtp(e),i=e.id,a=Math.floor(r/(P+1)),o=Math.floor(r%(P+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,n.length+16+20+8+16+8+8),n)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var r=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,r){var n,i,a,o,s,u,l=e.samples||[],c=l.length,d=12+16*c,f=new Uint8Array(d);for(r+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)a=(i=l[n]).duration,o=i.size,s=i.flags,u=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*n);return t.box(t.types.trun,f)},t.initSegment=function(e){t.types||t.init();var r,n=t.moov(e);return(r=new Uint8Array(t.FTYP.byteLength+n.byteLength)).set(t.FTYP),r.set(n,t.FTYP.byteLength),r},t}(),D=h(10),M=h(.2),F=null,N=function(){function t(t,e,r){if(this.observer=t,this.config=e,this.typeSupported=r,this.ISGenerated=!1,null===F){var n=navigator.userAgent.match(/Chrome\/(\d+)/i);F=n?parseInt(n[1]):0}}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},e.resetInitSegment=function(){this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,r=t.reduce(function(t,r){var n=r.pts-t;return n<-4294967296?(e=!0,p(t,r.pts)):n>0?t:r.pts},t[0].pts);return e&&w.b.debug("PTS rollover detected"),r},e.remux=function(t,e,r,n,i,a,o){if(this.ISGenerated||this.generateIS(t,e,i),this.ISGenerated){var s=t.samples.length,u=e.samples.length,l=i,c=i;if(s&&u){var d=this.getVideoStartPts(e.samples),f=(p(t.samples[0].pts,d)-d)/e.inputTimeScale;l+=Math.max(0,f),c+=Math.max(0,-f)}if(s){t.timescale||(w.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,i));var h,g=this.remuxAudio(t,l,a,o);u&&(g&&(h=g.endPTS-g.startPTS),e.timescale||(w.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,i)),this.remuxVideo(e,c,a,h))}else if(u){var m=this.remuxVideo(e,c,a,0,o);m&&t.codec&&this.remuxEmptyAudio(t,l,a,m)}}r.samples.length&&this.remuxID3(r,i),n.samples.length&&this.remuxText(n,i),this.observer.trigger(v.a.FRAG_PARSED)},e.generateIS=function(t,e,r){var n,i,a=this.observer,o=t.samples,s=e.samples,u=this.typeSupported,l="audio/mp4",c={},d={tracks:c},f=void 0===this._initPTS;if(f&&(n=i=1/0),t.config&&o.length&&(t.timescale=t.samplerate,w.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(u.mpeg?(l="audio/mpeg",t.codec=""):u.mp3&&(t.codec="mp3")),c.audio={container:l,codec:t.codec,initSegment:!t.isAAC&&u.mpeg?new Uint8Array:I.initSegment([t]),metadata:{channelCount:t.channelCount}},f&&(n=i=o[0].pts-Math.round(t.inputTimeScale*r))),e.sps&&e.pps&&s.length){var h=e.inputTimeScale;if(e.timescale=h,c.video={container:"video/mp4",codec:e.codec,initSegment:I.initSegment([e]),metadata:{width:e.width,height:e.height}},f){var g=this.getVideoStartPts(s),b=Math.round(h*r);i=Math.min(i,p(s[0].dts,g)-b),n=Math.min(n,g-b),this.observer.trigger(v.a.INIT_PTS_FOUND,{initPTS:n})}}else f&&c.audio&&this.observer.trigger(v.a.INIT_PTS_FOUND,{initPTS:n});Object.keys(c).length?(a.trigger(v.a.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,f&&(this._initPTS=n,this._initDTS=i)):a.trigger(v.a.ERROR,{type:m.b.MEDIA_ERROR,details:m.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.remuxVideo=function(t,e,r,n){var i,a,o,s,u,l=t.timescale,c=t.samples,d=[],h=c.length,g=this._initPTS,b=8,y=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY,k=0,j=!1,E=this.nextAvcDts;if(0!==h){r||(E=e*l-(c[0].pts-p(c[0].dts,c[0].pts)));for(var _=0;_<h;_++){var S=c[_];S.pts=p(S.pts-g,E),S.dts=p(S.dts-g,E),S.dts>S.pts&&(k=Math.max(Math.min(k,S.pts-S.dts),-1*M)),S.dts<c[_>0?_-1:_].dts&&(j=!0)}j&&c.sort(function(t,e){var r=t.dts-e.dts,n=t.pts-e.pts;return r||n||t.id-e.id}),s=c[0].dts,u=c[h-1].dts;var O=Math.round((u-s)/(h-1));if(k<0){if(k<-2*O){w.b.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+f(-O,!0)+" ms");for(var C=k,A=0;A<h;A++)c[A].dts=C=Math.max(C,c[A].pts-O),c[A].pts=Math.max(C,c[A].pts)}else{w.b.warn("PTS < DTS detected in video samples, shifting DTS by "+f(k,!0)+" ms to overcome this issue");for(var x=0;x<h;x++)c[x].dts=c[x].dts+k}s=c[0].dts,u=c[h-1].dts}if(r){var R=s-E,L=R>O;if(L||R<-1){L?w.b.warn("AVC: "+f(R,!0)+" ms ("+R+"dts) hole between fragments detected, filling it"):w.b.warn("AVC: "+f(-R,!0)+" ms ("+R+"dts) overlapping between fragments detected"),s=E;var P=c[0].pts-R;c[0].dts=s,c[0].pts=P,w.b.log("Video: First PTS/DTS adjusted: "+f(P,!0)+"/"+f(s,!0)+", delta: "+f(R,!0)+" ms")}}F&&F<75&&(s=Math.max(0,s));for(var D=0,N=0,B=0;B<h;B++){for(var U=c[B],V=U.units,G=V.length,H=0,K=0;K<G;K++)H+=V[K].data.length;N+=H,D+=G,U.length=H,U.dts=Math.max(U.dts,s),U.pts=Math.max(U.pts,U.dts,0),y=Math.min(U.pts,y),T=Math.max(U.pts,T)}u=c[h-1].dts;var z=N+4*D+8;try{a=new Uint8Array(z)}catch(t){return void this.observer.trigger(v.a.ERROR,{type:m.b.MUX_ERROR,details:m.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:z,reason:"fail allocating video mdat "+z})}var q=new DataView(a.buffer);q.setUint32(0,z),a.set(I.types.mdat,4);for(var W=0;W<h;W++){for(var Y,X=c[W],Q=X.units,J=0,Z=0,$=Q.length;Z<$;Z++){var tt=Q[Z],et=tt.data,rt=tt.data.byteLength;q.setUint32(b,rt),b+=4,a.set(et,b),b+=rt,J+=4+rt}if(W<h-1)i=c[W+1].dts-X.dts;else{var nt=this.config,it=X.dts-c[W>0?W-1:W].dts;if(nt.stretchShortVideoTrack){var at=nt.maxBufferHole,ot=Math.floor(at*l),st=(n?y+n*l:this.nextAudioPts)-X.pts;st>ot?((i=st-it)<0&&(i=it),w.b.log("It is approximately "+f(st,!1)+" ms to the next segment; using duration "+f(i,!1)+" ms for the last video frame.")):i=it}else i=it}Y=Math.round(X.pts-X.dts),d.push({size:J,duration:i,cts:Y,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:X.key?2:1,isNonSync:X.key?0:1}})}this.nextAvcDts=u+i;var ut=t.dropped;if(t.nbNalu=0,t.dropped=0,d.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var lt=d[0].flags;lt.dependsOn=2,lt.isNonSync=0}t.samples=d,o=I.moof(t.sequenceNumber++,s,t),t.samples=[];var ct={data1:o,data2:a,startPTS:y/l,endPTS:(T+i)/l,startDTS:s/l,endDTS:this.nextAvcDts/l,type:"video",hasAudio:!1,hasVideo:!0,nb:d.length,dropped:ut};return this.observer.trigger(v.a.FRAG_PARSING_DATA,ct),ct}},e.remuxAudio=function(t,e,r,n){var i,a,o,s,u,l,c=t.inputTimeScale,d=t.timescale,h=c/d,g=(t.isAAC?1024:1152)*h,b=this._initPTS,y=!t.isAAC&&this.typeSupported.mpeg,T=y?0:8,k=t.samples,j=[],E=this.nextAudioPts;if(r|=k.length&&E&&(n&&Math.abs(e-E/c)<.1||Math.abs(k[0].pts-E-b)<20*g),k.forEach(function(t){t.pts=t.dts=p(t.pts-b,e*c)}),0!==(k=k.filter(function(t){return t.pts>=0})).length){if(r||(E=n?Math.max(0,e*c):k[0].pts),t.isAAC)for(var _=this.config.maxAudioFramesDrift,S=0,O=E;S<k.length;){var C=k[S],A=C.pts,x=A-O;if(x<=-_*g)r||S>0?(w.b.warn("Dropping 1 audio frame @ "+f(O,!0)/1e3+"s due to "+f(x,!0)+" ms overlap."),k.splice(S,1)):(w.b.warn("Audio frame @ "+f(A,!0)/1e3+"s overlaps nextAudioPts by "+f(x,!0)+" ms."),O=A+g,S++);else if(x>=_*g&&x<D&&O){var R=Math.round(x/g);w.b.warn("Injecting "+R+" audio frames @ "+f(O,!0)/1e3+"s due to "+f(x,!0)+" ms gap.");for(var P=0;P<R;P++){var M=Math.max(O,0);(a=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(w.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),a=C.unit.subarray()),k.splice(S,0,{unit:a,pts:M,dts:M}),O+=g,S++}C.pts=C.dts=O,O+=g,S++}else Math.abs(x),C.pts=C.dts=O,O+=g,S++}for(var F=k.length,N=0;F--;)N+=k[F].unit.byteLength;for(var B=0,U=k.length;B<U;B++){var V=k[B],G=V.unit,H=V.pts;if(void 0!==l&&i)i.duration=Math.round((H-l)/h);else{var K=H-E,z=0;if(r&&t.isAAC&&K){if(K>0&&K<D)z=Math.round((H-E)/g),w.b.log(f(K,!0)+" ms hole between AAC samples detected,filling it"),z>0&&((a=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(a=G.subarray()),N+=z*a.length);else if(K<-12){w.b.log("drop overlapping AAC sample, expected/parsed/delta: "+f(E,!0)+" ms / "+f(H,!0)+" ms / "+f(-K,!0)+" ms"),N-=G.byteLength;continue}H=E}if(u=H,!(N>0))return;N+=T;try{o=new Uint8Array(N)}catch(t){return void this.observer.trigger(v.a.ERROR,{type:m.b.MUX_ERROR,details:m.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating audio mdat "+N})}y||(new DataView(o.buffer).setUint32(0,N),o.set(I.types.mdat,4));for(var q=0;q<z;q++)(a=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(w.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),a=G.subarray()),o.set(a,T),T+=a.byteLength,i={size:a.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},j.push(i)}o.set(G,T);var W=G.byteLength;T+=W,i={size:W,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},j.push(i),l=H}var Y=0;if((F=j.length)>=2&&(Y=j[F-2].duration,i.duration=Y),F){this.nextAudioPts=E=l+h*Y,t.samples=j,s=y?new Uint8Array:I.moof(t.sequenceNumber++,u/h,t),t.samples=[];var X=u/c,Q=E/c,J={data1:s,data2:o,startPTS:X,endPTS:Q,startDTS:X,endDTS:Q,type:"audio",hasAudio:!0,hasVideo:!1,nb:F};return this.observer.trigger(v.a.FRAG_PARSING_DATA,J),J}return null}},e.remuxEmptyAudio=function(t,e,r,n){var i=t.inputTimeScale,a=i/(t.samplerate?t.samplerate:i),o=this.nextAudioPts,s=(void 0!==o?o:n.startDTS*i)+this._initDTS,u=n.endDTS*i+this._initDTS,l=1024*a,c=Math.ceil((u-s)/l),d=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(w.b.warn("remux empty Audio"),d){for(var f=[],h=0;h<c;h++){var p=s+h*l;f.push({unit:d,pts:p,dts:p})}t.samples=f,this.remuxAudio(t,e,r)}else w.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.remuxID3=function(t,e){var r=t.samples.length;if(r){for(var n=t.inputTimeScale,i=this._initPTS,a=this._initDTS,o=0;o<r;o++){var s=t.samples[o];s.pts=p(s.pts-i,e*n)/n,s.dts=p(s.dts-a,e*n)/n}this.observer.trigger(v.a.FRAG_PARSING_METADATA,{samples:t.samples}),t.samples=[]}},e.remuxText=function(t,e){var r=t.samples.length,n=t.inputTimeScale,i=this._initPTS;if(r){for(var a=0;a<r;a++){var o=t.samples[a];o.pts=p(o.pts-i,e*n)/n}t.samples.sort(function(t,e){return t.pts-e.pts}),this.observer.trigger(v.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},t}(),B=function(){function t(t){this.observer=t}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(){},e.resetInitSegment=function(){},e.remux=function(t,e,r,n,i,a,o,s){var u=this.observer,l="";t&&(l+="audio"),e&&(l+="video"),u.trigger(v.a.FRAG_PARSING_DATA,{data1:s,startPTS:i,startDTS:i,type:l,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),u.trigger(v.a.FRAG_PARSED)},t}(),U=Object(T.a)();try{g=U.performance.now.bind(U.performance)}catch(t){w.b.debug("Unable to use Performance API on this environment"),g=U.Date.now}var V=function(){function t(t,e,r,n){this.observer=t,this.typeSupported=e,this.config=r,this.vendor=n}var e=t.prototype;return e.destroy=function(){var t=this.demuxer;t&&t.destroy()},e.push=function(t,e,r,n,i,a,o,s,u,l,c,d){var f=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var h=this.decrypter;null==h&&(h=this.decrypter=new b.a(this.observer,this.config));var p=g();h.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var h=g();f.observer.trigger(v.a.FRAG_DECRYPTED,{stats:{tstart:p,tdecrypt:h}}),f.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),n,i,a,o,s,u,l,c,d)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),n,i,a,o,s,u,l,c,d)},e.pushDecrypted=function(t,e,r,n,i,a,o,s,u,l,c,d){var f=this.demuxer,h=this.remuxer;if(!f||o||s){for(var p,g=this.observer,b=this.typeSupported,y=this.config,w=[{demux:x,remux:N},{demux:E.a,remux:B},{demux:j,remux:N},{demux:R,remux:N}],T=0,k=w.length;T<k&&!(p=w[T]).demux.probe(t);T++);if(!p)return void g.trigger(v.a.ERROR,{type:m.b.MEDIA_ERROR,details:m.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});h&&h instanceof p.remux||(h=new p.remux(g,y,b,this.vendor)),f&&f instanceof p.demux||(f=new p.demux(g,h,y,b),this.probe=p.demux.probe),this.demuxer=f,this.remuxer=h}(o||s)&&(f.resetInitSegment(r,n,i,l),h.resetInitSegment()),o&&(f.resetTimeStamp(d),h.resetTimeStamp(d)),"function"==typeof f.setDecryptData&&f.setDecryptData(e),f.append(t,a,u,c)},t}();e.a=V},function(t,e,r){"use strict";var n=r(0),i=r(1),a=Math.pow(2,32)-1,o=function(){function t(t,e){this.observer=t,this.remuxer=e}var e=t.prototype;return e.resetTimeStamp=function(t){this.initPTS=t},e.resetInitSegment=function(e,r,n,a){if(e&&e.byteLength){var o=this.initData=t.parseInitSegment(e);null==r&&(r="mp4a.40.5"),null==n&&(n="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:a?e:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:a?e:null}),o.video&&(s.video={container:"video/mp4",codec:n,initSegment:a?e:null})),this.observer.trigger(i.a.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),n&&(this.videoCodec=n)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var r=t[e]<<8|t[e+1];return r<0?65536+r:r},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var r=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return r<0?4294967296+r:r},t.writeUint32=function(t,e,r){t.data&&(e+=t.start,t=t.data),t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r},t.findBox=function(e,r){var n,i,a,o,s,u,l=[];if(e.data?(s=e.start,a=e.end,e=e.data):(s=0,a=e.byteLength),!r.length)return null;for(n=s;n<a;)u=(i=t.readUint32(e,n))>1?n+i:a,t.bin2str(e.subarray(n+4,n+8))===r[0]&&(1===r.length?l.push({data:e,start:n+8,end:u}):(o=t.findBox({data:e,start:n+8,end:u},r.slice(1))).length&&(l=l.concat(o))),n=u;return l},t.parseSegmentIndex=function(e){var r,n=t.findBox(e,["moov"])[0],i=n?n.end:null,a=0,o=t.findBox(e,["sidx"]);if(!o||!o[0])return null;r=[];var s=(o=o[0]).data[0];a=0===s?8:16;var u=t.readUint32(o,a);a+=4,a+=0===s?8:16,a+=2;var l=o.end+0,c=t.readUint16(o,a);a+=2;for(var d=0;d<c;d++){var f=a,h=t.readUint32(o,f);f+=4;var p=2147483647&h;if(1==(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=t.readUint32(o,f);f+=4,r.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/u,start:l,end:l+p-1}}),l+=p,a=f+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:c,references:r,moovEndOffset:i}},t.parseInitSegment=function(e){var r=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var i=t.findBox(e,["tkhd"])[0];if(i){var a=i.data[i.start],o=0===a?12:20,s=t.readUint32(i,o),u=t.findBox(e,["mdia","mdhd"])[0];if(u){o=0===(a=u.data[u.start])?12:20;var l=t.readUint32(u,o),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var d={soun:"audio",vide:"video"}[t.bin2str(c.data.subarray(c.start+8,c.start+12))];if(d){var f=t.findBox(e,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var h=t.bin2str(f.data.subarray(f.start+12,f.start+16));n.b.log("MP4Demuxer:"+d+":"+h+" found")}r[s]={timescale:l,type:d},r[d]={timescale:l,id:s}}}}}}),r},t.getStartDTS=function(e,r){var n,i,a;return n=t.findBox(r,["moof","traf"]),i=[].concat.apply([],n.map(function(r){return t.findBox(r,["tfhd"]).map(function(n){var i,a;return i=t.readUint32(n,4),a=e[i].timescale||9e4,t.findBox(r,["tfdt"]).map(function(e){var r,n;return r=e.data[e.start],n=t.readUint32(e,4),1===r&&(n*=Math.pow(2,32),n+=t.readUint32(e,8)),n})[0]/a})})),a=Math.min.apply(null,i),isFinite(a)?a:0},t.offsetStartDTS=function(e,r,n){t.findBox(r,["moof","traf"]).map(function(r){return t.findBox(r,["tfhd"]).map(function(i){var o=t.readUint32(i,4),s=e[o].timescale||9e4;t.findBox(r,["tfdt"]).map(function(e){var r=e.data[e.start],i=t.readUint32(e,4);if(0===r)t.writeUint32(e,4,i-n*s);else{i*=Math.pow(2,32),i+=t.readUint32(e,8),i-=n*s,i=Math.max(i,0);var o=Math.floor(i/(a+1)),u=Math.floor(i%(a+1));t.writeUint32(e,4,o),t.writeUint32(e,8,u)}})})})},e.append=function(e,r,n,a){var o=this.initData;o||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,u=this.initPTS;if(void 0===u){var l=t.getStartDTS(o,e);this.initPTS=u=l-r,this.observer.trigger(i.a.INIT_PTS_FOUND,{initPTS:u})}t.offsetStartDTS(o,e,u),s=t.getStartDTS(o,e),this.remuxer.remux(o.audio,o.video,null,null,s,n,a,e)},e.destroy=function(){},t}();e.a=o},function(t,e,r){function n(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t};var n=e(e.s=ENTRY_MODULE);return n["default"]||n}function i(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(t,e,n){var a={};a[n]=[];var o=e.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var u,l=s[1],c=new RegExp("(\\\\n|\\W)"+i(l)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");u=c.exec(o);)"dll-reference"!==u[3]&&a[n].push(u[3]);for(c=new RegExp("\\("+i(l)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");u=c.exec(o);)t[u[2]]||(a[n].push(u[1]),t[u[2]]=r(u[1]).m),a[u[2]]=a[u[2]]||[],a[u[2]].push(u[4]);for(var d,f=Object.keys(a),h=0;h<f.length;h++)for(var p=0;p<a[f[h]].length;p++)d=a[f[h]][p],isNaN(1*d)||(a[f[h]][p]=1*a[f[h]][p]);return a}function o(t){return Object.keys(t).reduce(function(e,r){return e||t[r].length>0},!1)}t.exports=function(t,e){e=e||{};var i={main:r.m},s=e.all?{main:Object.keys(i.main)}:function(t,e){for(var r={main:[e]},n={main:[]},i={main:{}};o(r);)for(var s=Object.keys(r),u=0;u<s.length;u++){var l=s[u],c=r[l].pop();if(i[l]=i[l]||{},!i[l][c]&&t[l][c]){i[l][c]=!0,n[l]=n[l]||[],n[l].push(c);for(var d=a(t,t[l][c],l),f=Object.keys(d),h=0;h<f.length;h++)r[f[h]]=r[f[h]]||[],r[f[h]]=r[f[h]].concat(d[f[h]])}}return n}(i,t),u="";Object.keys(s).filter(function(t){return"main"!==t}).forEach(function(t){for(var e=0;s[t][e];)e++;s[t].push(e),i[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s[t].map(function(e){return JSON.stringify(e)+": "+i[t][e].toString()}).join(",")+"});\n"}),u=u+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s.main.map(function(t){return JSON.stringify(t)+": "+i.main[t].toString()}).join(",")+"}))(self);";var l=new window.Blob([u],{type:"text/javascript"});if(e.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),d=new window.Worker(c);return d.objectURL=c,d}},function(t,e,r){"use strict";r.r(e);var n=r(9),i=r(1),a=r(0),o=r(8);e["default"]=function(t){var e=new o.EventEmitter;e.trigger=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.emit.apply(e,[t,t].concat(n))},e.off=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.removeListener.apply(e,[t].concat(n))};var r=function(e,r){t.postMessage({event:e,data:r})};t.addEventListener("message",function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);t.demuxer=new n.a(e,o.typeSupported,s,o.vendor),Object(a.a)(s.debug),r("init",null);break;case"demux":t.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),e.on(i.a.FRAG_DECRYPTED,r),e.on(i.a.FRAG_PARSING_INIT_SEGMENT,r),e.on(i.a.FRAG_PARSED,r),e.on(i.a.ERROR,r),e.on(i.a.FRAG_PARSING_METADATA,r),e.on(i.a.FRAG_PARSING_USERDATA,r),e.on(i.a.INIT_PTS_FOUND,r),e.on(i.a.FRAG_PARSING_DATA,function(e,r){var n=[],i={event:e,data:r};r.data1&&(i.data1=r.data1.buffer,n.push(r.data1.buffer),delete r.data1),r.data2&&(i.data2=r.data2.buffer,n.push(r.data2.buffer),delete r.data2),t.postMessage(i,n)})}},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}function s(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):(null==e?void 0:e.programDateTime)&&(t.programDateTime=e.endProgramDateTime),Object(nt.a)(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function u(){return window.MediaSource||window.WebKitMediaSource}function l(t,e,r){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(r);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(r)}}function c(t,e,r){var n=t[e],i=t[r],a=i.startPTS;if(Object(nt.a)(a))r>e?(n.duration=a-n.start,n.duration<0&&at.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(i.duration=n.start-a,i.duration<0&&at.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"));else if(r>e){var o=n.cc===i.cc;i.start=n.start+(o&&n.minEndPTS?n.minEndPTS-n.start:n.duration)}else i.start=Math.max(n.start-i.duration,0)}function d(t,e,r,n,i,a){var o=r,s=n;if(Object(nt.a)(e.startPTS)){var u=Math.abs(e.startPTS-r);Object(nt.a)(e.deltaPTS)?e.deltaPTS=Math.max(u,e.deltaPTS):e.deltaPTS=u,o=Math.max(r,e.startPTS),r=Math.min(r,e.startPTS),s=Math.min(n,e.endPTS),n=Math.max(n,e.endPTS),i=Math.min(i,e.startDTS),a=Math.max(a,e.endDTS)}var l=r-e.start;e.start=e.startPTS=r,e.maxStartPTS=o,e.endPTS=n,e.minEndPTS=s,e.startDTS=i,e.endDTS=a,e.duration=n-r;var d,f,h,p=e.sn;if(!t||p<t.startSN||p>t.endSN)return 0;for(d=p-t.startSN,(f=t.fragments)[d]=e,h=d;h>0;h--)c(f,h,h-1);for(h=d;h<f.length-1;h++)c(f,h,h+1);return t.PTSKnown=!0,l}function f(t,e){e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment);var r,n=0;if(h(t,e,function(t,i){n=t.cc-i.cc,Object(nt.a)(t.startPTS)&&(i.start=i.startPTS=t.startPTS,i.endPTS=t.endPTS,i.duration=t.duration,i.backtracked=t.backtracked,i.dropped=t.dropped,r=i),e.PTSKnown=!0}),e.PTSKnown){if(n){at.b.log("discontinuity sliding from playlist, take drift into account");for(var i=e.fragments,a=0;a<i.length;a++)i[a].cc+=n}r?d(e,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):function(t,e){var r=e.startSN-t.startSN,n=t.fragments,i=e.fragments;if(!(r<0||r>n.length))for(var a=0;a<i.length;a++)i[a].start+=n[r].start}(t,e),e.PTSKnown=t.PTSKnown}}function h(t,e,r){if(t&&e)for(var n=Math.max(t.startSN,e.startSN)-e.startSN,i=Math.min(t.endSN,e.endSN)-e.startSN,a=e.startSN-t.startSN,o=n;o<=i;o++){var s=t.fragments[a+o],u=e.fragments[o];if(!s||!u)break;r(s,u,o)}}function p(t,e,r){
var n=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),i=n/2;return t&&e.endSN===t.endSN&&(n=i),r&&(n=Math.max(i,n-(window.performance.now()-r))),Math.round(n)}function g(t,e){e.fragments.forEach(function(e){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}}),e.PTSKnown=!0}function v(t,e,r){!function(t,e,r){if(function(t,e,r){var n=!1;return e&&e.details&&r&&(r.endCC>r.startCC||t&&t.cc<r.startCC)&&(n=!0),n}(t,r,e)){var n=function(t,e){var r=t.fragments,n=e.fragments;if(n.length&&r.length){var i=function(t,e){for(var r=null,n=0;n<t.length;n+=1){var i=t[n];if(i&&i.cc===e){r=i;break}}return r}(r,n[0].cc);if(i&&(!i||i.startPTS))return i;at.b.log("No frag in previous level to align on")}else at.b.log("No fragments to align")}(r.details,e);n&&(at.b.log("Adjusting PTS using last level due to CC increase within current level"),g(n.start,e))}}(t,r,e),!r.PTSKnown&&e&&function(t,e){if(e&&e.fragments.length){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;var r=e.fragments[0].programDateTime,n=(t.fragments[0].programDateTime-r)/1e3+e.fragments[0].start;Object(nt.a)(n)&&(at.b.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),g(n,t))}}(r,e.details)}function m(t,e,r){if(null===e||!Array.isArray(t)||!t.length||!Object(nt.a)(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;r=r||0;for(var n=0;n<t.length;++n){var i=t[n];if(w(e,r,i))return i}return null}function b(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=null;return t?i=e[t.sn-e[0].sn+1]:0===r&&0===e[0].start&&(i=e[0]),i&&0===y(r,n,i)?i:Pt(e,y.bind(null,r,n))||i}function y(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0);var n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function w(t,e,r){var n=1e3*Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>t}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function E(t,e){var r;try{r=new Event("addtrack")}catch(t){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function _(t){if(null==t?void 0:t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new _e,this.regionList=[]}function R(){this.values=Object.create(null)}function L(t,e,r,n){var i=n?t.split(n):[t];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(r);2===o.length&&e(o[0],o[1])}}function P(t,e,r){function n(){var e=function(t){function e(t,e,r,n){return 3600*(0|t)+60*(0|e)+(0|r)+(0|n)/1e3}var r=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+a);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function i(){t=t.replace(/^\s+/,"")}var a=t;if(i(),e.startTime=n(),i(),"-->"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+a);t=t.substr(3),i(),e.endTime=n(),i(),function(t,e){var n=new R;L(t,function(t,e){switch(t){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===e){n.set(t,r[i].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),o=a[0];n.integer(t,o),n.percent(t,o)&&n.set("snapToLines",!1),n.alt(t,o,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start",Oe,"end"]);break;case"position":a=e.split(","),n.percent(t,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start",Oe,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",Oe,"end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===Se.line&&(i=-1),e.line=i,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",Oe);var a=n.get("position","auto");"auto"===a&&50===Se.position&&(a="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=a}(t,e)}function I(t){return t.replace(/<br(?: \/)?>/gi,"\n")}function D(t,e,r,n){for(var i,a,o,s,u,l=[],c=window.VTTCue||TextTrackCue,d=0;d<n.rows.length;d++)if(o=!0,s=0,u="",!(i=n.rows[d]).isEmpty()){for(var f=0;f<i.chars.length;f++)i.chars[f].uchar.match(/\s/)&&o?s++:(u+=i.chars[f].uchar,o=!1);i.cueStartTime=e,e===r&&(r+=1e-4),a=new c(e,r,I(u.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=d+1:a.line=d>7?d-2:d+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100)),l.push(a),t&&t.addCue(a)}return l}function M(t,e,r){r.a=t,r.b=e}function F(t,e,r){return r.a===t&&r.b===e}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function V(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];"subtitles"===n.kind&&n.label&&e.push(t[r])}return e}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach(function(e){z(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach(function(e){Y(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J(t,e,r){return e&&Q(t.prototype,e),r&&Q(t,r),t}r.r(e),r.d(e,"default",function(){return ir});var Z={};r.r(Z),r.d(Z,"newCue",function(){return D});var $,tt,et=r(6),rt=r(2),nt=r(3),it=r(1),at=r(0),ot={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},st=function(){function t(t){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=t,this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){},e.onHandlerDestroyed=function(){},e.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if(ot[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)},this)},e.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},e.onEvent=function(t,e){this.onEventGeneric(t,e)},e.onEventGeneric=function(t,e){try{(function(t,e){var r="on"+t.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,e)}).call(this,t,e).call()}catch(e){at.b.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(it.a.ERROR,{type:rt.b.OTHER_ERROR,details:rt.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}();!function(t){t.MANIFEST="manifest",t.LEVEL="level",t.AUDIO_TRACK="audioTrack",t.SUBTITLE_TRACK="subtitleTrack"}($||($={})),function(t){t.MAIN="main",t.AUDIO="audio",t.SUBTITLE="subtitle"}(tt||(tt={}));var ut,lt=r(10),ct=function(){function t(t,e){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=t,this.reluri=e}var e;return(e=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(et.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&n(t.prototype,e),t}();!function(t){t.AUDIO="audio",t.VIDEO="video"}(ut||(ut={}));var dt,ft=function(){function t(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((t={})[ut.AUDIO]=!1,t[ut.VIDEO]=!1,t),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var e,r=t.prototype;return r.setByteRange=function(t,e){var r=t.split("@",2),n=[];1===r.length?n[0]=e?e.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},r.addElementaryStream=function(t){this._elementaryStreams[t]=!0},r.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},r.createInitializationVector=function(t){for(var e=new Uint8Array(16),r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e},r.setDecryptDataFromLevelKey=function(t,e){var r=t;return(null==t?void 0:t.method)&&t.uri&&!t.iv&&((r=new ct(t.baseuri,t.reluri)).method=t.method,r.iv=this.createInitializationVector(e)),r},(e=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(et.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!=typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&at.b.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(nt.a)(this.programDateTime))return null;var t=Object(nt.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&i(t.prototype,e),t}(),ht=function(){function t(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}var e;return(e=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(nt.a)(this.fragments[0].programDateTime))}}])&&a(t.prototype,e),t}(),pt=/^(\d+)x(\d+)$/,gt=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,vt=function(){function t(e){for(var r in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&(this[r]=e[r])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var r=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)r[n]=parseInt(e.slice(2*n,2*n+2),16);return r}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.enumeratedString=function(t){return this[t]},e.decimalResolution=function(t){var e=pt.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,r={};for(gt.lastIndex=0;null!==(e=gt.exec(t));){var n=e[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[e[1]]=n}return r},t}(),mt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},bt=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,yt=/#EXT-X-MEDIA:(.*)/g,wt=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Tt=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,kt=/\.(mp4|m4s|m4v|m4a)$/i,jt=function(){function t(){}return t.findGroup=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.id===e)return n}},t.convertAVC1ToAVCOTI=function(t){var e,r=t.split(".");return r.length>2?(e=r.shift()+".",e+=parseInt(r.shift()).toString(16),e+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return et.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,r){function n(t,e){["video","audio"].forEach(function(r){var n=t.filter(function(t){return function(t,e){var r=mt[e];return!!r&&!0===r[t.slice(0,4)]}(t,r)});if(n.length){var i=n.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[r+"Codec"]=i.length>0?i[0]:n[0],t=t.filter(function(t){return-1===n.indexOf(t)})}}),e.unknownCodecs=t}var i,a=[],o={},s=!1;for(bt.lastIndex=0;null!=(i=bt.exec(e));)if(i[1]){var u={},l=u.attrs=new vt(i[1]);u.url=t.resolve(i[2],r);var c=l.decimalResolution("RESOLUTION");c&&(u.width=c.width,u.height=c.height),u.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),u.name=l.NAME,n([].concat((l.CODECS||"").split(/[ ,]+/)),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=t.convertAVC1ToAVCOTI(u.videoCodec)),a.push(u)}else if(i[3]){var d=new vt(i[3]);d["DATA-ID"]&&(s=!0,o[d["DATA-ID"]]=d)}return{levels:a,sessionData:s?o:null}},t.parseMasterPlaylistMedia=function(e,r,n,i){var a;void 0===i&&(i=[]);var o=[],s=0;for(yt.lastIndex=0;null!==(a=yt.exec(e));){var u=new vt(a[1]);if(u.TYPE===n){var l={attrs:u,id:s++,groupId:u["GROUP-ID"],instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE,type:n,"default":"YES"===u.DEFAULT,autoselect:"YES"===u.AUTOSELECT,forced:"YES"===u.FORCED,lang:u.LANGUAGE};if(u.URI&&(l.url=t.resolve(u.URI,r)),i.length){var c=t.findGroup(i,l.groupId);l.audioCodec=c?c.codec:i[0].codec}o.push(l)}}return o},t.parseLevelPlaylist=function(t,e,r,n,i){var a,o,u,l=0,c=0,d=new ht(e),f=0,h=null,p=new ft,g=null;for(wt.lastIndex=0;null!==(a=wt.exec(t));){var v=a[1];if(v){p.duration=parseFloat(v);var m=(" "+a[2]).slice(1);p.title=m||null,p.tagList.push(m?["INF",v,m]:["INF",v])}else if(a[3]){if(Object(nt.a)(p.duration)){var b=l++;p.type=n,p.start=c,u&&(p.levelkey=u),p.sn=b,p.level=r,p.cc=f,p.urlId=i,p.baseurl=e,p.relurl=(" "+a[3]).slice(1),s(p,h),d.fragments.push(p),h=p,c+=p.duration,p=new ft}}else if(a[4]){var y=(" "+a[4]).slice(1);h?p.setByteRange(y,h):p.setByteRange(y)}else if(a[5])p.rawProgramDateTime=(" "+a[5]).slice(1),p.tagList.push(["PROGRAM-DATE-TIME",p.rawProgramDateTime]),null===g&&(g=d.fragments.length);else{if(!(a=a[0].match(Tt))){at.b.warn("No matches on slow regex match for level playlist!");continue}for(o=1;o<a.length&&void 0===a[o];o++);var w=(" "+a[o+1]).slice(1),T=(" "+a[o+2]).slice(1);switch(a[o]){case"#":p.tagList.push(T?[w,T]:[w]);break;case"PLAYLIST-TYPE":d.type=w.toUpperCase();break;case"MEDIA-SEQUENCE":l=d.startSN=parseInt(w);break;case"TARGETDURATION":d.targetduration=parseFloat(w);break;case"VERSION":d.version=parseInt(w);break;case"EXTM3U":break;case"ENDLIST":d.live=!1;break;case"DIS":f++,p.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(w);break;case"KEY":var k=new vt(w),j=k.enumeratedString("METHOD"),E=k.URI,_=k.hexadecimalInteger("IV");if("com.apple.streamingkeydelivery"===(k.KEYFORMAT||"identity")){at.b.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}j&&(u=new ct(e,E),E&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(j)>=0&&(u.method=j,u.key=null,u.iv=_));break;case"START":var S=new vt(w).decimalFloatingPoint("TIME-OFFSET");Object(nt.a)(S)&&(d.startTimeOffset=S);break;case"MAP":var O=new vt(w);p.relurl=O.URI,O.BYTERANGE&&p.setByteRange(O.BYTERANGE),p.baseurl=e,p.level=r,p.type=n,p.sn="initSegment",d.initSegment=p,(p=new ft).rawProgramDateTime=d.initSegment.rawProgramDateTime;break;default:at.b.warn("line parsed but not handled: "+a)}}}return(p=h)&&!p.relurl&&(d.fragments.pop(),c-=p.duration),d.totalduration=c,d.averagetargetduration=c/d.fragments.length,d.endSN=l-1,d.startCC=d.fragments[0]?d.fragments[0].cc:0,d.endCC=f,!d.initSegment&&d.fragments.length&&d.fragments.every(function(t){return kt.test(t.relurl)})&&(at.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(p=new ft).relurl=d.fragments[0].relurl,p.baseurl=e,p.level=r,p.type=n,p.sn="initSegment",d.initSegment=p,d.needSidxRanges=!0),g&&function(t,e){for(var r=t[e],n=e-1;n>=0;n--){var i=t[n];i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(d.fragments,g),d},t}(),Et=window.performance,_t=function(t){function e(e){var r;return(r=t.call(this,e,it.a.MANIFEST_LOADING,it.a.LEVEL_LOADING,it.a.AUDIO_TRACK_LOADING,it.a.SUBTITLE_TRACK_LOADING)||this).loaders={},r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.canHaveQualityLevels=function(t){return t!==$.AUDIO_TRACK&&t!==$.SUBTITLE_TRACK},e.mapContextToLevelType=function(t){switch(t.type){case $.AUDIO_TRACK:return tt.AUDIO;case $.SUBTITLE_TRACK:return tt.SUBTITLE;default:return tt.MAIN}},e.getResponseUrl=function(t,e){var r=t.url;return void 0!==r&&0!==r.indexOf("data:")||(r=e.url),r};var i=e.prototype;return i.createInternalLoader=function(t){var e=this.hls.config,r=e.pLoader,n=e.loader,i=new(r||n)(e);return t.loader=i,this.loaders[t.type]=i,i},i.getInternalLoader=function(t){return this.loaders[t.type]},i.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},i.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},i.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},i.onManifestLoading=function(t){this.load({url:t.url,type:$.MANIFEST,level:0,id:null,responseType:"text"})},i.onLevelLoading=function(t){this.load({url:t.url,type:$.LEVEL,level:t.level,id:t.id,responseType:"text"})},i.onAudioTrackLoading=function(t){this.load({url:t.url,type:$.AUDIO_TRACK,level:null,id:t.id,responseType:"text"})},i.onSubtitleTrackLoading=function(t){this.load({url:t.url,type:$.SUBTITLE_TRACK,level:null,id:t.id,responseType:"text"})},i.load=function(t){var e=this.hls.config;at.b.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var r,n,i,a,o=this.getInternalLoader(t);if(o){var s=o.context;if(s&&s.url===t.url)return at.b.trace("playlist request ongoing"),!1;at.b.warn("aborting previous loader for type: "+t.type),o.abort()}switch(t.type){case $.MANIFEST:r=e.manifestLoadingMaxRetry,n=e.manifestLoadingTimeOut,i=e.manifestLoadingRetryDelay,a=e.manifestLoadingMaxRetryTimeout;break;case $.LEVEL:r=0,a=0,i=0,n=e.levelLoadingTimeOut;break;default:r=e.levelLoadingMaxRetry,n=e.levelLoadingTimeOut,i=e.levelLoadingRetryDelay,a=e.levelLoadingMaxRetryTimeout}o=this.createInternalLoader(t);var u={timeout:n,maxRetry:r,retryDelay:i,maxRetryDelay:a},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return at.b.debug("Calling internal loader delegate for URL: "+t.url),o.load(t,u,l),!0},i.loadsuccess=function(t,e,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this._handleSidxRequest(t,r),void this._handlePlaylistLoaded(t,e,r,n);if(this.resetInternalLoader(r.type),"string"!=typeof t.data)throw new Error('expected responseType of "text" for PlaylistLoader');var i=t.data;e.tload=Et.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,r,n):this._handleMasterPlaylist(t,e,r,n):this._handleManifestParsingError(t,r,"no EXTM3U delimiter",n)},i.loaderror=function(t,e,r){void 0===r&&(r=null),this._handleNetworkError(e,r,!1,t)},i.loadtimeout=function(t,e,r){void 0===r&&(r=null),this._handleNetworkError(e,r,!0)},i._handleMasterPlaylist=function(t,r,n,i){var a=this.hls,o=t.data,s=e.getResponseUrl(t,n),u=jt.parseMasterPlaylist(o,s),l=u.levels,c=u.sessionData;if(l.length){var d=l.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),f=jt.parseMasterPlaylistMedia(o,s,"AUDIO",d),h=jt.parseMasterPlaylistMedia(o,s,"SUBTITLES"),p=jt.parseMasterPlaylistMedia(o,s,"CLOSED-CAPTIONS");if(f.length){var g=!1;f.forEach(function(t){t.url||(g=!0)}),!1===g&&l[0].audioCodec&&!l[0].attrs.AUDIO&&(at.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main","default":!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}a.trigger(it.a.MANIFEST_LOADED,{levels:l,audioTracks:f,subtitles:h,captions:p,url:s,stats:r,networkDetails:i,sessionData:c})}else this._handleManifestParsingError(t,n,"no level found in manifest",i)},i._handleTrackOrLevelPlaylist=function(t,r,n,i){var a=this.hls,o=n.id,s=n.level,u=n.type,l=e.getResponseUrl(t,n),c=Object(nt.a)(o)?o:0,d=Object(nt.a)(s)?s:c,f=e.mapContextToLevelType(n),h=jt.parseLevelPlaylist(t.data,l,d,f,c);if(h.tload=r.tload,h.fragments.length){if(u===$.MANIFEST){var p={url:l,details:h};a.trigger(it.a.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:l,stats:r,networkDetails:i,sessionData:null})}if(r.tparsed=Et.now(),h.needSidxRanges){var g=h.initSegment.url;this.load({url:g,isSidxRequest:!0,type:u,level:s,levelDetails:h,id:o,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=h,this._handlePlaylistLoaded(t,r,n,i)}else a.trigger(it.a.ERROR,{type:rt.b.NETWORK_ERROR,details:rt.a.LEVEL_EMPTY_ERROR,fatal:!1,url:l,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},i._handleSidxRequest=function(t,e){if("string"==typeof t.data)throw new Error("sidx request must be made with responseType of array buffer");var r=lt.a.parseSegmentIndex(new Uint8Array(t.data));if(r){var n=r.references,i=e.levelDetails;n.forEach(function(t,e){var r=t.info;if(i){var n=i.fragments[e];0===n.byteRange.length&&n.setByteRange(String(1+r.end-r.start)+"@"+String(r.start))}}),i&&i.initSegment.setByteRange(String(r.moovEndOffset)+"@0")}},i._handleManifestParsingError=function(t,e,r,n){this.hls.trigger(it.a.ERROR,{type:rt.b.NETWORK_ERROR,details:rt.a.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:r,networkDetails:n})},i._handleNetworkError=function(t,e,r,n){var i,a;void 0===r&&(r=!1),void 0===n&&(n=null),at.b.info("A network error occured while loading a "+t.type+"-type playlist");var o=this.getInternalLoader(t);switch(t.type){case $.MANIFEST:i=r?rt.a.MANIFEST_LOAD_TIMEOUT:rt.a.MANIFEST_LOAD_ERROR,a=!0;break;case $.LEVEL:i=r?rt.a.LEVEL_LOAD_TIMEOUT:rt.a.LEVEL_LOAD_ERROR,a=!1;break;case $.AUDIO_TRACK:i=r?rt.a.AUDIO_TRACK_LOAD_TIMEOUT:rt.a.AUDIO_TRACK_LOAD_ERROR,a=!1;break;default:a=!1}o&&(o.abort(),this.resetInternalLoader(t.type));var s={type:rt.b.NETWORK_ERROR,details:i,fatal:a,url:t.url,loader:o,context:t,networkDetails:e};n&&(s.response=n),this.hls.trigger(it.a.ERROR,s)},i._handlePlaylistLoaded=function(t,r,n,i){var a=n.type,o=n.level,s=n.id,u=n.levelDetails;if(u&&u.targetduration)if(e.canHaveQualityLevels(n.type))this.hls.trigger(it.a.LEVEL_LOADED,{details:u,level:o||0,id:s||0,stats:r,networkDetails:i});else switch(a){case $.AUDIO_TRACK:this.hls.trigger(it.a.AUDIO_TRACK_LOADED,{details:u,id:s,stats:r,networkDetails:i});break;case $.SUBTITLE_TRACK:this.hls.trigger(it.a.SUBTITLE_TRACK_LOADED,{details:u,id:s,stats:r,networkDetails:i})}else this._handleManifestParsingError(t,n,"invalid target duration",i)},e}(st),St=function(t){function e(e){var r;return(r=t.call(this,e,it.a.FRAG_LOADING)||this).loaders={},r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.destroy=function(){var e=this.loaders;for(var r in e){var n=e[r];n&&n.destroy()}this.loaders={},t.prototype.destroy.call(this)},i.onFragLoading=function(t){var e=t.frag,r=e.type,n=this.loaders,i=this.hls.config,a=i.fLoader,o=i.loader;e.loaded=0;var s,u,l,c=n[r];c&&(at.b.warn("abort previous fragment loader for type: "+r),c.abort()),c=n[r]=e.loader=i.fLoader?new a(i):new o(i),s={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var d=e.byteRangeStartOffset,f=e.byteRangeEndOffset;Object(nt.a)(d)&&Object(nt.a)(f)&&(s.rangeStart=d,s.rangeEnd=f),u={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},c.load(s,u,l)},i.loadsuccess=function(t,e,r,n){void 0===n&&(n=null);var i=t.data,a=r.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(it.a.FRAG_LOADED,{payload:i,frag:a,stats:e,networkDetails:n})},i.loaderror=function(t,e,r){void 0===r&&(r=null);var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(it.a.ERROR,{type:rt.b.NETWORK_ERROR,details:rt.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:r})},i.loadtimeout=function(t,e,r){void 0===r&&(r=null);var n=e.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(it.a.ERROR,{type:rt.b.NETWORK_ERROR,details:rt.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:r})},i.loadprogress=function(t,e,r,n){void 0===n&&(n=null);var i=e.frag;i.loaded=t.loaded,this.hls.trigger(it.a.FRAG_LOAD_PROGRESS,{frag:i,stats:t,networkDetails:n})},e}(st),Ot=function(t){function e(e){var r;return(r=t.call(this,e,it.a.KEY_LOADING)||this).loaders={},r.decryptkey=null,r.decrypturl=null,r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.destroy=function(){for(var e in this.loaders){var r=this.loaders[e];r&&r.destroy()}this.loaders={},t.prototype.destroy.call(this)},i.onKeyLoading=function(t){var e=t.frag,r=e.type,n=this.loaders[r];if(e.decryptdata){var i=e.decryptdata.uri;if(i!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;if(n&&(at.b.warn("abort previous key loader for type:"+r),n.abort()),!i)return void at.b.warn("key uri is falsy");e.loader=this.loaders[r]=new a.loader(a),this.decrypturl=i,this.decryptkey=null;var o={url:i,frag:e,responseType:"arraybuffer"},s={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};e.loader.load(o,s,u)}else this.decryptkey&&(e.decryptdata.key=this.decryptkey,this.hls.trigger(it.a.KEY_LOADED,{frag:e}))}else at.b.warn("Missing decryption data on fragment in onKeyLoading")},i.loadsuccess=function(t,e,r){var n=r.frag;n.decryptdata?(this.decryptkey=n.decryptdata.key=new Uint8Array(t.data),n.loader=void 0,delete this.loaders[n.type],this.hls.trigger(it.a.KEY_LOADED,{frag:n})):at.b.error("after key load, decryptdata unset")},i.loaderror=function(t,e){var r=e.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(it.a.ERROR,{type:rt.b.NETWORK_ERROR,details:rt.a.KEY_LOAD_ERROR,fatal:!1,frag:r,response:t})},i.loadtimeout=function(t,e){var r=e.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(it.a.ERROR,{type:rt.b.NETWORK_ERROR,details:rt.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},e}(st),Ct="NOT_LOADED",At="APPENDING",xt="PARTIAL",Rt="OK",Lt=function(t){function e(e){var r;return(r=t.call(this,e,it.a.BUFFER_APPENDED,it.a.FRAG_BUFFERED,it.a.FRAG_LOADED)||this).bufferPadding=.2,r.fragments=Object.create(null),r.timeRanges=Object.create(null),r.config=e.config,r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,st.prototype.destroy.call(this),t.prototype.destroy.call(this)},i.getBufferedFrag=function(t,e){var r=this.fragments,n=Object.keys(r).filter(function(n){var i=r[n];if(i.body.type!==e)return!1;if(!i.buffered)return!1;var a=i.body;return a.startPTS<=t&&t<=a.endPTS});if(0===n.length)return null;var i=n.pop();return r[i].body},i.detectEvictedFragments=function(t,e){var r=this;Object.keys(this.fragments).forEach(function(n){var i=r.fragments[n];if(i&&i.buffered){var a=i.range[t];if(a)for(var o=a.time,s=0;s<o.length;s++){var u=o[s];if(!r.isTimeBuffered(u.startPTS,u.endPTS,e)){r.removeFragment(i.body);break}}}})},i.detectPartialFragments=function(t){var e=this,r=this.getFragmentKey(t),n=this.fragments[r];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach(function(r){if(t.hasElementaryStream(r)){var i=e.timeRanges[r];n.range[r]=e.getBufferedTimes(t.startPTS,t.endPTS,i)}}))},i.getBufferedTimes=function(t,e,r){for(var n,i,a=[],o=!1,s=0;s<r.length;s++){if(n=r.start(s)-this.bufferPadding,i=r.end(s)+this.bufferPadding,t>=n&&e<=i){a.push({startPTS:Math.max(t,r.start(s)),endPTS:Math.min(e,r.end(s))});break}if(t<i&&e>n)a.push({startPTS:Math.max(t,r.start(s)),endPTS:Math.min(e,r.end(s))}),o=!0;else if(e<=n)break}return{time:a,partial:o}},i.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},i.getPartialFragment=function(t){var e,r,n,i=this,a=null,o=0;return Object.keys(this.fragments).forEach(function(s){var u=i.fragments[s];i.isPartial(u)&&(r=u.body.startPTS-i.bufferPadding,n=u.body.endPTS+i.bufferPadding,t>=r&&t<=n&&(e=Math.min(t-r,n-t),o<=e&&(a=u.body,o=e)))}),a},i.getState=function(t){
var e=this.getFragmentKey(t),r=this.fragments[e],n=Ct;return void 0!==r&&(n=r.buffered?!0===this.isPartial(r)?xt:Rt:At),n},i.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},i.isTimeBuffered=function(t,e,r){for(var n,i,a=0;a<r.length;a++){if(n=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,t>=n&&e<=i)return!0;if(e<=n)return!1}return!1},i.onFragLoaded=function(t){var e=t.frag;Object(nt.a)(e.sn)&&!e.bitrateTest&&(this.fragments[this.getFragmentKey(e)]={body:e,range:Object.create(null),buffered:!1})},i.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach(function(t){var r=e.timeRanges[t];e.detectEvictedFragments(t,r)})},i.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},i.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},i.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},i.removeAllFragments=function(){this.fragments=Object.create(null)},e}(st),Pt=function(t,e){for(var r=0,n=t.length-1,i=null,a=null;r<=n;){var o=e(a=t[i=(r+n)/2|0]);if(o>0)r=i+1;else{if(!(o<0))return a;n=i-1}}return null},It=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var r=t.buffered,n=0;n<r.length;n++)if(e>=r.start(n)&&e<=r.end(n))return!0}catch(t){}return!1},t.bufferInfo=function(t,e,r){try{if(t){var n,i=t.buffered,a=[];for(n=0;n<i.length;n++)a.push({start:i.start(n),end:i.end(n)});return this.bufferedInfo(a,e,r)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,r){t.sort(function(t,e){return t.start-e.start||e.end-t.end});var n=[];if(r)for(var i=0;i<t.length;i++){var a=n.length;if(a){var o=n[a-1].end;t[i].start-o<r?t[i].end>o&&(n[a-1].end=t[i].end):n.push(t[i])}else n.push(t[i])}else n=t;for(var s,u=0,l=e,c=e,d=0;d<n.length;d++){var f=n[d].start,h=n[d].end;if(e+r>=f&&e<h)l=f,u=(c=h)-e;else if(e+r<f){s=f;break}}return{len:u,start:l,end:c,nextStart:s}},t}(),Dt=r(8),Mt=r(11),Ft=r(9),Nt=r(5),Bt=function(t){function e(){return t.apply(this,arguments)||this}var r,n;return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.prototype.trigger=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];this.emit.apply(this,[t,t].concat(r))},e}(Dt.EventEmitter),Ut=Object(Nt.a)(),Vt=u()||{isTypeSupported:function(){return!1}},Gt=function(){function t(t,e){var r=this;this.hls=t,this.id=e;var n=this.observer=new Bt,i=t.config,a=function(e,n){(n=n||{}).frag=r.frag,n.id=r.id,t.trigger(e,n)};n.on(it.a.FRAG_DECRYPTED,a),n.on(it.a.FRAG_PARSING_INIT_SEGMENT,a),n.on(it.a.FRAG_PARSING_DATA,a),n.on(it.a.FRAG_PARSED,a),n.on(it.a.ERROR,a),n.on(it.a.FRAG_PARSING_METADATA,a),n.on(it.a.FRAG_PARSING_USERDATA,a),n.on(it.a.INIT_PTS_FOUND,a);var o={mp4:Vt.isTypeSupported("video/mp4"),mpeg:Vt.isTypeSupported("audio/mpeg"),mp3:Vt.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(i.enableWorker&&"undefined"!=typeof Worker){var u;at.b.log("demuxing in webworker");try{u=this.w=Mt(12),this.onwmsg=this.onWorkerMessage.bind(this),u.addEventListener("message",this.onwmsg),u.onerror=function(e){t.trigger(it.a.ERROR,{type:rt.b.OTHER_ERROR,details:rt.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},u.postMessage({cmd:"init",typeSupported:o,vendor:s,id:e,config:JSON.stringify(i)})}catch(t){at.b.warn("Error in worker:",t),at.b.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),u&&Ut.URL.revokeObjectURL(u.objectURL),this.demuxer=new Ft.a(n,o,i,s),this.w=void 0}}else this.demuxer=new Ft.a(n,o,i,s)}var e=t.prototype;return e.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},e.push=function(t,e,r,n,i,a,o,s){var u=this.w,l=Object(nt.a)(i.startPTS)?i.startPTS:i.start,c=i.decryptdata,d=this.frag,f=!(d&&i.cc===d.cc),h=!(d&&i.level===d.level),p=d&&i.sn===d.sn+1,g=!h&&p;if(f&&at.b.log(this.id+":discontinuity detected"),h&&at.b.log(this.id+":switch detected"),this.frag=i,u)u.postMessage({cmd:"demux",data:t,decryptdata:c,initSegment:e,audioCodec:r,videoCodec:n,timeOffset:l,discontinuity:f,trackSwitch:h,contiguous:g,duration:a,accurateTimeOffset:o,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var v=this.demuxer;v&&v.push(t,c,e,r,n,l,f,h,g,a,o,s)}},e.onWorkerMessage=function(t){var e=t.data,r=this.hls;switch(e.event){case"init":Ut.URL.revokeObjectURL(this.w.objectURL);break;case it.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data)}},t}(),Ht=function(t){for(var e="",r=t.length,n=0;n<r;n++)e+="["+t.start(n).toFixed(3)+","+t.end(n).toFixed(3)+"]";return e},Kt=function(){function t(t,e,r,n){this.config=t,this.media=e,this.fragmentTracker=r,this.hls=n,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var e=t.prototype;return e.poll=function(t){var e=this.config,r=this.media,n=this.stalled,i=r.currentTime,a=r.seeking,o=this.seeking&&!a,s=!this.seeking&&a;if(this.seeking=a,i===t){if((s||o)&&(this.stalled=null),!r.paused&&!r.ended&&0!==r.playbackRate&&r.buffered.length){var u=It.bufferInfo(r,i,0),l=u.len>0,c=u.nextStart||0;if(l||c){if(a){var d=u.len>2,f=!c||c-i>2&&!this.fragmentTracker.getPartialFragment(i);if(d||f)return;this.moved=!1}if(!this.moved&&this.stalled){var h=Math.max(c,u.start||0)-i;if(h>0&&h<=2)return void this._trySkipBufferHole(null)}var p=self.performance.now();if(null!==n){var g=p-n;!a&&g>=250&&this._reportStall(u.len);var v=It.bufferInfo(r,i,e.maxBufferHole);this._tryFixBufferStall(v,g)}else this.stalled=p}}}else if(this.moved=!0,null!==n){if(this.stallReported){var m=self.performance.now()-n;at.b.warn("playback not stuck anymore @"+i+", after "+Math.round(m)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},e._tryFixBufferStall=function(t,e){var r=this.config,n=this.fragmentTracker,i=this.media.currentTime,a=n.getPartialFragment(i);a&&this._trySkipBufferHole(a)||t.len>r.maxBufferHole&&e>1e3*r.highBufferWatchdogPeriod&&(at.b.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},e._reportStall=function(t){var e=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,at.b.warn("Playback stalling at @"+r.currentTime+" due to low buffer (buffer="+t+")"),e.trigger(it.a.ERROR,{type:rt.b.MEDIA_ERROR,details:rt.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},e._trySkipBufferHole=function(t){for(var e=this.config,r=this.hls,n=this.media,i=n.currentTime,a=0,o=0;o<n.buffered.length;o++){var s=n.buffered.start(o);if(i+e.maxBufferHole>=a&&i<s){var u=Math.max(s+.05,n.currentTime+.1);return at.b.warn("skipping hole, adjusting currentTime from "+i+" to "+u),this.moved=!0,this.stalled=null,n.currentTime=u,t&&r.trigger(it.a.ERROR,{type:rt.b.MEDIA_ERROR,details:rt.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+u,frag:t}),u}a=n.buffered.end(o)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,r=this.media,n=r.currentTime,i=(this.nudgeRetry||0)+1;if(this.nudgeRetry=i,i<t.nudgeMaxRetry){var a=n+i*t.nudgeOffset;at.b.warn("Nudging 'currentTime' from "+n+" to "+a),r.currentTime=a,e.trigger(it.a.ERROR,{type:rt.b.MEDIA_ERROR,details:rt.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else at.b.error("Playhead still not moving while enough data buffered @"+n+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(it.a.ERROR,{type:rt.b.MEDIA_ERROR,details:rt.a.BUFFER_STALLED_ERROR,fatal:!0})},t}(),zt=function(t){function e(e){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(r=t.call.apply(t,[this,e].concat(i))||this)._boundTick=void 0,r._tickTimer=null,r._tickInterval=null,r._tickCallCount=0,r._boundTick=r.tick.bind(T(r)),r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},i.doTick=function(){},e}(st),qt="STOPPED",Wt="STARTING",Yt="IDLE",Xt="KEY_LOADING",Qt="FRAG_LOADING",Jt="FRAG_LOADING_WAITING_RETRY",Zt="WAITING_TRACK",$t="PARSING",te="PARSED",ee="BUFFER_FLUSHING",re="ENDED",ne="ERROR",ie="WAITING_INIT_PTS",ae="WAITING_LEVEL",oe=function(t){function e(){return t.apply(this,arguments)||this}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.doTick=function(){},i.startLoad=function(){},i.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=qt},i._streamEnded=function(t,e){var r=this.fragCurrent,n=this.fragmentTracker;if(!e.live&&r&&!r.backtracked&&r.sn===e.endSN&&!t.nextStart){var i=n.getState(r);return i===xt||i===Rt}return!1},i.onMediaSeeking=function(){var t=this.config,e=this.media,r=this.mediaBuffer,n=this.state,i=e?e.currentTime:null,a=It.bufferInfo(r||e,i,this.config.maxBufferHole);if(at.b.log("media seeking to "+(Object(nt.a)(i)?i.toFixed(3):i)),n===Qt){var o=this.fragCurrent;if(0===a.len&&o){var s=t.maxFragLookUpTolerance,u=o.start-s,l=o.start+o.duration+s;i<u||i>l?(o.loader&&(at.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=Yt):at.b.log("seeking outside of buffer but within currently loaded fragment range")}}else n===re&&(0===a.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=Yt);e&&(this.lastCurrentTime=i),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=i),this.tick()},i.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},i.onHandlerDestroyed=function(){this.state=qt,this.fragmentTracker=null},i.computeLivePosition=function(t,e){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-r)},e}(zt),se=function(t){function e(e,r){var n;return(n=t.call(this,e,it.a.MEDIA_ATTACHED,it.a.MEDIA_DETACHING,it.a.MANIFEST_LOADING,it.a.MANIFEST_PARSED,it.a.LEVEL_LOADED,it.a.LEVELS_UPDATED,it.a.KEY_LOADED,it.a.FRAG_LOADED,it.a.FRAG_LOAD_EMERGENCY_ABORTED,it.a.FRAG_PARSING_INIT_SEGMENT,it.a.FRAG_PARSING_DATA,it.a.FRAG_PARSED,it.a.ERROR,it.a.AUDIO_TRACK_SWITCHING,it.a.AUDIO_TRACK_SWITCHED,it.a.BUFFER_CREATED,it.a.BUFFER_APPENDED,it.a.BUFFER_FLUSHED)||this).fragmentTracker=r,n.config=e.config,n.audioCodecSwap=!1,n._state=qt,n.stallReported=!1,n.gapController=null,n.altAudio=!1,n.audioOnly=!1,n.bitrateTest=!1,n}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i,a=e.prototype;return a.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(r.config.testBandwidth?(n=0,this.bitrateTest=!0):n=r.nextAutoLevel),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(at.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=Yt,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=qt},a.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},a.doTick=function(){switch(this.state){case ee:this.fragLoadError=0;break;case Yt:this._doTickIdle();break;case ae:var t=this.levels[this.level];t&&t.details&&(this.state=Yt);break;case Jt:var e=window.performance.now(),r=this.retryDate;(!r||e>=r||this.media&&this.media.seeking)&&(at.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=Yt)}this._checkBuffer(),this._checkFragmentChanged()},a._doTickIdle=function(){var t=this.hls,e=t.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&e.startFragPrefetch))if(this.altAudio&&this.audioOnly)this.demuxer.frag=null;else{var n;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var i=t.nextLoadLevel,a=this.levels[i];if(a){var o,s=a.bitrate;o=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,o=Math.min(o,e.maxMaxBufferLength);var u=n<e.maxBufferHole?Math.max(2,e.maxBufferHole):e.maxBufferHole,l=It.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,u),c=l.len;if(!(c>=o)){at.b.trace("buffer length of "+c.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=i;var d=a.details;if(!d||d.live&&this.levelLastLoaded!==i)this.state=ae;else{if(this._streamEnded(l,d)){var f={};return this.altAudio&&(f.type="video"),this.hls.trigger(it.a.BUFFER_EOS,f),void(this.state=re)}this._fetchPayloadOrEos(n,l,d)}}}}},a._fetchPayloadOrEos=function(t,e,r){var n=this.fragPrevious,i=(this.level,r.fragments),a=i.length;if(0!==a){var o,s=i[0].start,u=i[a-1].start+i[a-1].duration,l=e.end;if(r.initSegment&&!r.initSegment.data)o=r.initSegment;else if(r.live){var c=this.config.initialLiveManifestSize;if(a<c)return void at.b.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+c);if(null===(o=this._ensureFragmentAtLivePoint(r,l,s,u,n,i)))return}else l<s&&(o=i[0]);o||(o=this._findFragment(s,n,a,i,l,u,r)),o&&(o.encrypted?this._loadKey(o,r):this._loadFragment(o,r,t,l))}},a._ensureFragmentAtLivePoint=function(t,e,r,n,i,a){var o,s=this.hls.config,u=this.media,l=1/0;if(void 0!==s.liveMaxLatencyDuration?l=s.liveMaxLatencyDuration:Object(nt.a)(s.liveMaxLatencyDurationCount)&&(l=s.liveMaxLatencyDurationCount*t.targetduration),e<Math.max(r-s.maxFragLookUpTolerance,n-l)){var c=this.liveSyncPosition=this.computeLivePosition(r,t);e=c,u&&!u.paused&&u.readyState&&u.duration>c&&c>u.currentTime&&(at.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+c.toFixed(3)),u.currentTime=c),this.nextLoadPosition=c}if(t.PTSKnown&&e>n&&u&&u.readyState)return null;if(this.startFragRequested&&!t.PTSKnown&&i)if(t.hasProgramDateTime)at.b.log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),o=m(a,i.endProgramDateTime,s.maxFragLookUpTolerance);else{var d=i.sn+1;if(d>=t.startSN&&d<=t.endSN){var f=a[d-t.startSN];i.cc===f.cc&&(o=f,at.b.log("live playlist, switching playlist, load frag with next SN: "+o.sn))}o||(o=Pt(a,function(t){return i.cc-t.cc}))&&at.b.log("live playlist, switching playlist, load frag with same CC: "+o.sn)}return o},a._findFragment=function(t,e,r,n,i,a,o){var s,u=this.hls.config;if(s=i<a?b(e,n,i,i>a-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance):n[r-1]){var l=s.sn-o.startSN,c=e&&s.level===e.level,d=n[l-1],f=n[l+1];if(e&&s.sn===e.sn)if(c&&!s.backtracked)if(s.sn<o.endSN){var h=e.deltaPTS;h&&h>u.maxBufferHole&&e.dropped&&l?(s=d,at.b.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=f,this.fragmentTracker.getState(s)!==Rt&&at.b.log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(f&&f.backtracked?(at.b.warn("Already backtracked from fragment "+f.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+f.sn),s=f):(at.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d).backtracked=!0:l&&(s=null)))}return s},a._loadKey=function(t,e){at.b.log("Loading key for "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level),this.state=Xt,this.hls.trigger(it.a.KEY_LOADING,{frag:t})},a._loadFragment=function(t,e,r,n){var i=this.fragmentTracker.getState(t);this.fragCurrent=t,"initSegment"!==t.sn&&(this.startFragRequested=!0),Object(nt.a)(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||i===Ct||i===xt?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,at.b.log("Loading "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(r.toFixed(3))+", bufferEnd: "+parseFloat(n.toFixed(3))),this.hls.trigger(it.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new Gt(this.hls,"main")),this.state=Qt):i===At&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},a.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,tt.MAIN)},a.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},a._checkFragmentChanged=function(){var t,e,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((e=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),It.isBuffered(r,e)?t=this.getBufferedFrag(e):It.isBuffered(r,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var n=t;if(n!==this.fragPlaying){this.hls.trigger(it.a.FRAG_CHANGED,{frag:n});var i=n.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(it.a.LEVEL_SWITCHED,{level:i}),this.fragPlaying=n}}},a.immediateLevelSwitch=function(){if(at.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t,e=this.media;e?(t=e.paused)||e.pause():t=!0,this.previouslyPaused=t}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},a.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,t.currentTime>0&&It.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},a.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,r=this.getBufferedFrag(t.currentTime);if(r&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),t.paused)e=0;else{var n=this.hls.nextLoadLevel,i=this.levels[n],a=this.fragLastKbps;e=a&&this.fragCurrent?this.fragCurrent.duration*i.bitrate/(1e3*a)+1:0}var o=this.getBufferedFrag(t.currentTime+e);if(o){var s=this.followingBufferedFrag(o);if(s){var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null;var l=Math.max(o.endPTS,s.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,s.duration));this.flushMainBuffer(l,Number.POSITIVE_INFINITY)}}}},a.flushMainBuffer=function(t,e){this.state=ee;var r={startOffset:t,endOffset:e};this.altAudio&&(r.type="video"),this.hls.trigger(it.a.BUFFER_FLUSHING,r)},a.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new Kt(r,e,this.fragmentTracker,this.hls)},a.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(at.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},a.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;Object(nt.a)(e)&&at.b.log("media seeked to "+e.toFixed(3)),this.tick()},a.onManifestLoading=function(){at.b.log("trigger BUFFER_RESET"),this.hls.trigger(it.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},a.onManifestParsed=function(t){var e,r=!1,n=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(r=!0),-1!==e.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&at.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=t.altAudio,this.levels=t.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},a.onLevelLoaded=function(t){var e=t.details,r=t.level,n=this.levels[this.levelLastLoaded],i=this.levels[r],a=e.totalduration,o=0;if(at.b.log("level "+r+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live||i.details&&i.details.live){var s=i.details;s&&e.fragments.length>0?(f(s,e),o=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),e.PTSKnown&&Object(nt.a)(o)?at.b.log("live playlist sliding:"+o.toFixed(3)):(at.b.log("live playlist - outdated PTS, unknown sliding"),v(this.fragPrevious,n,e))):(at.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,v(this.fragPrevious,n,e))}else e.PTSKnown=!1;if(i.details=e,this.levelLastLoaded=r,this.hls.trigger(it.a.LEVEL_UPDATED,{details:e,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=e.startTimeOffset;Object(nt.a)(u)?(u<0&&(at.b.log("negative start time offset "+u+", count from end of last fragment"),u=o+a+u),at.b.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u):e.live?(this.startPosition=this.computeLivePosition(o,e),at.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ae&&(this.state=Yt),this.tick()},a.onKeyLoaded=function(){this.state===Xt&&(this.state=Yt,this.tick())},a.onFragLoaded=function(t){var e=this.fragCurrent,r=this.hls,n=this.levels,i=this.media,a=t.frag;if(this.state===Qt&&e&&"main"===a.type&&a.level===e.level&&a.sn===e.sn){var o=t.stats,s=n[e.level],u=s.details;if(this.bitrateTest=!1,this.stats=o,at.b.log("Loaded "+e.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+e.level),a.bitrateTest&&r.nextLoadLevel)this.state=Yt,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),r.trigger(it.a.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=Yt,o.tparsed=o.tbuffered=window.performance.now(),u.initSegment.data=t.payload,r.trigger(it.a.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else{at.b.log("Parsing "+e.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+e.level+", cc "+e.cc),this.state=$t,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var l=!(i&&i.seeking)&&(u.PTSKnown||!u.live),c=u.initSegment?u.initSegment.data:[],d=this._getAudioCodec(s);(this.demuxer=this.demuxer||new Gt(this.hls,"main")).push(t.payload,c,d,s.videoCodec,e,u.totalduration,l)}}this.fragLoadError=0},a.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===$t){var n,i,a=t.tracks;if(this.audioOnly=a.audio&&!a.video,this.altAudio&&!this.audioOnly&&delete a.audio,i=a.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(at.b.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(o="mp4a.40.2",at.b.log("Android: force audio codec to "+o)),i.levelCodec=o,i.id=t.id}for(n in(i=a.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=t.id),this.hls.trigger(it.a.BUFFER_CODECS,a),a){i=a[n],at.b.log("main track:"+n+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var u=i.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(it.a.BUFFER_APPENDING,{type:n,data:u,parent:"main",content:"initSegment"}))}this.tick()}},a.onFragParsingData=function(t){var e=this,r=this.fragCurrent,n=t.frag;if(r&&"main"===t.id&&n.sn===r.sn&&n.level===r.level&&("audio"!==t.type||!this.altAudio)&&this.state===$t){var i=this.levels[this.level],a=r;if(Object(nt.a)(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),!0===t.hasAudio&&a.addElementaryStream(ut.AUDIO),!0===t.hasVideo&&a.addElementaryStream(ut.VIDEO),at.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(a.dropped=t.dropped,a.dropped)if(a.backtracked)at.b.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var o=i.details;if(!o||a.sn!==o.startSN)return at.b.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=Yt,this.fragPrevious=a,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();at.b.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var s=d(i.details,a,t.startPTS,t.endPTS,t.startDTS,t.endDTS),u=this.hls;u.trigger(it.a.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(r){r&&r.length&&e.state===$t&&(e.appended=!0,e.pendingBuffering=!0,u.trigger(it.a.BUFFER_APPENDING,{type:t.type,data:r,parent:"main",content:"data"}))}),this.tick()}},a.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===$t&&(this.stats.tparsed=window.performance.now(),this.state=te,this._checkAppendedParsed())},a.onAudioTrackSwitching=function(t){var e=this.altAudio,r=!!t.url,n=t.id;if(!r){if(this.mediaBuffer!==this.media){at.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(at.b.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Yt}var a=this.hls;e&&a.trigger(it.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),a.trigger(it.a.AUDIO_TRACK_SWITCHED,{id:n})}},a.onAudioTrackSwitched=function(t){var e=t.id,r=!!this.hls.audioTracks[e].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(at.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},a.onBufferCreated=function(t){var e,r,n=t.tracks,i=!1;for(var a in n){var o=n[a];"main"===o.id?(r=a,e=o,"video"===a&&(this.videoBuffer=n[a].buffer)):i=!0}i&&e?(at.b.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},a.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==$t&&e!==te||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},a._checkAppendedParsed=function(){if(!(this.state!==te||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;at.b.log("main buffered : "+Ht(e.buffered)),this.fragPrevious=t;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(it.a.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.state=Yt}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},a.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var r=!!this.media&&It.isBuffered(this.media,this.media.currentTime)&&It.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case rt.a.FRAG_LOAD_ERROR:case rt.a.FRAG_LOAD_TIMEOUT:case rt.a.KEY_LOAD_ERROR:case rt.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);at.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=Jt}else at.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=ne;break;case rt.a.LEVEL_LOAD_ERROR:case rt.a.LEVEL_LOAD_TIMEOUT:this.state!==ne&&(t.fatal?(this.state=ne,at.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==ae||(this.state=Yt));break;case rt.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==$t&&this.state!==te||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=Yt):(at.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},a._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,at.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},a._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},a.onFragLoadEmergencyAborted=function(){this.state=Yt,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},a.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;if(t){var e=this.audioOnly?ut.AUDIO:ut.VIDEO;this.fragmentTracker.detectEvictedFragments(e,t.buffered)}this.state=Yt,this.fragPrevious=null},a.onLevelsUpdated=function(t){this.levels=t.levels},a.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},a._seekToStartPos=function(){var t=this.media,e=t.currentTime,r=this.startPosition;if(e!==r&&r>=0){if(t.seeking)return void at.b.log("could not seek to "+r+", already seeking at "+e);var n=(t.buffered.length?t.buffered.start(0):0)-r;n>0&&n<this.config.maxBufferHole&&(at.b.log("adjusting start position by "+n+" to match buffer start"),r+=n,this.startPosition=r),at.b.log("seek to target start position "+r+" from current time "+e+". ready state "+t.readyState),t.currentTime=r}},a._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(at.b.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},(i=[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,at.b.log("main stream-controller: "+e+"->"+t),this.hls.trigger(it.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}])&&k(e.prototype,i),e}(oe),ue=function(t){function e(e){var r;return(r=t.call(this,e,it.a.MANIFEST_LOADED,it.a.LEVEL_LOADED,it.a.AUDIO_TRACK_SWITCHED,it.a.FRAG_LOADED,it.a.ERROR)||this).canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,dt=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),
r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i,a=e.prototype;return a.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},a.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},a.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},a.stopLoad=function(){this.canload=!1},a.onManifestLoaded=function(t){var e,r=[],n=[],i={},a=null,s=!1,u=!1;if(t.levels.forEach(function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,s=s||!!t.videoCodec,u=u||!!t.audioCodec,dt&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(a=i[t.bitrate])?a.url.push(t.url):(t.url=[t.url],t.urlId=0,i[t.bitrate]=t,r.push(t)),e&&(e.AUDIO&&l(a||t,"audio",e.AUDIO),e.SUBTITLES&&l(a||t,"text",e.SUBTITLES))}),s&&u&&(r=r.filter(function(t){return!!t.videoCodec})),r=r.filter(function(t){var e=t.audioCodec,r=t.videoCodec;return(!e||o(e,"audio"))&&(!r||o(r,"video"))}),t.audioTracks&&(n=t.audioTracks.filter(function(t){return!t.audioCodec||o(t.audioCodec,"audio")})).forEach(function(t,e){t.id=e}),r.length>0){e=r[0].bitrate,r.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=r;for(var c=0;c<r.length;c++)if(r[c].bitrate===e){this._firstLevel=c,at.b.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+e);break}var d=u&&!s;this.hls.trigger(it.a.MANIFEST_PARSED,{levels:r,audioTracks:n,firstLevel:this._firstLevel,stats:t.stats,audio:u,video:s,altAudio:!d&&n.some(function(t){return!!t.url})})}else this.hls.trigger(it.a.ERROR,{type:rt.b.MEDIA_ERROR,details:rt.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},a.setLevelInternal=function(t){var e=this._levels,r=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){at.b.log("switching to level "+t),this.currentLevelIndex=t;var n=e[t];n.level=t,r.trigger(it.a.LEVEL_SWITCHING,n)}var i=e[t],a=i.details;if(!a||a.live){var o=i.urlId;r.trigger(it.a.LEVEL_LOADING,{url:i.url[o],level:t,id:o})}}else r.trigger(it.a.ERROR,{type:rt.b.OTHER_ERROR,details:rt.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},a.onError=function(t){if(t.fatal)t.type===rt.b.NETWORK_ERROR&&this.clearTimer();else{var e,r=!1,n=!1;switch(t.details){case rt.a.FRAG_LOAD_ERROR:case rt.a.FRAG_LOAD_TIMEOUT:case rt.a.KEY_LOAD_ERROR:case rt.a.KEY_LOAD_TIMEOUT:e=t.frag.level,n=!0;break;case rt.a.LEVEL_LOAD_ERROR:case rt.a.LEVEL_LOAD_TIMEOUT:e=t.context.level,r=!0;break;case rt.a.REMUX_ALLOC_ERROR:e=t.level,r=!0}void 0!==e&&this.recoverLevel(t,e,r,n)}},a.recoverLevel=function(t,e,r,n){var i,a,o,s=this,u=this.hls.config,l=t.details,c=this._levels[e];if(c.loadError++,c.fragmentError=n,r){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return at.b.error("level controller, cannot recover from "+l+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},a),t.levelRetry=!0,this.levelRetryCount++,at.b.warn("level controller, "+l+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}(r||n)&&((i=c.url.length)>1&&c.loadError<i?(c.urlId=(c.urlId+1)%i,c.details=void 0,at.b.warn("level controller, "+l+" for level "+e+": switching to redundant URL-id "+c.urlId)):-1===this.manualLevelIndex?(o=0===e?this._levels.length-1:e-1,at.b.warn("level controller, "+l+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):n&&(at.b.warn("level controller, "+l+": reload a fragment"),this.currentLevelIndex=null))},a.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var r=this._levels[e.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},a.onLevelLoaded=function(t){var e=this,r=t.level,n=t.details;if(r===this.currentLevelIndex){var i=this._levels[r];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),n.live){var a=p(i.details,n,t.stats.trequest);at.b.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},a)}else this.clearTimer()}},a.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,i=0;i<r.audioGroupIds.length;i++)if(r.audioGroupIds[i]===e){n=i;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},a.loadLevel=function(){if(at.b.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"==typeof t&&t.url.length>0){var e=this.currentLevelIndex,r=t.urlId,n=t.url[r];at.b.log("Attempt loading level index "+e+" with URL-id "+r),this.hls.trigger(it.a.LEVEL_LOADING,{url:n,level:e,id:r})}}},a.removeLevel=function(t,e){var r=this.levels.filter(function(r,n){return n!==t||r.url.length>1&&void 0!==e&&(r.url=r.url.filter(function(t,r){return r!==e}),r.urlId=0,!0)}).map(function(t,e){var r=t.details;return r&&r.fragments&&r.fragments.forEach(function(t){t.level=e}),t});this._levels=r,this.hls.trigger(it.a.LEVELS_UPDATED,{levels:r})},(i=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])&&j(e.prototype,i),e}(st),le=r(4),ce=function(t){function e(e){var r;return(r=t.call(this,e,it.a.MEDIA_ATTACHED,it.a.MEDIA_DETACHING,it.a.FRAG_PARSING_METADATA,it.a.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,r.media=void 0,r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.destroy=function(){st.prototype.destroy.call(this)},i.onMediaAttached=function(t){this.media=t.media,this.media},i.onMediaDetaching=function(){_(this.id3Track),this.id3Track=void 0,this.media=void 0},i.getID3Track=function(t){for(var e=0;e<t.length;e++){var r=t[e];if("metadata"===r.kind&&"id3"===r.label)return E(r,this.media),r}return this.media.addTextTrack("metadata","id3")},i.onFragParsingMetadata=function(t){var e=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<r.length;i++){var a=le.a.getID3Frames(r[i].data);if(a){var o=Math.max(r[i].pts,0),s=i<r.length-1?r[i+1].pts:e.endPTS;s||(s=e.start+e.duration),s-o<=0&&(s=o+.25);for(var u=0;u<a.length;u++){var l=a[u];if(!le.a.isTimeStampFrame(l)){var c=new n(o,s,"");c.value=l,this.id3Track.addCue(c)}}}}},i.onLiveBackBufferReached=function(t){var e=t.bufferEnd,r=this.id3Track;if(r&&r.cues&&r.cues.length){var n=function(t,e){if(e<t[0].endTime)return t[0];if(e>t[t.length-1].endTime)return t[t.length-1];for(var r=0,n=t.length-1;r<=n;){var i=Math.floor((n+r)/2);if(e<t[i].endTime)n=i-1;else{if(!(e>t[i].endTime))return t[i];r=i+1}}return t[r].endTime-e<e-t[n].endTime?t[r]:t[n]}(r.cues,e);if(n)for(;r.cues[0]!==n;)r.removeCue(r.cues[0])}},e}(st),de=function(){function t(t){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}var e=t.prototype;return e.sample=function(t,e){var r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),fe=function(){function t(t,e,r,n){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=t,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new de(e),this.fast_=new de(r)}var e=t.prototype;return e.sample=function(t,e){var r=(t=Math.max(t,this.minDelayMs_))/1e3,n=8*e/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}(),he=window.performance,pe=function(t){function e(e){var r;return(r=t.call(this,e,it.a.FRAG_LOADING,it.a.FRAG_LOADED,it.a.FRAG_BUFFERED,it.a.ERROR)||this).lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=e,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)),r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i,a=e.prototype;return a.destroy=function(){this.clearTimer(),st.prototype.destroy.call(this)},a.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r,n,i=this.hls,a=i.config,o=e.level;i.levels[o].details.live?(r=a.abrEwmaFastLive,n=a.abrEwmaSlowLive):(r=a.abrEwmaFastVoD,n=a.abrEwmaSlowVoD),this._bwEstimator=new fe(i,n,r,a.abrEwmaDefaultEstimate)}},a._abandonRulesCheck=function(){var t=this.hls,e=t.media,r=this.fragCurrent;if(r){var n=r.loader;if(!n||n.stats&&n.stats.aborted)return at.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var i=n.stats;if(e&&i&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&r.autoLevel&&r.level){var a=he.now()-i.trequest,o=Math.abs(e.playbackRate);if(a>500*r.duration/o){var s=t.levels,u=Math.max(1,i.bw?i.bw/8:1e3*i.loaded/a),l=s[r.level];if(!l)return;var c=l.realBitrate?Math.max(l.realBitrate,l.bitrate):l.bitrate,d=i.total?i.total:Math.max(i.loaded,Math.round(r.duration*c/8)),f=e.currentTime,h=(d-i.loaded)/u,p=(It.bufferInfo(e,f,t.config.maxBufferHole).end-f)/o;if(p<2*r.duration/o&&h>p){var g,v=t.minAutoLevel;for(g=r.level-1;g>v;g--){var m=s[g].realBitrate?Math.max(s[g].realBitrate,s[g].bitrate):s[g].bitrate;if(r.duration*m/(6.4*u)<p)break}void 0<h&&(at.b.warn("loading too slow, abort fragment loading and switch to level "+g+":fragLoadedDelay["+g+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+h.toFixed(1)+":"+p.toFixed(1)),t.nextLoadLevel=g,this._bwEstimator.sample(a,i.loaded),n.abort(),this.clearTimer(),t.trigger(it.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:i}))}}}}},a.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&Object(nt.a)(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[e.level],n=(r.loaded?r.loaded.bytes:0)+t.stats.loaded,i=(r.loaded?r.loaded.duration:0)+t.frag.duration;r.loaded={bytes:n,duration:i},r.realBitrate=Math.round(8*n/i)}if(t.frag.bitrateTest){var a=t.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(t)}}},a.onFragBuffered=function(t){var e=t.stats,r=t.frag;if(!0!==e.aborted&&"main"===r.type&&Object(nt.a)(r.sn)&&(!r.bitrateTest||e.tload===e.tbuffered)){var n=e.tparsed-e.trequest;at.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(n,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},a.onError=function(t){switch(t.details){case rt.a.FRAG_LOAD_ERROR:case rt.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},a.clearTimer=function(){clearInterval(this.timer),this.timer=null},a._findBestLevel=function(t,e,r,n,i,a,o,s,u){for(var l=i;l>=n;l--){var c=u[l];if(c){var d,f=c.details,h=f?f.totalduration/f.fragments.length:e,p=!!f&&f.live;d=l<=t?o*r:s*r;var g=u[l].realBitrate?Math.max(u[l].realBitrate,u[l].bitrate):u[l].bitrate,v=g*h/d;if(at.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(d)+"/"+g+"/"+h+"/"+a+"/"+v),d>g&&(!v||p&&!this.bitrateTestDelay||v<a))return l}}return-1},(i=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var r=this._nextABRAutoLevel;return-1!==t&&(r=Math.min(t,r)),r},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,r=t.levels,n=t.config,i=t.minAutoLevel,a=t.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=a?a.currentTime:0,l=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,c=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(It.bufferInfo(a,u,n.maxBufferHole).end-u)/l,f=this._findBestLevel(o,s,c,i,e,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(f>=0)return f;at.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,p=n.abrBandWidthFactor,g=n.abrBandWidthUpFactor;if(0===d){var v=this.bitrateTestDelay;v&&(h=(s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay)-v,at.b.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),p=g=1)}return f=this._findBestLevel(o,s,c,i,e,d+h,p,g,r),Math.max(f,0)}}])&&S(e.prototype,i),e}(st),ge=u(),ve=function(t){function e(e){var r;return(r=t.call(this,e,it.a.MEDIA_ATTACHING,it.a.MEDIA_DETACHING,it.a.MANIFEST_PARSED,it.a.BUFFER_RESET,it.a.BUFFER_APPENDING,it.a.BUFFER_CODECS,it.a.BUFFER_EOS,it.a.BUFFER_FLUSHING,it.a.LEVEL_PTS_UPDATED,it.a.LEVEL_UPDATED)||this)._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r._needsFlush=!1,r._needsEos=!1,r.config=void 0,r.audioTimestampOffset=void 0,r.bufferCodecEventsExpected=0,r._bufferCodecEventsTotal=0,r.media=null,r.mediaSource=null,r.segments=[],r.parent=void 0,r.appending=!1,r.appended=0,r.appendError=0,r.flushBufferCounter=0,r.tracks={},r.pendingTracks={},r.sourceBuffer={},r.flushRange=[],r._onMediaSourceOpen=function(){at.b.log("media source opened"),r.hls.trigger(it.a.MEDIA_ATTACHED,{media:r.media});var t=r.mediaSource;t&&t.removeEventListener("sourceopen",r._onMediaSourceOpen),r.checkPendingTracks()},r._onMediaSourceClose=function(){at.b.log("media source closed")},r._onMediaSourceEnded=function(){at.b.log("media source ended")},r._onSBUpdateEnd=function(){if(r.audioTimestampOffset&&r.sourceBuffer.audio){var t=r.sourceBuffer.audio;at.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+r.audioTimestampOffset),t.timestampOffset=r.audioTimestampOffset,delete r.audioTimestampOffset}r._needsFlush&&r.doFlush(),r._needsEos&&r.checkEos(),r.appending=!1;var e=r.parent,n=r.segments.reduce(function(t,r){return r.parent===e?t+1:t},0),i={},a=r.sourceBuffer;for(var o in a){var s=a[o];if(!s)throw Error("handling source buffer update end error: source buffer for "+o+" uninitilized and unable to update buffered TimeRanges.");i[o]=s.buffered}r.hls.trigger(it.a.BUFFER_APPENDED,{parent:e,pending:n,timeRanges:i}),r._needsFlush||r.doAppending(),r.updateMediaElementDuration(),0===n&&r.flushLiveBackBuffer()},r._onSBUpdateError=function(t){at.b.error("sourceBuffer error:",t),r.hls.trigger(it.a.ERROR,{type:rt.b.MEDIA_ERROR,details:rt.a.BUFFER_APPENDING_ERROR,fatal:!1})},r.config=e.config,r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.destroy=function(){st.prototype.destroy.call(this)},i.onLevelPtsUpdated=function(t){var e=t.type,r=this.tracks.audio;if("audio"===e&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(!n)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(n.timestampOffset-t.start)>.1){var i=n.updating;try{n.abort()}catch(t){at.b.warn("can not abort audio buffer: "+t)}i?this.audioTimestampOffset=t.start:(at.b.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+t.start),n.timestampOffset=t.start)}}},i.onManifestParsed=function(t){var e=2;(t.audio&&!t.video||!t.altAudio)&&(e=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e,at.b.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},i.onMediaAttaching=function(t){var e=this.media=t.media;if(e&&ge){var r=this.mediaSource=new ge;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),e.src=window.URL.createObjectURL(r),this._objectUrl=e.src}},i.onMediaDetaching=function(){at.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){at.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):at.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(it.a.MEDIA_DETACHED)},i.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,r=Object.keys(e).length;(r&&!t||2===r)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},i.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var r=t[e];try{r&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this._onSBUpdateEnd),r.removeEventListener("error",this._onSBUpdateError))}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},i.onBufferCodecs=function(t){var e=this;Object.keys(this.sourceBuffer).length||(Object.keys(t).forEach(function(r){e.pendingTracks[r]=t[r]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},i.createSourceBuffers=function(t){var e=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(var n in t)if(!e[n]){var i=t[n];if(!i)throw Error("source buffer exists for track "+n+", however track does not");var a=i.levelCodec||i.codec,o=i.container+";codecs="+a;at.b.log("creating sourceBuffer("+o+")");try{var s=e[n]=r.addSourceBuffer(o);s.addEventListener("updateend",this._onSBUpdateEnd),s.addEventListener("error",this._onSBUpdateError),this.tracks[n]={buffer:s,codec:a,id:i.id,container:i.container,levelCodec:i.levelCodec}}catch(t){at.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(it.a.ERROR,{type:rt.b.MEDIA_ERROR,details:rt.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:o})}}this.hls.trigger(it.a.BUFFER_CREATED,{tracks:this.tracks})},i.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},i.onBufferEos=function(t){for(var e in this.sourceBuffer)if(!t.type||t.type===e){var r=this.sourceBuffer[e];r&&!r.ended&&(r.ended=!0,at.b.log(e+" sourceBuffer now EOS"))}this.checkEos()},i.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var r in t){var n=t[r];if(n){if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}}at.b.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){at.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},i.onBufferFlushing=function(t){t.type?this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}):(this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"video"}),this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},i.flushLiveBackBuffer=function(){if(this._live){var t=this.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))if(this.media)for(var e=this.media.currentTime,r=this.sourceBuffer,n=Object.keys(r),i=e-Math.max(t,this._levelTargetDuration),a=n.length-1;a>=0;a--){var o=n[a],s=r[o];if(s){var u=s.buffered;u.length>0&&i>u.start(0)&&this.removeBufferRange(o,s,0,i)&&this.hls.trigger(it.a.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i})}}else at.b.error("flushLiveBackBuffer called without attaching media")}},i.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},i.updateMediaElementDuration=function(){var t,e=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer){var n=this.sourceBuffer[r];if(n&&!0===n.updating)return}t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(at.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(nt.a)(t))&&(at.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},i.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,r=this.sourceBuffer;try{for(var n in r){var i=r[n];i&&(e+=i.buffered.length)}}catch(t){at.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(it.a.BUFFER_FLUSHED)}},i.doAppending=function(){var t=this.config,e=this.hls,r=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(!this.media||this.media.error)return this.segments=[],void at.b.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var i=r.shift();if(i)try{var a=n[i.type];if(!a)return void this._onSBUpdateEnd();if(a.updating)return void r.unshift(i);a.ended=!1,this.parent=i.parent,a.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0}catch(n){at.b.error("error while trying to append buffer:"+n.message),r.unshift(i);var o={type:rt.b.MEDIA_ERROR,parent:i.parent,details:"",fatal:!1};22===n.code?(this.segments=[],o.details=rt.a.BUFFER_FULL_ERROR):(this.appendError++,o.details=rt.a.BUFFER_APPEND_ERROR,this.appendError>t.appendErrorMaxRetry&&(at.b.log("fail "+t.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],o.fatal=!0)),e.trigger(it.a.ERROR,o)}}}},i.flushBuffer=function(t,e,r){var n=this.sourceBuffer;if(!Object.keys(n).length)return!0;var i="null";if(this.media&&(i=this.media.currentTime.toFixed(3)),at.b.log("flushBuffer,pos/start/end: "+i+"/"+t+"/"+e),this.flushBufferCounter>=this.appended)return at.b.warn("abort flushing too many retries"),!0;var a=n[r];if(a){if(a.ended=!1,a.updating)return at.b.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(r,a,t,e))return this.flushBufferCounter++,!1}return at.b.log("buffer flushed"),!0},i.removeBufferRange=function(t,e,r,n){try{for(var i=0;i<e.buffered.length;i++){var a=e.buffered.start(i),o=e.buffered.end(i),s=Math.max(a,r),u=Math.min(o,n);if(Math.min(u,o)-s>.5){var l="null";return this.media&&(l=this.media.currentTime.toString()),at.b.log("sb remove "+t+" ["+s+","+u+"], of ["+a+","+o+"], pos:"+l),e.remove(s,u),!0}}}catch(t){at.b.warn("removeBufferRange failed",t)}return!1},e}(st),me=function(t){function e(e){var r;return(r=t.call(this,e,it.a.FPS_DROP_LEVEL_CAPPING,it.a.MEDIA_ATTACHING,it.a.MANIFEST_PARSED,it.a.LEVELS_UPDATED,it.a.BUFFER_CODECS,it.a.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r.clientRect=null,r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i,a,o,s=e.prototype;return s.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},s.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},s.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},s.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onLevelsUpdated=function(t){this.levels=t.levels},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},s.getMaxLevel=function(t){var r=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,i){return e.isLevelAllowed(i,r.restrictedLevels)&&i<=t});return this.clientRect=null,e.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},s.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var r=t.getBoundingClientRect();e.width=r.width,e.height=r.height,e.width||e.height||(e.width=r.right-r.left||t.width||0,e.height=r.bottom-r.top||t.height||0)}return this.clientRect=e,e},e.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,r){if(!t||t&&!t.length)return-1;for(var n,i,a=t.length-1,o=0;o<t.length;o+=1){var s=t[o];if((s.width>=e||s.height>=r)&&(n=s,!(i=t[o+1])||n.width!==i.width||n.height!==i.height)){a=o;break}}return a},i=e,o=[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}],(a=[{key:"mediaWidth",get:function(){return this.getDimensions().width*e.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*e.contentScaleFactor}}])&&O(i.prototype,a),o&&O(i,o),e}(st),be=window.performance,ye=function(t){function e(e){return t.call(this,e,it.a.MEDIA_ATTACHING)||this}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},i.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},i.checkFPS=function(t,e,r){var n=be.now();if(e){if(this.lastTime){var i=n-this.lastTime,a=r-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*a/i,u=this.hls;if(u.trigger(it.a.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:r}),s>0&&a>u.config.fpsDroppedMonitoringThreshold*o){var l=u.currentLevel;at.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),l>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=l)&&(l-=1,u.trigger(it.a.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:u.currentLevel}),u.autoLevelCapping=l,u.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=e}},i.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(st),we=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}var e=t.prototype;return e.destroy=function(){this.abort(),this.loader=null},e.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.load=function(t,e,r){this.context=t,this.config=e,this.callbacks=r,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t,e=this.context;t=this.loader=new window.XMLHttpRequest;var r=this.stats;r.tfirst=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(t,e.url)}catch(r){t.open("GET",e.url,!0),n(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(r){return void this.callbacks.onError({code:t.status,text:r.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},e.readystatechange=function(t){var e=t.currentTarget,r=e.readyState,n=this.stats,i=this.context,a=this.config;if(!n.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(window.performance.now(),n.trequest)),4===r){var o=e.status;if(o>=200&&o<300){var s,u;n.tload=Math.max(n.tfirst,window.performance.now()),u="arraybuffer"===i.responseType?(s=e.response).byteLength:(s=e.responseText).length,n.loaded=n.total=u;var l={url:e.responseURL,data:s};this.callbacks.onSuccess(l,n,i,e)}else n.retry>=a.maxRetry||o>=400&&o<499?(at.b.error(o+" while loading "+i.url),this.callbacks.onError({code:o,text:e.statusText},i,e)):(at.b.warn(o+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},e.loadtimeout=function(){at.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.loadprogress=function(t){var e=t.currentTarget,r=this.stats;r.loaded=t.loaded,t.lengthComputable&&(r.total=t.total);var n=this.callbacks.onProgress;n&&n(r,this.context,null,e)},t}(),Te=function(t){function e(e){var r;return(r=t.call(this,e,it.a.MANIFEST_LOADING,it.a.MANIFEST_PARSED,it.a.AUDIO_TRACK_LOADED,it.a.AUDIO_TRACK_SWITCHED,it.a.LEVEL_LOADED,it.a.ERROR)||this)._trackId=-1,r._selectDefaultTrack=!0,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i,a=e.prototype;return a.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},a.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[]
;this.hls.trigger(it.a.AUDIO_TRACKS_UPDATED,{audioTracks:e}),this._selectAudioGroup(this.hls.nextLoadLevel)},a.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)at.b.warn("Invalid audio track id:",t.id);else{if(at.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},a.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},a.onLevelLoaded=function(t){this._selectAudioGroup(t.level)},a.onError=function(t){t.type===rt.b.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===rt.a.AUDIO_TRACK_LOAD_ERROR&&(at.b.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},a._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)at.b.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)at.b.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];at.b.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var r=e.url,n=e.type,i=e.id;this.hls.trigger(it.a.AUDIO_TRACK_SWITCHING,{id:i,type:n,url:r}),this._loadTrackDetailsIfNeeded(e)}},a.doTick=function(){this._updateTrack(this._trackId)},a._selectAudioGroup=function(t){var e=this.hls.levels[t];if(e&&e.audioGroupIds){var r=e.audioGroupIds[e.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},a._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var r=this.tracks[this._trackId],n=null;if(r&&(n=r.name),this._selectDefaultTrack){var i=e.filter(function(t){return t["default"]});i.length?e=i:at.b.warn("No default audio tracks defined")}var a=!1,o=function(){e.forEach(function(e){a||t.audioGroupId&&e.groupId!==t.audioGroupId||n&&n!==e.name||(t._setAudioTrack(e.id),a=!0)})};o(),a||(n=null,o()),a||(at.b.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(it.a.ERROR,{type:rt.b.MEDIA_ERROR,details:rt.a.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},a._needsTrackLoading=function(t){var e=t.details,r=t.url;return!(e&&!e.live||!r)},a._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,r=t.id;at.b.log("loading audio-track playlist for id: "+r),this.hls.trigger(it.a.AUDIO_TRACK_LOADING,{url:e,id:r})}},a._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,at.b.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},a._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],r=e.name,n=e.language,i=e.groupId;at.b.warn("Loading failed on audio track id: "+t+", group-id: "+i+', name/language: "'+r+'" / "'+n+'"');for(var a=t,o=0;o<this.tracks.length;o++)if(!this.trackIdBlacklist[o]&&this.tracks[o].name===r){a=o;break}a!==t?(at.b.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)):at.b.warn('No fallback audio-track found for name/language: "'+r+'" / "'+n+'"')},(i=[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1}}])&&C(e.prototype,i),e}(zt),ke=window.performance,je=function(t){function e(e,r){var n;return(n=t.call(this,e,it.a.MEDIA_ATTACHED,it.a.MEDIA_DETACHING,it.a.AUDIO_TRACKS_UPDATED,it.a.AUDIO_TRACK_SWITCHING,it.a.AUDIO_TRACK_LOADED,it.a.KEY_LOADED,it.a.FRAG_LOADED,it.a.FRAG_PARSING_INIT_SEGMENT,it.a.FRAG_PARSING_DATA,it.a.FRAG_PARSED,it.a.ERROR,it.a.BUFFER_RESET,it.a.BUFFER_CREATED,it.a.BUFFER_APPENDED,it.a.BUFFER_FLUSHED,it.a.INIT_PTS_FOUND)||this).fragmentTracker=r,n.config=e.config,n.audioCodecSwap=!1,n._state=qt,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n.waitingVideoCC=null,n}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i,a=e.prototype;return a.onInitPtsFound=function(t){var e=t.id,r=t.frag.cc,n=t.initPTS;"main"===e&&(this.initPTS[r]=n,this.videoTrackCC=r,at.b.log("InitPTS for cc: "+r+" found from main: "+n),this.state===ie&&this.tick())},a.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(at.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=Yt):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=Wt),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=qt},a.doTick=function(){var t,e,r,n=this.hls,i=n.config;switch(this.state){case ne:case"PAUSED":case ee:break;case Wt:this.state=Zt,this.loadedmetadata=!1;break;case Yt:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!i.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,u=t<i.maxBufferHole?Math.max(2,i.maxBufferHole):i.maxBufferHole,l=It.bufferInfo(o,t,u),c=It.bufferInfo(s,t,u),d=l.len,f=l.end,h=this.fragPrevious,p=Math.min(i.maxBufferLength,i.maxMaxBufferLength),g=Math.max(p,c.len),v=this.audioSwitch,m=this.trackId;if((d<g||v)&&m<a.length){if(void 0===(r=a[m].details)){this.state=Zt;break}if(!v&&this._streamEnded(l,r))return this.hls.trigger(it.a.BUFFER_EOS,{type:"audio"}),void(this.state=re);var b,w=r.fragments,T=w.length,k=w[0].start,j=w[T-1].start+w[T-1].duration;if(v)if(r.live&&!r.PTSKnown)at.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),f=0;else if(f=t,r.PTSKnown&&t<k){if(!(l.end>k||l.nextStart))return;at.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=k+.05}if(r.initSegment&&!r.initSegment.data)b=r.initSegment;else if(f<=k){if(b=w[0],null!==this.videoTrackCC&&b.cc!==this.videoTrackCC&&(b=function(t,e){return Pt(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}(w,this.videoTrackCC)),r.live&&b.loadIdx&&b.loadIdx===this.fragLoadIdx){var E=l.nextStart?l.nextStart:k;return at.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(E+.05)),void(this.media.currentTime=E+.05)}}else{var _,S=i.maxFragLookUpTolerance,O=h?w[h.sn-w[0].sn+1]:void 0;f<j?(f>j-S&&(S=0),_=O&&!y(f,S,O)?O:Pt(w,function(t){return y(f,S,t)})):_=w[T-1],_&&(b=_,k=_.start,h&&b.level===h.level&&b.sn===h.sn&&(b.sn<r.endSN?(b=w[b.sn+1-r.startSN],this.fragmentTracker.getState(b)!==Rt&&at.b.log("SN just loaded, load next one: "+b.sn)):b=null))}b&&(b.encrypted?(at.b.log("Loading key for "+b.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+m),this.state=Xt,n.trigger(it.a.KEY_LOADING,{frag:b})):(this.fragCurrent=b,(v||this.fragmentTracker.getState(b)===Ct)&&(at.b.log("Loading "+b.sn+", cc: "+b.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+m+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+t+", bufferEnd: "+f.toFixed(3)),"initSegment"!==b.sn&&(this.startFragRequested=!0),Object(nt.a)(b.sn)&&(this.nextLoadPosition=b.start+b.duration),n.trigger(it.a.FRAG_LOADING,{frag:b}),this.state=Qt)))}break;case Zt:(e=this.tracks[this.trackId])&&e.details&&(this.state=Yt);break;case Jt:var C=ke.now(),A=this.retryDate,x=(o=this.media)&&o.seeking;(!A||C>=A||x)&&(at.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Yt);break;case ie:var R=this.waitingFragment;if(R){var L=R.frag.cc;if(void 0!==this.initPTS[L])this.waitingFragment=null,this.state=Qt,this.onFragLoaded(R);else if(this.videoTrackCC!==this.waitingVideoCC)at.b.log("Waiting fragment cc ("+L+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var P=It.bufferInfo(this.mediaBuffer,this.media.currentTime,i.maxBufferHole);y(P.end,i.maxFragLookUpTolerance,R.frag)<0&&(at.b.log("Waiting fragment cc ("+L+") @ "+R.frag.start+" cancelled because another fragment at "+P.end+" is needed"),this.clearWaitingFragment())}}else this.state=Yt}},a.clearWaitingFragment=function(){var t=this.waitingFragment;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state=Yt)},a.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},a.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(at.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},a.onAudioTracksUpdated=function(t){at.b.log("audio tracks updated"),this.tracks=t.audioTracks},a.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state="PAUSED",e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=Yt),this.tick()},a.onAudioTrackLoaded=function(t){var e=t.details,r=t.id,n=this.tracks[r],i=n.details,a=e.totalduration,o=0;if(at.b.log("track "+r+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live||i&&i.live?i&&e.fragments.length>0?(f(i,e),o=e.fragments[0].start,e.PTSKnown?at.b.log("live audio playlist sliding:"+o.toFixed(3)):at.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,at.b.log("live audio playlist - first load, unknown sliding")):e.PTSKnown=!1,n.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;Object(nt.a)(s)?(at.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s):e.live?(this.startPosition=this.computeLivePosition(o,e),at.b.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===Zt&&(this.state=Yt),this.tick()},a.onKeyLoaded=function(){this.state===Xt&&(this.state=Yt,this.tick())},a.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag;if(this.state===Qt&&e&&"audio"===r.type&&r.level===e.level&&r.sn===e.sn){var n=this.tracks[this.trackId],i=n.details,a=i.totalduration,o=e.level,s=e.sn,u=e.cc,l=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",c=this.stats=t.stats;if("initSegment"===s)this.state=Yt,c.tparsed=c.tbuffered=ke.now(),i.initSegment.data=t.payload,this.hls.trigger(it.a.FRAG_BUFFERED,{stats:c,frag:e,id:"audio"}),this.tick();else{this.state=$t,this.appended=!1,this.demuxer||(this.demuxer=new Gt(this.hls,"audio"));var d=this.initPTS[u],f=i.initSegment?i.initSegment.data:[];void 0!==d?(this.pendingBuffering=!0,at.b.log("Demuxing "+s+" of ["+i.startSN+" ,"+i.endSN+"],track "+o),this.demuxer.push(t.payload,f,l,null,e,a,!1,d)):(at.b.log("Unknown video PTS for cc "+u+", waiting for video PTS before demuxing audio frag "+s+" of ["+i.startSN+" ,"+i.endSN+"],track "+o),this.waitingFragment=t,this.waitingVideoCC=this.videoTrackCC,this.state=ie)}}this.fragLoadError=0},a.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===$t){var n,i=t.tracks;if(i.video&&delete i.video,n=i.audio){n.levelCodec=n.codec,n.id=t.id,this.hls.trigger(it.a.BUFFER_CODECS,i),at.b.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var a=n.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(it.a.BUFFER_APPENDING,o))}this.tick()}}},a.onFragParsingData=function(t){var e=this,r=this.fragCurrent,n=t.frag;if(r&&"audio"===t.id&&"audio"===t.type&&n.sn===r.sn&&n.level===r.level&&this.state===$t){var i=this.trackId,a=this.tracks[i],o=this.hls;Object(nt.a)(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),r.addElementaryStream(ut.AUDIO),at.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),d(a.details,r,t.startPTS,t.endPTS);var s=this.media,u=!1;if(this.audioSwitch)if(s&&s.readyState){var l=s.currentTime;at.b.log("switching audio track : currentTime:"+l),l>=t.startPTS&&(at.b.log("switching audio track : flushing all audio"),this.state=ee,o.trigger(it.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),u=!0,this.audioSwitch=!1,o.trigger(it.a.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,o.trigger(it.a.AUDIO_TRACK_SWITCHED,{id:i});var c=this.pendingData;if(!c)return at.b.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void o.trigger(it.a.ERROR,{type:rt.b.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&c.push({type:t.type,data:e,parent:"audio",content:"data"})}),!u&&c.length&&(c.forEach(function(t){e.state===$t&&(e.pendingBuffering=!0,e.hls.trigger(it.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},a.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===$t&&(this.stats.tparsed=ke.now(),this.state=te,this._checkAppendedParsed())},a.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},a.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},a.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==$t&&e!==te||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},a._checkAppendedParsed=function(){if(!(this.state!==te||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,r=this.hls;if(t){this.fragPrevious=t,e.tbuffered=ke.now(),r.trigger(it.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;n&&at.b.log("audio buffered : "+Ht(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(it.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Yt}this.tick()}},a.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case rt.a.FRAG_LOAD_ERROR:case rt.a.FRAG_LOAD_TIMEOUT:var r=t.frag;if(r&&"audio"!==r.type)break;if(!t.fatal){var n=this.fragLoadError;n?n++:n=1;var i=this.config;if(n<=i.fragLoadingMaxRetry){this.fragLoadError=n;var a=Math.min(Math.pow(2,n-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);at.b.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=ke.now()+a,this.state=Jt}else at.b.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=ne}break;case rt.a.AUDIO_TRACK_LOAD_ERROR:case rt.a.AUDIO_TRACK_LOAD_TIMEOUT:case rt.a.KEY_LOAD_ERROR:case rt.a.KEY_LOAD_TIMEOUT:this.state!==ne&&(this.state=t.fatal?ne:Yt,at.b.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case rt.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===$t||this.state===te)){var o=this.mediaBuffer,s=this.media.currentTime;if(o&&It.isBuffered(o,s)&&It.isBuffered(o,s+.5)){var u=this.config;u.maxMaxBufferLength>=u.maxBufferLength&&(u.maxMaxBufferLength/=2,at.b.warn("AudioStreamController: reduce max buffer length to "+u.maxMaxBufferLength+"s")),this.state=Yt}else at.b.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=ee,this.hls.trigger(it.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},a.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(at.b.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach(function(e){t.hls.trigger(it.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=te):(this.state=Yt,this.fragPrevious=null,this.tick())},(i=[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,at.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}])&&A(e.prototype,i),e}(oe),Ee=function(){function t(t){return"string"==typeof t&&!!i[t.toLowerCase()]&&t.toLowerCase()}function e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function r(r,i,a){var o=this,s={enumerable:!0};o.hasBeenReset=!1;var u="",l=!1,c=r,d=i,f=a,h=null,p="",g=!0,v="auto",m="start",b=50,y="middle",w=50,T="middle";Object.defineProperty(o,"id",e({},s,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(o,"pauseOnExit",e({},s,{get:function(){return l},set:function(t){l=!!t}})),Object.defineProperty(o,"startTime",e({},s,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",e({},s,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",e({},s,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",e({},s,{get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",e({},s,{get:function(){return p},set:function(t){var e=function(t){return"string"==typeof t&&!!n[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",e({},s,{get:function(){return g},set:function(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",e({},s,{get:function(){return v},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",e({},s,{get:function(){return m},set:function(e){var r=t(e);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");m=r,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",e({},s,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",e({},s,{get:function(){return y},set:function(e){var r=t(e);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");y=r,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",e({},s,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",e({},s,{get:function(){return T},set:function(e){var r=t(e);if(!r)throw new SyntaxError("An invalid or illegal string was specified.");T=r,this.hasBeenReset=!0}})),o.displayState=void 0}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var n={"":!0,lr:!0,rl:!0},i={start:!0,middle:!0,end:!0,left:!0,right:!0};return r.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},r}(),_e=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};R.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var n=0;n<r.length;++n)if(e===r[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Se=new Ee(0,0,0),Oe="middle"===Se.align?"middle":"center";x.prototype={parse:function(t){function e(){var t=r.buffer,e=0;for(t=I(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,r.buffer=t.substr(e),n}var r=this;t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));try{var n;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var i=(n=e()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var a=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(a?a=!1:n=e(),r.state){case"HEADER":/:/.test(n)?L(n,function(){},/:/):n||(r.state="ID");continue;case"NOTE":n||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){r.state="NOTE";break}if(!n)continue;if(r.cue=new Ee(0,0,""),r.state="CUE",-1===n.indexOf("-->")){r.cue.id=n;continue}case"CUE":try{P(n,r.cue,r.regionList)}catch(t){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("-->");if(!n||o&&(a=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=n;continue;case"BADCUE":n||(r.state="ID");continue}}}catch(t){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var Ce,Ae=x,xe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Re=function(t){var e=t;return xe.hasOwnProperty(t)&&(e=xe[t]),String.fromCharCode(e)},Le={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Pe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Ie={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},De={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Me=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(t){t[t.ERROR=0]="ERROR",t[t.TEXT=1]="TEXT",t[t.WARNING=2]="WARNING",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.DATA=3]="DATA"}(Ce||(Ce={}));var Fe,Ne=function(){function t(){this.time=null,this.verboseLevel=Ce.ERROR}return t.prototype.log=function(t,e){this.verboseLevel>=t&&at.b.log(this.time+" ["+t+"] "+e)},t}(),Be=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toString(16));return e},Ue=function(){function t(t,e,r,n,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],r=0;r<e.length;r++){var n=e[r];t.hasOwnProperty(n)&&(this[n]=t[n])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),Ve=function(){function t(t,e,r,n,i,a){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new Ue(e,r,n,i,a)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),Ge=function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<100;e++)this.chars.push(new Ve);this.logger=t,this.pos=0,this.currPenState=new Ue}var e=t.prototype;return e.equals=function(t){for(var e=!0,r=0;r<100;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(Ce.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(Ce.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var r=this.pos+1;r<e+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){t>=144&&this.backSpace();var e=Re(t);this.pos>=100?this.logger.log(Ce.ERROR,"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<100;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,r=0;r<100;r++){var n=this.chars[r].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),He=function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<15;e++)this.rows.push(new Ge(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14},e.equals=function(t){for(var e=!0,r=0;r<15;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},e.setCursor=function(t){this.logger.log(Ce.INFO,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},e.setPAC=function(t){this.logger.log(Ce.INFO,"pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var r=0;r<15;r++)this.rows[r].clear();var n=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[n].cueStartTime,o=this.logger.time;if(a&&null!==o&&a<o)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(i.rows[n+s])}}this.currRow=e;var u=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,c=Math.max(l-1,0);u.setCursor(t.indent),t.color=u.chars[c].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},e.setBkgData=function(t){this.logger.log(Ce.INFO,"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(Ce.TEXT,this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(Ce.INFO,"Rolling up")}else this.logger.log(Ce.DEBUG,"roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],r="",n=-1,i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(n=i+1,t?e.push("Row "+n+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(r=t?"["+e.join(" | ")+"]":e.join("\n")),r},e.getTextAndFormat=function(){return this.rows},t}(),Ke=function(){function t(t,e,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new He(r),this.nonDisplayedMemory=new He(r),this.lastOutputScreen=new He(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(Ce.INFO,"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(Ce.INFO,r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(Ce.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(Ce.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){this.logger.log(Ce.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(Ce.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(Ce.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(Ce.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(Ce.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(Ce.INFO,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){this.logger.log(Ce.INFO,"RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){this.logger.log(Ce.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(Ce.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(Ce.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){
if(this.logger.log(Ce.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(Ce.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(Ce.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var r=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}this.logger.log(Ce.INFO,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),ze=function(){function t(t,e,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new Ne;this.channels=[null,new Ke(t,e,n),new Ke(t+1,r,n)],this.cmdHistory={a:null,b:null},this.logger=n}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var r,n,i,a=!1;this.logger.time=t;for(var o=0;o<e.length;o+=2)if(n=127&e[o],i=127&e[o+1],0!==n||0!==i){if(this.logger.log(Ce.DATA,"["+Be([e[o],e[o+1]])+"] -> ("+Be([n,i])+")"),(r=this.parseCmd(n,i))||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r&&(a=this.parseChars(n,i))){var s=this.currentChannel;s&&s>0?this.channels[s].insertChars(a):this.logger.log(Ce.WARNING,"No channel found yet. TEXT-MODE?")}r||a||this.logger.log(Ce.WARNING,"Couldn't parse cleaned data "+Be([n,i])+" orig: "+Be([e[o],e[o+1]]))}},e.parseCmd=function(t,e){var r=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(F(t,e,r))return M(null,null,r),this.logger.log(Ce.DEBUG,"Repeated command ("+Be([t,e])+") is dropped"),!0;var n=20===t||21===t||23===t?1:2,i=this.channels[n];return 20===t||21===t||28===t||29===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),M(t,e,r),this.currentChannel=n,!0},e.parseMidrow=function(t,e){var r=0;if((17===t||25===t)&&e>=32&&e<=47){if((r=17===t?1:2)!==this.currentChannel)return this.logger.log(Ce.ERROR,"Mismatch channel in midrow parsing"),!1;var n=this.channels[r];return!!n&&(n.ccMIDROW(e),this.logger.log(Ce.DEBUG,"MIDROW ("+Be([t,e])+")"),!0)}return!1},e.parsePAC=function(t,e){var r,n=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(F(t,e,n))return M(null,null,n),!0;var i=t<=23?1:2;r=e>=64&&e<=95?1===i?Le[t]:Ie[t]:1===i?Pe[t]:De[t];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(r,e)),M(t,e,n),this.currentChannel=i,!0)},e.interpretPAC=function(t,e){var r,n={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},e.parseChars=function(t,e){var r,n,i=null,a=null;if(t>=25?(r=2,a=t-8):(r=1,a=t),a>=17&&a<=19?(n=17===a?e+80:18===a?e+112:e+144,this.logger.log(Ce.INFO,"Special char '"+Re(n)+"' in channel "+r),i=[n]):t>=32&&t<=127&&(i=0===e?[t]:[t,e]),i){var o=Be(i);this.logger.log(Ce.DEBUG,"Char codes =  "+o.join(",")),M(t,e,this.cmdHistory)}return i},e.parseBackgroundAttributes=function(t,e){var r;if(!((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47))return!1;var n={};16===t||24===t?(r=Math.floor((e-32)/2),n.background=Me[r],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0));var i=t<=23?1:2;return this.channels[i].setBkgData(n),M(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var r=this.channels[e];r&&r.cueSplitAtTime(t)}},t}(),qe=function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[]},t}(),We=function(t,e,r){return t.substr(r||0,e.length)===e},Ye=function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return(e>>>0).toString()},Xe=function(t,e,r,n,i,a){var o,s=Object(le.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),u="00:00.000",l=0,c=0,d=0,f=[],h=!0,p=!1,g=new Ae;g.oncue=function(t){var e=r[n],i=r.ccOffset;e&&e["new"]&&(void 0!==c?i=r.ccOffset=e.start:function(t,e,r){var n=t[e],i=t[n.prevCC];if(!i||!i["new"]&&n["new"])return t.ccOffset=t.presentationOffset=n.start,void(n["new"]=!1);for(;i&&i["new"];)t.ccOffset+=n.start-i.start,n["new"]=!1,i=t[(n=i).prevCC];t.presentationOffset=r}(r,n,d)),d&&(i=d-r.presentationOffset),p&&(t.startTime+=i-c,t.endTime+=i-c),t.id=Ye(t.startTime.toString())+Ye(t.endTime.toString())+Ye(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&f.push(t)},g.onparsingerror=function(t){o=t},g.onflush=function(){o&&a?a(o):i(f)},s.forEach(function(t){if(h){if(We(t,"X-TIMESTAMP-MAP=")){h=!1,p=!0,t.substr(16).split(",").forEach(function(t){We(t,"LOCAL:")?u=t.substr(6):We(t,"MPEGTS:")&&(l=parseInt(t.substr(7)))});try{e+(9e4*r[n].start||0)<0&&(e+=8589934592),l-=e,c=function(t){var e=parseInt(t.substr(-3)),r=parseInt(t.substr(-6,2)),n=parseInt(t.substr(-9,2)),i=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;if(!(Object(nt.a)(e)&&Object(nt.a)(r)&&Object(nt.a)(n)&&Object(nt.a)(i)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*r,(e+=6e4*n)+36e5*i}(u)/1e3,d=l/9e4}catch(t){p=!1,o=t}return}""===t&&(h=!1)}g.parse(t+"\n")}),g.flush()},Qe=function(t){function e(e){var r;if((r=t.call(this,e,it.a.MEDIA_ATTACHING,it.a.MEDIA_DETACHING,it.a.FRAG_PARSING_USERDATA,it.a.FRAG_DECRYPTED,it.a.MANIFEST_LOADING,it.a.MANIFEST_LOADED,it.a.FRAG_LOADED,it.a.INIT_PTS_FOUND)||this).media=null,r.config=void 0,r.enabled=!0,r.Cues=void 0,r.textTracks=[],r.tracks=[],r.initPTS=[],r.unparsedVttFrags=[],r.captionsTracks={},r.nonNativeCaptionsTracks={},r.captionsProperties=void 0,r.cea608Parser1=void 0,r.cea608Parser2=void 0,r.lastSn=-1,r.prevCC=-1,r.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,"new":!1}},r.hls=e,r.config=e.config,r.Cues=e.config.cueHandler,r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode},textTrack3:{label:r.config.captionsTextTrack3Label,languageCode:r.config.captionsTextTrack3LanguageCode},textTrack4:{label:r.config.captionsTextTrack4Label,languageCode:r.config.captionsTextTrack4LanguageCode}},r.config.enableCEA708Captions){var n=new qe(N(r),"textTrack1"),i=new qe(N(r),"textTrack2"),a=new qe(N(r),"textTrack3"),o=new qe(N(r),"textTrack4");r.cea608Parser1=new ze(1,n,i),r.cea608Parser2=new ze(3,a,o)}return r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.addCues=function(t,e,r,n,i){for(var a,o,s,u,l=!1,c=i.length;c--;){var d=i[c],f=(a=d[0],o=d[1],s=e,u=r,Math.min(o,u)-Math.max(a,s));if(f>=0&&(d[0]=Math.min(d[0],e),d[1]=Math.max(d[1],r),l=!0,f/(r-e)>.5))return}if(l||i.push([e,r]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[t],e,r,n);else{var h=this.Cues.newCue(null,e,r,n);this.hls.trigger(it.a.CUES_PARSED,{type:"captions",cues:h,track:t})}},i.onInitPtsFound=function(t){var e=this,r=t.frag,n=t.id,i=t.initPTS,a=this.unparsedVttFrags;"main"===n&&(this.initPTS[r.cc]=i),a.length&&(this.unparsedVttFrags=[],a.forEach(function(t){e.onFragLoaded(t)}))},i.getExistingTrack=function(t){var e=this.media;if(e)for(var r=0;r<e.textTracks.length;r++){var n=e.textTracks[r];if(n[t])return n}return null},i.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},i.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,r=this.captionsTracks,n=this.media,i=e[t],a=i.label,o=i.languageCode,s=this.getExistingTrack(t);if(s)r[t]=s,_(r[t]),E(r[t],n);else{var u=this.createTextTrack("captions",a,o);u&&(u[t]=!0,r[t]=u)}}},i.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var r={_id:t,label:e.label,kind:"captions","default":!!e.media&&!!e.media["default"],closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=r,this.hls.trigger(it.a.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}},i.createTextTrack=function(t,e,r){var n=this.media;if(n)return n.addTextTrack(t,e,r)},i.destroy=function(){t.prototype.destroy.call(this)},i.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},i.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(e){_(t[e]),delete t[e]}),this.nonNativeCaptionsTracks={}},i.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,"new":!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},i._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var r=0;r<e.length;r++)_(e[r])}},i.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var r=t.subtitles||[],n=this.tracks&&r&&this.tracks.length===r.length;if(this.tracks=t.subtitles||[],this.config.renderTextTracksNatively){var i=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,r){var n;if(r<i.length){for(var a=null,o=0;o<i.length;o++)if(B(i[o],t)){a=i[o];break}a&&(n=a)}n||(n=e.createTextTrack("subtitles",t.name,t.lang)),t["default"]?n.mode=e.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",e.textTracks.push(n)})}else if(!n&&this.tracks&&this.tracks.length){var a=this.tracks.map(function(t){return{label:t.name,kind:t.type.toLowerCase(),"default":t["default"],subtitleTrack:t}});this.hls.trigger(it.a.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(function(t){var r=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(r){var n="textTrack"+r[1],i=e.captionsProperties[n];i&&(i.label=t.name,t.lang&&(i.languageCode=t.lang),i.media=t)}})},i.onFragLoaded=function(t){var e=t.frag,r=t.payload,n=this.cea608Parser1,i=this.cea608Parser2,a=this.initPTS,o=this.lastSn,s=this.unparsedVttFrags;if("main"===e.type){var u=e.sn;e.sn!==o+1&&n&&i&&(n.reset(),i.reset()),this.lastSn=u}else if("subtitle"===e.type)if(r.byteLength){if(!Object(nt.a)(a[e.cc]))return s.push(t),void(a.length&&this.hls.trigger(it.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e}));var l=e.decryptdata;null!=l&&null!=l.key&&"AES-128"===l.method||this._parseVTTs(e,r)}else this.hls.trigger(it.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},i._parseVTTs=function(t,e){var r=this,n=this.hls,i=this.prevCC,a=this.textTracks,o=this.vttCCs;o[t.cc]||(o[t.cc]={start:t.start,prevCC:i,"new":!0},this.prevCC=t.cc),Xe(e,this.initPTS[t.cc],o,t.cc,function(e){if(r.config.renderTextTracksNatively){var i=a[t.level];if("disabled"===i.mode)return void n.trigger(it.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t});e.forEach(function(t){if(!i.cues.getCueById(t.id))try{if(i.addCue(t),!i.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(r){at.b.debug("Failed occurred on adding cues: "+r);var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,i.addCue(e)}})}else{var o=r.tracks[t.level]["default"]?"default":"subtitles"+t.level;n.trigger(it.a.CUES_PARSED,{type:"subtitles",cues:e,track:o})}n.trigger(it.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){at.b.log("Failed to parse VTT cue: "+e),n.trigger(it.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},i.onFragDecrypted=function(t){var e=t.frag,r=t.payload;if("subtitle"===e.type){if(!Object(nt.a)(this.initPTS[e.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(e,r)}},i.onFragParsingUserdata=function(t){var e=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&e&&r)for(var n=0;n<t.samples.length;n++){var i=t.samples[n].bytes;if(i){var a=this.extractCea608Data(i);e.addData(t.samples[n].pts,a[0]),r.addData(t.samples[n].pts,a[1])}}},i.extractCea608Data=function(t){for(var e=31&t[0],r=2,n=[[],[]],i=0;i<e;i++){var a=t[r++],o=127&t[r++],s=127&t[r++],u=3&a;0===o&&0===s||0!=(4&a)&&(0!==u&&1!==u||(n[u].push(o),n[u].push(s)))}return n},e}(st),Je=function(t){function e(e){var r;return(r=t.call(this,e,it.a.MEDIA_ATTACHED,it.a.MEDIA_DETACHING,it.a.MANIFEST_LOADED,it.a.SUBTITLE_TRACK_LOADED)||this).tracks=[],r.trackId=-1,r.media=null,r.stopped=!0,r.subtitleDisplay=!0,r.queuedDefaultTrack=null,r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i,a=e.prototype;return a.destroy=function(){st.prototype.destroy.call(this)},a.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(Object(nt.a)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},a.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(nt.a)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack),V(this.media.textTracks).forEach(function(t){_(t)}),this.subtitleTrack=-1,this.media=null)},a.onManifestLoaded=function(t){var e=this,r=t.subtitles||[];this.tracks=r,this.hls.trigger(it.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(t){t["default"]&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},a.onSubtitleTrackLoaded=function(t){var e=this,r=t.id,n=t.details,i=this.trackId,a=this.tracks,o=a[i];if(r>=a.length||r!==i||!o||this.stopped)this._clearReloadTimer();else if(at.b.log("subtitle track "+r+" loaded"),n.live){var s=p(o.details,n,t.stats.trequest);at.b.log("Reloading live subtitle playlist in "+s+"ms"),this.timer=setTimeout(function(){e._loadCurrentTrack()},s)}else this._clearReloadTimer()},a.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},a.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},a._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},a._loadCurrentTrack=function(){var t=this.trackId,e=this.tracks,r=this.hls,n=e[t];t<0||!n||n.details&&!n.details.live||(at.b.log("Loading subtitle track "+t),r.trigger(it.a.SUBTITLE_TRACK_LOADING,{url:n.url,id:t}))},a._toggleTrackModes=function(t){var e=this.media,r=this.subtitleDisplay,n=this.trackId;if(e){var i=V(e.textTracks);if(-1===t)[].slice.call(i).forEach(function(t){t.mode="disabled"});else{var a=i[n];a&&(a.mode="disabled")}var o=i[t];o&&(o.mode=r?"showing":"hidden")}},a._setSubtitleTrackInternal=function(t){var e=this.hls,r=this.tracks;!Object(nt.a)(t)||t<-1||t>=r.length||(this.trackId=t,at.b.log("Switching to subtitle track "+t),e.trigger(it.a.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},a._onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=V(this.media.textTracks),r=0;r<e.length;r++)if("hidden"===e[r].mode)t=r;else if("showing"===e[r].mode){t=r;break}this.subtitleTrack=t}},(i=[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))}}])&&U(e.prototype,i),e}(st),Ze=r(7),$e=window.performance,tr=function(t){function e(e,r){var n;return(n=t.call(this,e,it.a.MEDIA_ATTACHED,it.a.MEDIA_DETACHING,it.a.ERROR,it.a.KEY_LOADED,it.a.FRAG_LOADED,it.a.SUBTITLE_TRACKS_UPDATED,it.a.SUBTITLE_TRACK_SWITCH,it.a.SUBTITLE_TRACK_LOADED,it.a.SUBTITLE_FRAG_PROCESSED,it.a.LEVEL_UPDATED)||this).fragmentTracker=r,n.config=e.config,n.state=qt,n.tracks=[],n.tracksBuffered=[],n.currentTrackId=-1,n.decrypter=new Ze.a(e,e.config),n.lastAVStart=0,n._onMediaSeeking=n.onMediaSeeking.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i=e.prototype;return i.startLoad=function(){this.stopLoad(),this.state=Yt;var t=this.tracks[this.currentTrackId];t&&t.details&&(this.setInterval(500),this.tick())},i.onSubtitleFragProcessed=function(t){var e=t.frag,r=t.success;if(this.fragPrevious=e,this.state=Yt,r){var n=this.tracksBuffered[this.currentTrackId];if(n){for(var i,a=e.start,o=0;o<n.length;o++)if(a>=n[o].start&&a<=n[o].end){i=n[o];break}var s=e.start+e.duration;i?i.end=s:(i={start:a,end:s},n.push(i))}}},i.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state=Yt},i.onMediaDetaching=function(){var t=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]}),this.media=null,this.state=qt)},i.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state=Yt)},i.onSubtitleTracksUpdated=function(t){var e=this;at.b.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach(function(t){e.tracksBuffered[t.id]=[]})},i.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},i.onSubtitleTrackLoaded=function(t){var e=t.id,r=t.details,n=this.currentTrackId,i=this.tracks,a=i[n];e>=i.length||e!==n||!a||(r.live&&function(t,e,r){void 0===r&&(r=0);var n=-1;h(t,e,function(t,e,r){e.start=t.start,n=r});var i=e.fragments;if(n<0)i.forEach(function(t){t.start+=r});else for(var a=n+1;a<i.length;a++)i[a].start=i[a-1].start+i[a-1].duration}(a.details,r,this.lastAVStart),a.details=r,this.setInterval(500))},i.onKeyLoaded=function(){this.state===Xt&&(this.state=Yt)},i.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag.decryptdata,n=t.frag,i=this.hls;if(this.state===Qt&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&r&&r.key&&"AES-128"===r.method){var a=$e.now();this.decrypter.decrypt(t.payload,r.key.buffer,r.iv.buffer,function(t){var e=$e.now();i.trigger(it.a.FRAG_DECRYPTED,{frag:n,payload:t,stats:{tstart:a,tdecrypt:e}})})}},i.onLevelUpdated=function(t){var e=t.details.fragments;this.lastAVStart=e.length?e[0].start:0},i.doTick=function(){if(this.media)switch(this.state){case Yt:var t=this.config,e=this.currentTrackId,r=this.fragmentTracker,n=this.media,i=this.tracks;if(!i||!i[e]||!i[e].details)break;var a,o=t.maxBufferHole,s=t.maxFragLookUpTolerance,u=Math.min(t.maxBufferLength,t.maxMaxBufferLength),l=It.bufferedInfo(this._getBuffered(),n.currentTime,o),c=l.end,d=l.len,f=i[e].details,h=f.fragments,p=h.length,g=h[p-1].start+h[p-1].duration;if(d>u)return;var v=this.fragPrevious;c<g?(v&&f.hasProgramDateTime&&(a=m(h,v.endProgramDateTime,s)),a||(a=b(v,h,c,s))):a=h[p-1],a&&a.encrypted?(at.b.log("Loading key for "+a.sn),this.state=Xt,this.hls.trigger(it.a.KEY_LOADING,{frag:a})):a&&r.getState(a)===Ct&&(this.fragCurrent=a,this.state=Qt,this.hls.trigger(it.a.FRAG_LOADING,{frag:a}))}else this.state=Yt},i.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,t.prototype.stopLoad.call(this)},i._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},i.onMediaSeeking=function(){if(this.fragCurrent){var t=this.media?this.media.currentTime:0,e=this.config.maxFragLookUpTolerance,r=this.fragCurrent.start-e,n=this.fragCurrent.start+this.fragCurrent.duration+e;(t<r||t>n)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state=Yt,this.tick())}},e}(oe);!function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready"}(Fe||(Fe={}));var er="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null,rr=function(t){function e(e){var r;return(r=t.call(this,e,it.a.MEDIA_ATTACHED,it.a.MEDIA_DETACHED,it.a.MANIFEST_PARSED)||this)._widevineLicenseUrl=void 0,r._licenseXhrSetup=void 0,r._emeEnabled=void 0,r._requestMediaKeySystemAccess=void 0,r._drmSystemOptions=void 0,r._config=void 0,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._requestLicenseFailureCount=0,r.mediaKeysPromise=null,r._onMediaEncrypted=function(t){if(at.b.log('Media is encrypted using "'+t.initDataType+'" init data type'),!r.mediaKeysPromise)return at.b.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void r.hls.trigger(it.a.ERROR,{type:rt.b.KEY_SYSTEM_ERROR,details:rt.a.KEY_SYSTEM_NO_KEYS,fatal:!0});var e=function(e){r._media&&(r._attemptSetMediaKeys(e),r._generateRequestWithPreferredKeySession(t.initDataType,t.initData))};r.mediaKeysPromise.then(e)["catch"](e)},r._config=e.config,r._widevineLicenseUrl=r._config.widevineLicenseUrl,r._licenseXhrSetup=r._config.licenseXhrSetup,r._emeEnabled=r._config.emeEnabled,r._requestMediaKeySystemAccess=r._config.requestMediaKeySystemAccessFunc,r._drmSystemOptions=e.config.drmSystemOptions,r}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var i,a=e.prototype;return a.getLicenseServerUrl=function(t){switch(t){case Fe.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},a._attemptKeySystemAccess=function(t,e,r){var n=this,i=function(t,e,r,n){switch(t){case Fe.WIDEVINE:return function(t,e,r){var n={audioCapabilities:[],videoCapabilities:[]};return t.forEach(function(t){n.audioCapabilities.push({contentType:'audio/mp4; codecs="'+t+'"',robustness:r.audioRobustness||""})}),e.forEach(function(t){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:r.videoRobustness||""})}),[n]}(e,r,n);default:throw new Error("Unknown key-system: "+t)}}(t,e,r,this._drmSystemOptions);at.b.log("Requesting encrypted media key-system access");var a=this.requestMediaKeySystemAccess(t,i);this.mediaKeysPromise=a.then(function(e){return n._onMediaKeySystemAccessObtained(t,e)}),a["catch"](function(e){at.b.error('Failed to obtain key-system "'+t+'" access:',e)})},a._onMediaKeySystemAccessObtained=function(t,e){var r=this;at.b.log('Access for key-system "'+t+'" obtained');var n={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(n);var i=Promise.resolve().then(function(){return e.createMediaKeys()}).then(function(e){return n.mediaKeys=e,at.b.log('Media-keys created for key-system "'+t+'"'),r._onMediaKeysCreated(),e});return i["catch"](function(t){at.b.error("Failed to create media-keys:",t)}),i},a._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach(function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))})},a._onNewMediaKeySession=function(t){var e=this;at.b.log("New key-system session "+t.sessionId),t.addEventListener("message",function(r){e._onKeySessionMessage(t,r.message)},!1)},a._onKeySessionMessage=function(t,e){at.b.log("Got EME message event, creating license request"),this._requestLicense(e,function(e){at.b.log("Received license data (length: "+(e?e.byteLength:e)+"), updating key-session"),t.update(e)})},a._attemptSetMediaKeys=function(){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return at.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(it.a.ERROR,{type:rt.b.KEY_SYSTEM_ERROR,details:rt.a.KEY_SYSTEM_NO_KEYS,fatal:!0});at.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},a._generateRequestWithPreferredKeySession=function(t,e){var r=this,n=this._mediaKeysList[0];if(!n)return at.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(it.a.ERROR,{type:rt.b.KEY_SYSTEM_ERROR,details:rt.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(n.mediaKeysSessionInitialized)at.b.warn("Key-Session already initialized but requested again");else{var i=n.mediaKeysSession;if(!i)return at.b.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(it.a.ERROR,{type:rt.b.KEY_SYSTEM_ERROR,details:rt.a.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return at.b.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(it.a.ERROR,{type:rt.b.KEY_SYSTEM_ERROR,details:rt.a.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});at.b.log('Generating key-session request for "'+t+'" init data type'),n.mediaKeysSessionInitialized=!0,i.generateRequest(t,e).then(function(){at.b.debug("Key-session generation succeeded")})["catch"](function(t){at.b.error("Error generating key-session request:",t),r.hls.trigger(it.a.ERROR,{type:rt.b.KEY_SYSTEM_ERROR,details:rt.a.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},a._createLicenseXhr=function(t,e,r){var n=new XMLHttpRequest,i=this._licenseXhrSetup;try{if(i)try{i(n,t)}catch(e){n.open("POST",t,!0),i(n,t)}n.readyState||n.open("POST",t,!0)}catch(t){throw new Error("issue setting up KeySystem license XHR "+t)}return n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,t,e,r),n},a._onLicenseRequestReadyStageChange=function(t,e,r,n){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,at.b.log("License request succeeded"),"arraybuffer"!==t.responseType&&at.b.warn("xhr response type was not set to the expected arraybuffer for license request"),n(t.response);else{if(at.b.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(it.a.ERROR,{type:rt.b.KEY_SYSTEM_ERROR,details:rt.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var i=3-this._requestLicenseFailureCount+1;at.b.warn("Retrying license request, "+i+" attempts left"),this._requestLicense(r,n)}}},a._generateLicenseRequestChallenge=function(t,e){switch(t.mediaKeySystemDomain){case Fe.WIDEVINE:return e}throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},a._requestLicense=function(t,e){at.b.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return at.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(it.a.ERROR,{type:rt.b.KEY_SYSTEM_ERROR,details:rt.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var n=this.getLicenseServerUrl(r.mediaKeySystemDomain),i=this._createLicenseXhr(n,t,e);at.b.log("Sending license request to URL: "+n);var a=this._generateLicenseRequestChallenge(r,t);i.send(a)}catch(t){at.b.error("Failure requesting DRM license: "+t),this.hls.trigger(it.a.ERROR,{type:rt.b.KEY_SYSTEM_ERROR,details:rt.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},a.onMediaAttached=function(t){if(this._emeEnabled){var e=t.media;this._media=e,e.addEventListener("encrypted",this._onMediaEncrypted)}},a.onMediaDetached=function(){var t=this._media,e=this._mediaKeysList;t&&(t.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map(function(t){if(t.mediaKeysSession)return t.mediaKeysSession.close()["catch"](function(){})})).then(function(){return t.setMediaKeys(null)})["catch"](function(){}))},a.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map(function(t){return t.audioCodec}),r=t.levels.map(function(t){return t.videoCodec});this._attemptKeySystemAccess(Fe.WIDEVINE,e,r)}},(i=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&G(e.prototype,i),e}(st),nr=K(K({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:we,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:pe,bufferController:ve,capLevelController:me,fpsController:ye,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:er,testBandwidth:!0},{cueHandler:Z,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:tr,subtitleTrackController:Je,timelineController:Qe,audioStreamController:je,audioTrackController:Te,emeController:rr}),ir=function(t){function e(r){var n;void 0===r&&(r={}),(n=t.call(this)||this).config=void 0,n._autoLevelCapping=void 0,n.abrController=void 0,n.capLevelController=void 0,n.levelController=void 0,n.streamController=void 0,n.networkControllers=void 0,n.audioTrackController=void 0,n.subtitleTrackController=void 0,n.emeController=void 0,n.coreComponents=void 0,n.media=null,n.url=null;var i=e.DefaultConfig
;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");n.config=W(W({},i),r);var a=X(n).config;if(void 0!==a.liveMaxLatencyDurationCount&&a.liveMaxLatencyDurationCount<=a.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==a.liveMaxLatencyDuration&&(void 0===a.liveSyncDuration||a.liveMaxLatencyDuration<=a.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(at.a)(a.debug),n._autoLevelCapping=-1;var o=n.abrController=new a.abrController(X(n)),s=new a.bufferController(X(n)),u=n.capLevelController=new a.capLevelController(X(n)),l=new a.fpsController(X(n)),c=new _t(X(n)),d=new St(X(n)),f=new Ot(X(n)),h=new ce(X(n)),p=n.levelController=new ue(X(n)),g=new Lt(X(n)),v=[p,n.streamController=new se(X(n),g)],m=a.audioStreamController;m&&v.push(new m(X(n),g)),n.networkControllers=v;var b=[c,d,f,o,s,u,l,h,g];if(m=a.audioTrackController){var y=new m(X(n));n.audioTrackController=y,b.push(y)}if(m=a.subtitleTrackController){var w=new m(X(n));n.subtitleTrackController=w,v.push(w)}if(m=a.emeController){var T=new m(X(n));n.emeController=T,b.push(T)}return(m=a.subtitleStreamController)&&v.push(new m(X(n),g)),(m=a.timelineController)&&b.push(new m(X(n))),n.coreComponents=b,n}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.isSupported=function(){return function(){var t=u();if(!t)return!1;var e=self.SourceBuffer||self.WebKitSourceBuffer,r=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!r&&!!n}()},J(e,null,[{key:"version",get:function(){return"0.14.16"}},{key:"Events",get:function(){return it.a}},{key:"ErrorTypes",get:function(){return rt.b}},{key:"ErrorDetails",get:function(){return rt.a}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:nr},set:function(t){e.defaultConfig=t}}]);var i=e.prototype;return i.destroy=function(){at.b.log("destroy"),this.trigger(it.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},i.attachMedia=function(t){at.b.log("attachMedia"),this.media=t,this.trigger(it.a.MEDIA_ATTACHING,{media:t})},i.detachMedia=function(){at.b.log("detachMedia"),this.trigger(it.a.MEDIA_DETACHING),this.media=null},i.loadSource=function(t){t=et.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),at.b.log("loadSource:"+t),this.url=t,this.trigger(it.a.MANIFEST_LOADING,{url:t})},i.startLoad=function(t){void 0===t&&(t=-1),at.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},i.stopLoad=function(){at.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},i.swapAudioCodec=function(){at.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},i.recoverMediaError=function(){at.b.log("recoverMediaError");var t=this.media;this.detachMedia(),t&&this.attachMedia(t)},i.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},J(e,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){at.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){at.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){at.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){at.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){at.b.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){at.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"bandwidthEstimate",get:function(){var t=this.abrController._bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,r=t?t.length:0,n=0;n<r;n++)if((t[n].realBitrate?Math.max(t[n].realBitrate,t[n].bitrate):t[n].bitrate)>e)return n;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),e}(Bt);ir.defaultConfig=void 0}])["default"]},"object"==typeof e&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof e?e.Hls=n():r.Hls=n())},175:function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return o});var n=r(161),i=r(167),a=r.n(i),o=function(t){function e(){return t.apply(this,arguments)||this}var r,n;return n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,e.prototype.getName=function(){return{name:"hlsjs"}},e.getName=function(){return{name:"hlsjs"}},e}(Object(n.a)(a.a))},77:function(t,e,r){"use strict";function n(t){var e=[],r=(t=Object(a.i)(t)).split("\r\n\r\n");1===r.length&&(r=t.split("\n\n"));for(var n=0;n<r.length;n++)if("WEBVTT"!==r[n]){var o=i(r[n]);o.text&&e.push(o)}return e}function i(t){var e={},r=t.split("\r\n");1===r.length&&(r=t.split("\n"));var n=1;if(r[0].indexOf(" --> ")>0&&(n=0),r.length>n+1&&r[n+1]){var i=r[n],o=i.indexOf(" --> ");o>0&&(e.begin=Object(a.g)(i.substr(0,o)),e.end=Object(a.g)(i.substr(o+5)),e.text=r.slice(n+1).join("\r\n"))}return e}r.d(e,"a",function(){return n});var a=r(2)},78:function(t,e){"use strict";function r(t){return"string"==typeof t&&(!!{start:!0,middle:!0,end:!0,left:!0,right:!0}[t.toLowerCase()]&&t.toLowerCase())}var n=window.VTTCue;n||((n=function(t,e,n){var i=this;i.hasBeenReset=!1;var a="",o=!1,s=t,u=e,l=n,c=null,d="",f=!0,h="auto",p="start",g="auto",v=100,m="middle";Object.defineProperty(i,"id",{enumerable:!0,get:function(){return a},set:function(t){a=""+t}}),Object.defineProperty(i,"pauseOnExit",{enumerable:!0,get:function(){return o},set:function(t){o=!!t}}),Object.defineProperty(i,"startTime",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");s=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"endTime",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"text",{enumerable:!0,get:function(){return l},set:function(t){l=""+t,this.hasBeenReset=!0}}),Object.defineProperty(i,"region",{enumerable:!0,get:function(){return c},set:function(t){c=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"vertical",{enumerable:!0,get:function(){return d},set:function(t){var e=function(t){return"string"==typeof t&&!!{"":!0,lr:!0,rl:!0}[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}}),Object.defineProperty(i,"snapToLines",{enumerable:!0,get:function(){return f},set:function(t){f=!!t,this.hasBeenReset=!0}}),Object.defineProperty(i,"line",{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");h=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"lineAlign",{enumerable:!0,get:function(){return p},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");p=e,this.hasBeenReset=!0}}),Object.defineProperty(i,"position",{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");g=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"size",{enumerable:!0,get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");v=t,this.hasBeenReset=!0}}),Object.defineProperty(i,"align",{enumerable:!0,get:function(){return m},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}}),i.displayState=void 0}).prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)}),e.a=n},79:function(t,e,r){"use strict";function n(t){return new Promise(function(e,r){if(t.paused)return r(i("NotAllowedError",0,"play() failed."));var n=function(){t.removeEventListener("play",a),t.removeEventListener("playing",o),t.removeEventListener("pause",o),t.removeEventListener("abort",o),t.removeEventListener("error",o)},a=function(){t.addEventListener("playing",o),t.addEventListener("abort",o),t.addEventListener("error",o),t.addEventListener("pause",o)},o=function(t){if(n(),"playing"!==t.type){var a='The play() request was interrupted by a "'+t.type+'" event.';return"error"===t.type?r(i("NotSupportedError",9,a)):r(i("AbortError",20,a))}e()};t.addEventListener("play",a)})}function i(t,e,r){var n=new Error(r);return n.name=t,n.code=e,n}r.d(e,"a",function(){return n})},82:function(t,e,r){"use strict";function n(t,e){var r=t.kind||"cc";return t["default"]||t.defaulttrack?"default":t._id||t.file||r+e}function i(t,e){var r=t.label||t.name||t.language;return r||(r="Unknown CC",(e+=1)>1&&(r+=" ["+e+"]")),{label:r,unknownCount:e}}r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i})},83:function(t,e,r){"use strict";function n(t){throw new h.t(null,t)}function i(t,e,i){t.xhr=Object(l.b)(t.file,function(a){!function(t,e,i,a){var s,l,p=t.responseXML?t.responseXML.firstChild:null;if(p)for("xml"===Object(c.b)(p)&&(p=p.nextSibling);p&&p.nodeType===p.COMMENT_NODE;)p=p.nextSibling;try{if(p&&"tt"===Object(c.b)(p)){if(!t.responseXML)throw new Error("Empty XML response");s=function(t){t||n(306007);var e=[],r=t.getElementsByTagName("p"),i=30,a=t.getElementsByTagName("tt");if(a&&a[0]){var o=parseFloat(a[0].getAttribute("ttp:frameRate")||"");isNaN(o)||(i=o)}r||n(306005),r.length||(r=t.getElementsByTagName("tt:p")).length||(r=t.getElementsByTagName("tts:p"));for(var s=0;s<r.length;s++){for(var u=r[s],l=u.getElementsByTagName("br"),c=0;c<l.length;c++){var d=l[c];d&&d.parentNode&&d.parentNode.replaceChild(t.createTextNode("\r\n"),d)}var h=u.innerHTML||u.textContent||u.text||"",p=Object(f.i)(h).replace(/>\s+</g,"><").replace(/(<\/?)tts?:/g,"$1").replace(/<br.*?\/>/g,"\r\n");if(p){var g=u.getAttribute("begin")||"",v=u.getAttribute("dur")||"",m=u.getAttribute("end")||"",b={begin:Object(f.g)(g,i),text:p};m?b.end=Object(f.g)(m,i):v&&(b.end=(b.begin||0)+Object(f.g)(v,i)),e.push(b)}}return e.length||n(306005),e}(t.responseXML),l=o(s),delete e.xhr,i(l)}else{var g=t.responseText;g.indexOf("WEBVTT")>=0?r.e(19).then(function(){return r(163)["default"]}.bind(null,r))["catch"](Object(u.c)(301131)).then(function(t){var r=new t(window);l=[],r.oncue=function(t){l.push(t)},r.onflush=function(){delete e.xhr,i(l)},r.parse(g)})["catch"](function(t){delete e.xhr,a(Object(h.C)(null,h.c,t))}):(s=Object(d.a)(g),l=o(s),delete e.xhr,i(l))}}catch(t){delete e.xhr,a(Object(h.C)(null,h.c,t))}}(a,t,e,i)},function(t,e,r,n){i(Object(h.B)(n,h.c))})}function a(t){t&&t.forEach(function(t){var e=t.xhr;e&&(e.onload=null,e.onreadystatechange=null,e.onerror=null,"abort"in e&&e.abort()),delete t.xhr})}function o(t){return t.map(function(t){return new s.a(t.begin,t.end,t.text)})}var s=r(78),u=r(6),l=r(27),c=r(5),d=r(77),f=r(2),h=r(1);r.d(e,"b",function(){return i}),r.d(e,"a",function(){return a})},84:function(t,e,r){"use strict";function n(t,e){return t!==1/0&&Math.abs(t)>=Math.max(a(e),0)}function i(t,e){var r="VOD";return t===1/0?r="LIVE":t<0&&(r=n(t,a(e))?"DVR":"LIVE"),r}function a(t){return void 0===t?120:Math.max(t,0)}r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i})},96:function(t,e,r){"use strict";function n(t,e){for(var r,n,i,a=t.length,o="",s=e||0;s<a;)if(0!==(r=t[s++])&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(r);break;case 12:case 13:n=t[s++],o+=String.fromCharCode((31&r)<<6|63&n);break;case 14:n=t[s++],i=t[s++],o+=String.fromCharCode((15&r)<<12|(63&n)<<6|(63&i)<<0)}return o}function i(t){var e=function(t){for(var e="0x",r=0;r<t.length;r++)t[r]<16&&(e+="0"),e+=t[r].toString(16);return parseInt(e)}(t);return 127&e|(32512&e)>>1|(8323072&e)>>2|(2130706432&e)>>3}function a(t){return void 0===t&&(t=[]),t.reduce(function(t,e){if(!("value"in e)&&"data"in e&&e.data instanceof ArrayBuffer){var r=new Uint8Array(e.data),a=r.length;e={value:{key:"",data:""}};for(var o=10;o<14&&o<r.length&&0!==r[o];)e.value.key+=String.fromCharCode(r[o]),o++;var s=19,u=r[s];3!==u&&0!==u||(u=r[++s],a--);var l=0;if(1!==u&&2!==u)for(var c=s+1;c<a;c++)if(0===r[c]){l=c-s;break}if(l>0){var d=n(r.subarray(s,s+=l),0);if("PRIV"===e.value.key){if("com.apple.streaming.transportStreamTimestamp"===d){var f=1&i(r.subarray(s,s+=4)),h=i(r.subarray(s,s+=4))+(f?4294967296:0);e.value.data=h}else e.value.data=n(r,s+1);e.value.info=d}else e.value.info=d,e.value.data=n(r,s+1)}else{var p=r[s];e.value.data=1===p||2===p?function(t,e){for(var r=t.length-1,n="",i=e||0;i<r;)254===t[i]&&255===t[i+1]||(n+=String.fromCharCode((t[i]<<8)+t[i+1])),i+=2;return n}(r,s+1):n(r,s+1)}}if(m.hasOwnProperty(e.value.key)&&(t[m[e.value.key]]=e.value.data),e.value.info){var g=t[e.value.key];g!==Object(g)&&(g={},t[e.value.key]=g),g[e.value.info]=e.value.data}else t[e.value.key]=e.value.data;return t},{})}function o(){var t=this.video.textTracks,e=Object(w.k)(t,function(t){return(t.inuse||!t._id)&&f(t.kind)});if(this._textTracks&&!s.call(this,e)){for(var r=-1,n=0;n<this._textTracks.length;n++)if("showing"===this._textTracks[n].mode){r=n;break}r!==this._currentTextTrackIndex&&this.setSubtitlesTrack(r+1)}else this.setTextTracks(t)}function s(t){var e=this._textTracks,r=this._tracksById;if(t.length>e.length)return!0;for(var n=0;n<t.length;n++){var i=t[n];if(!i._id||!r[i._id])return!0}return!1}function u(t){var e=t.track;e&&e._id||this.setTextTracks(this.video.textTracks)}function l(t){var e=t.target,r=e.activeCues,n=e.cues,i=e._id,a=this._cues,o=this._activeCues;if(n&&n.length){var s=a[i];a[i]=Array.prototype.slice.call(n),this.parseNativeID3Cues(n,s)}else delete a[i];if(r&&r.length){var u=o[i],l=o[i]=Array.prototype.slice.call(r);this.triggerActiveCues(l,u)}else delete o[i]}function c(t,e,r){if(b.Browser.ie){var n=r;(t||"metadata"===e.kind)&&(n=new window.TextTrackCue(r.startTime,r.endTime,r.text),r.value&&(n.value=r.value)),function(t,e){var r=[],n=t.mode;t.mode="hidden";for(var i=t.cues,a=i.length-1;a>=0&&i[a].startTime>e.startTime;a--)r.unshift(i[a]),t.removeCue(i[a]);try{t.addCue(e),r.forEach(function(e){return t.addCue(e)})}catch(t){console.error(t)}t.mode=n}(e,n)}else try{e.addCue(r)}catch(t){console.error(t)}}function d(t,e,r){e&&e.length&&Object(w.i)(e,function(e){var n=e._id||"";if(r&&(e._id=void 0),!b.Browser.ie&&!b.Browser.safari||!t||!/^(native|subtitle|cc)/.test(n)){b.Browser.ie&&"disabled"===e.mode||(e.mode="disabled",e.mode="hidden");for(var i=e.cues.length;i--;)e.removeCue(e.cues[i]);e.embedded||(e.mode="disabled"),e.inuse=!1}})}function f(t){return"subtitles"===t||"captions"===t}function h(t){var e=a(t);return{metadataType:"id3",metadataTime:t[0].startTime,metadata:e}}function p(t,e){return t.startTime===e.startTime&&t.endTime===e.endTime&&t.text===e.text&&t.data===e.data&&JSON.stringify(t.value)===JSON.stringify(e.value)}var g=r(83),v=r(82),m={TIT2:"title",TT2:"title",WXXX:"url",TPE1:"artist",TP1:"artist",TALB:"album",TAL:"album"},b=r(4),y=r(3),w=r(0),T={_itemTracks:null,_textTracks:null,_currentTextTrackIndex:-1,_tracksById:null,_cuesByTrackId:null,_cachedVTTCues:null,_metaCuesByTextTime:null,_unknownCount:0,_activeCues:null,_cues:null,textTrackChangeHandler:null,addTrackHandler:null,cueChangeHandler:null,renderNatively:!1,_initTextTracks:function(){this._textTracks=[],this._tracksById={},this._metaCuesByTextTime={},this._cuesByTrackId={},this._cachedVTTCues={},this._cues={},this._activeCues={},this._unknownCount=0},addTracksListener:function(t,e,r){t&&(this.removeTracksListener(t,e,r),this.instreamMode||(t.addEventListener?t.addEventListener(e,r):t["on"+e]=r))},removeTracksListener:function(t,e,r){t&&(t.removeEventListener&&r?t.removeEventListener(e,r):t["on"+e]=null)},clearTracks:function(){var t=this;Object(g.a)(this._itemTracks);var e=this._tracksById;if(e&&Object.keys(e).forEach(function(r){if(0===r.indexOf("nativemetadata")){var n=e[r];t.cueChangeHandler&&n.removeEventListener("cuechange",t.cueChangeHandler),d(t.renderNatively,[n],!0)}}),this._itemTracks=null,this._textTracks=null,this._tracksById=null,this._cuesByTrackId=null,this._metaCuesByTextTime=null,this._unknownCount=0,this._currentTextTrackIndex=-1,this._activeCues={},this._cues={},this.renderNatively){var r=this.video.textTracks;this.textTrackChangeHandler&&this.removeTracksListener(r,"change",this.textTrackChangeHandler),d(this.renderNatively,r,!0)}},clearMetaCues:function(){var t=this,e=this._tracksById,r=this._cachedVTTCues;e&&r&&Object.keys(e).forEach(function(n){if(0===n.indexOf("nativemetadata")){var i=e[n];d(t.renderNatively,[i],!1),i.mode="hidden",i.inuse=!0,i._id&&(r[i._id]={})}})},clearCueData:function(t){var e=this._cachedVTTCues;e&&e[t]&&(e[t]={},this._tracksById&&(this._tracksById[t].data=[]))},disableTextTrack:function(){var t=this.getCurrentTextTrack();if(t){t.mode="disabled";var e=t._id;(e&&0===e.indexOf("nativecaptions")||this.renderNatively&&b.OS.iOS)&&(t.mode="hidden")}},enableTextTrack:function(){var t=this.getCurrentTextTrack();t&&(t.mode="showing")},getCurrentTextTrack:function(){if(this._textTracks)return this._textTracks[this._currentTextTrackIndex]},getSubtitlesTrack:function(){return this._currentTextTrackIndex},addTextTracks:function(t){var e=this,r=[];return t?(this._textTracks||this._initTextTracks(),t.forEach(function(t){if(!t.kind||f(t.kind)){var n=e._createTrack(t);e._addTrackToList(n),r.push(n),t.file&&(t.data=[],Object(g.b)(t,function(t){n.sideloaded=!0,e.addVTTCuesToTrack(n,t)},function(t){e.trigger(y.wb,t)}))}}),this._textTracks&&this._textTracks.length&&this.trigger(y.sb,{tracks:this._textTracks}),r):r},setTextTracks:function(t){var e=this;if(this._currentTextTrackIndex=-1,t){if(this._textTracks){var r=this._tracksById;this._activeCues={},this._cues={},this._unknownCount=0,this._textTracks=this._textTracks.filter(function(t){var n=t._id;return e.renderNatively&&n&&0===n.indexOf("nativecaptions")?(delete r[n],!1):(t.name&&0===t.name.indexOf("Unknown")&&e._unknownCount++,0===n.indexOf("nativemetadata")&&"com.apple.streaming"===t.inBandMetadataTrackDispatchType&&delete r[n],!0)},this)}else this._initTextTracks();if(t.length)for(var n=0,i=t.length,a=this._tracksById,o=this._cuesByTrackId;n<i;n++){var s=t[n],u=s._id||"";if(!u){if("captions"===s.kind||"metadata"===s.kind){if(u=s._id="native"+s.kind+n,!s.label&&"captions"===s.kind){var d=Object(v.b)(s,this._unknownCount);s.name=d.label,this._unknownCount=d.unknownCount}}else u=s._id=Object(v.a)(s,this._textTracks?this._textTracks.length:0);if(a[u])continue;s.inuse=!0}if(s.inuse&&!a[u])if("metadata"===s.kind){s.mode="hidden";var h=this.cueChangeHandler=this.cueChangeHandler||l.bind(this);s.removeEventListener("cuechange",h),s.addEventListener("cuechange",h),a[u]=s}else if(f(s.kind)){var p=s.mode,g=void 0;if(s.mode="hidden",!s.cues.length&&s.embedded)continue;if("disabled"===p&&0===u.indexOf("nativecaptions")||(s.mode=p),o[u]&&!o[u].loaded){for(var m=o[u].cues;g=m.shift();)c(this.renderNatively,s,g);s.mode=p,o[u].loaded=!0}this._addTrackToList(s)}}this.renderNatively&&this.addTrackListeners(t),this._textTracks&&this._textTracks.length&&this.trigger(y.sb,{tracks:this._textTracks})}},addTrackListeners:function(t){var e=this.textTrackChangeHandler=this.textTrackChangeHandler||o.bind(this);this.removeTracksListener(t,"change",e),this.addTracksListener(t,"change",e),(b.Browser.edge||b.Browser.firefox)&&(e=this.addTrackHandler=this.addTrackHandler||u.bind(this),this.removeTracksListener(t,"addtrack",e),this.addTracksListener(t,"addtrack",e))},setupSideloadedTracks:function(t){if(this.renderNatively){var e=t===this._itemTracks;e||Object(g.a)(this._itemTracks),this._itemTracks=t,t&&(e||(this.disableTextTrack(),this._clearSideloadedTextTracks(),this.addTextTracks(t)))}},setSubtitlesTrack:function(t){if(this.renderNatively){if(this._textTracks&&(0===t&&this._textTracks.forEach(function(t){t.mode=t.embedded?"hidden":"disabled"}),this._currentTextTrackIndex!==t-1)){this.disableTextTrack(),this._currentTextTrackIndex=t-1;var e=this.getCurrentTextTrack();e&&(e.mode="showing"),this.trigger(y.tb,{currentTrack:this._currentTextTrackIndex+1,tracks:this._textTracks})}}else this.setCurrentSubtitleTrack&&this.setCurrentSubtitleTrack(t-1)},addCuesToTrack:function(t){var e=this._tracksById[t.name];if(e&&this._metaCuesByTextTime){e.source=t.source;for(var r=t.captions||[],n=[],i=!1,a=0;a<r.length;a++){var o=r[a],s=t.name+"_"+o.begin+"_"+o.end;if(!this._metaCuesByTextTime[s]){var u=this.createCue(o.begin,o.end,o.text);this._metaCuesByTextTime[s]=u,n.push(u),i=!0}}i&&n.sort(function(t,e){return t.start-e.start}),e.data=e.data||[],Array.prototype.push.apply(e.data,n)}},addCaptionsCue:function(t){if(t.text&&t.begin&&t.end&&this._metaCuesByTextTime){var e,r=t.trackid.toString(),n=this._tracksById&&this._tracksById[r];if(n||(n={kind:"captions",_id:r,data:[],"default":!1},this.addTextTracks([n]),this.trigger(y.sb,{tracks:this._textTracks})),t.useDTS&&(n.source||(n.source=t.source||"mpegts")),e=t.begin+"_"+t.text,!this._metaCuesByTextTime[e]){var i=this.createCue(t.begin,t.end,t.text);this._metaCuesByTextTime[e]=i,n.data=n.data||[],n.data.push(i)}}},createCue:function(t,e,r){return new(window.VTTCue||window.TextTrackCue)(t,Math.max(e||0,t+.25),r)},addVTTCue:function(t,e){this._tracksById||this._initTextTracks();var r=t.track?t.track:"native"+t.type,n=this._tracksById[r],i="captions"===t.type?"Unknown CC":"ID3 Metadata",a=t.cue;if(!n){var o={kind:t.type,_id:r,label:i,"default":!1};this.renderNatively||"metadata"===o.kind?((n=this._createTrack(o)).embedded=!0,this.setTextTracks(this.video.textTracks)):n=this.addTextTracks([o])[0]}if(this._cacheVTTCue(n,a,e)){var s=this.renderNatively||"metadata"===n.kind;return s?c(s,n,a):n.data.push(a),a}return null},addVTTCuesToTrack:function(t,e){if(this.renderNatively){var r,n=t._id,i=this._tracksById,a=this._cuesByTrackId,o=i[n];if(!o)return a||(a=this._cuesByTrackId={}),void(a[n]={cues:e,loaded:!1});if(!a[n]||!a[n].loaded)for(a[n]={cues:e,loaded:!0};r=e.shift();)c(this.renderNatively,o,r)}},parseNativeID3Cues:function(t,e){var r=t[t.length-1];if(!e||e.length!==t.length||!r._parsed&&!p(e[e.length-1],r)){for(var n=[],i=[],a=-1,o=-1,s=-1,u=0;u<t.length;u++){var l=t[u];if(!l._extended&&(l.data||l.value)){if(l.startTime!==o||null===l.endTime){s=o,o=l.startTime;var c=n[a];if(n[++a]=[],i[a]=[],c&&o-s>0)for(var d=0;d<c.length;d++){var f=c[d];f.endTime=o,f._extended=!0}}n[a].push(l),l._parsed||(i[a].push(l),l.endTime-o<.25&&(l.endTime=o+.25),l._parsed=!0)}}for(var g=0;g<i.length;g++)if(i[g].length){var v=h(i[g]);this.trigger(y.L,v)}}},triggerActiveCues:function(t,e){var r=this,n=t.filter(function(t){if(e&&e.some(function(e){return p(t,e)}))return!1;if(t.data)return!0;var n=t.text?function(t){var e;try{e=JSON.parse(t.text)}catch(t){return null}var r={metadataType:e.metadataType,metadataTime:t.startTime,metadata:e};return e.programDateTime&&(r.programDateTime=e.programDateTime),r}(t):null;if(n)"emsg"===n.metadataType&&(n.metadata=n.metadata||{},n.metadata.messageData=t.value),r.trigger(y.K,n);else if(t.value)return!0;return!1});if(n.length){var i=h(n);this.trigger(y.K,i)}},ensureMetaTracksActive:function(){for(var t=this.video.textTracks,e=t.length,r=0;r<e;r++){var n=t[r];"metadata"===n.kind&&"disabled"===n.mode&&(n.mode="hidden")}},_cacheVTTCue:function(t,e,r){var n=t.kind,i=t._id,a=this._cachedVTTCues;a[i]||(a[i]={});var o,s=a[i];switch(n){case"captions":case"subtitles":o=r||Math.floor(20*e.startTime);var u="_"+(e.line||"auto"),l=Math.floor(20*e.endTime),c=s[o+u]||s[o+1+u]||s[o-1+u];return!(c&&Math.abs(c-l)<=1||(s[o+u]=l,0));case"metadata":var d=e.data?new Uint8Array(e.data).join(""):e.text;return!s[o=r||e.startTime+d]&&(s[o]=e.endTime,!0);default:return!1}},_addTrackToList:function(t){this._textTracks.push(t),this._tracksById[t._id]=t},_createTrack:function(t){var e,r=Object(v.b)(t,this._unknownCount),n=r.label;if(this._unknownCount=r.unknownCount,this.renderNatively||"metadata"===t.kind){var i=this.video.textTracks;(e=Object(w.m)(i,{label:n}))||(e=this.video.addTextTrack(t.kind,n,t.language||"")),e["default"]=t["default"],e.mode="disabled",e.inuse=!0}else(e=t).data=e.data||[];return e._id||(e._id=Object(v.a)(t,this._textTracks?this._textTracks.length:0)),e},_clearSideloadedTextTracks:function(){if(this._textTracks){var t=this._textTracks.filter(function(t){return t.embedded||"subs"===t.groupid});this._initTextTracks();var e=this._tracksById;t.forEach(function(t){e[t._id]=t}),this._textTracks=t}}};e.a=T},97:function(t,e,r){"use strict";function n(t){return t&&t.length?t.end(t.length-1):0}r.d(e,"a",function(){return n})}}]),function(){var t={universalga:"ga",trackerName:"",label:"file",trackingobject:"_gaq",gtag:"gtag"},e=function(e,r){function n(){return window[d.universalga]?(o||(o={push:function(t){var e=window[d.universalga],r=d.trackerName?"".concat(d.trackerName,".send"):"send";t.splice(0,1,r,"event"),t[5]={nonInteraction:t[6]},t.length=6,e.apply(window,t)}}),o):"string"==typeof d.trackingobject?window[d.trackingobject]:d.trackingobject}function i(t,e){return t?e&&t[e]&&t[e].length?"file"===e?l.getAbsolutePath(t[e]):t[e]:t.file?t.file:t.sources?function(t){for(var e=[],r=t.length-1;r--;)t[r].file&&e.push(t[r].file);return e.sort(),l.getAbsolutePath(e[0])}(t.sources):"":""}function a(t,e){var r="",i="function"==typeof d.gtag?d.gtag:window[d.gtag];h||(i?(r="gtag",function(t,e,r,n,i){t("event",r,{event_category:e,event_label:n,event_action:r,non_interaction:i})}(i,"JW Player Video",t,s.label,e)):void 0!==n()._trackEvent?(r="sync",function(t,e,r,i){n()._trackEvent(t,e,r,void 0,i)}("JW Player Video",t,s.label,e)):void 0!==n().push&&(r="async",function(t,e,r,i){n().push(["_trackEvent",t,e,r,void 0,i])}("JW Player Video",t,s.label,e)),f({type:r,category:"JW Player Video",action:t,label:s.label,nonInteraction:e}))}var o,s,u,l=e.utils,c=e._,d=c.extend({},t,r),f=r.debug&&c.isFunction(r.onGaTrack)?r.onGaTrack:l.noop,h=!1;if(("string"!=typeof d.gtag||void 0===window[d.gtag])&&"function"!=typeof d.gtag){var p=n();if(!p||"string"==typeof p)return void l.log("Could not find Google Analytics Interface.",d)}e.on("playlistItem",function(t){var e=t.item;(s=c.extend({played:!1},e)).label=i(e,d.label)}),e.on("play",function(t){s.played?"paused"===u&&a("Resume","interaction"!==t.playReason):(s.played=!0,a("Play","interaction"!==t.playReason)),u="playing"}),e.on("buffer",function(){a("Buffer",!0),u="buffering"}),e.on("pause",function(t){a("Pause","interaction"!==t.pauseReason),u="paused"}),e.on("seek",function(){a("Seek",!0)}),e.on("complete",function(){a("Complete",!0)}),e.on("cast",function(t){h=!!t.active})};e.version="2.1.5",(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)("gapro","8.0.0",e)}(),jwplayer().registerPlugin("loop","6.0",function(t){t.on("ready",function(){this.getContainer().querySelector("video").setAttribute("loop","loop")})}),jwplayer.key="u9SAGkpLBJO0R77vVzHPq3/gDtI6rRNcOsu4ZGYCi20=";