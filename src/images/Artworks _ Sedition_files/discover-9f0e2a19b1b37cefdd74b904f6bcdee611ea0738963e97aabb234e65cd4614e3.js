(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.GiftPopup=function(o){function i(){return this.clickCancel=t(this.clickCancel,this),this.clickBuy=t(this.clickBuy,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.prototype.template=Handlebars.compile("<div class='gift-widget-popup'> <div class='pos-rel'> <h1 class='headline headline--small mb-mini' style='font-size: 20px'> <span class='icon-gift-outline'></span> {{_ 'Gift For'}} </h1> <input autocomplete='off' class='js-gift-widget-popup-username mb-mini' placeholder=\"{{_ 'Full name or email'}}\" type='text'> <p class='muted mb-2'> {{_ 'Start typing a name to look up someone who already has an account or simply type recipient\\'s email address'}} </p> <div class='key-value__value mb-mini'> {{_ 'In your cart you can'}} </div> <ul class='m-0 mb-1'> <li style='margin-bottom: 4px'> <span class='icon-message mr-mini'></span> {{_ 'Add a message'}} </li> <li class='feature-date'> <span class='icon-calendar mr-mini'></span> {{_ 'Choose a delivery date'}} </li> </ul> <div class='text-center mb-mini'> <a class='btn btn--border-cta btn-buy-gift d-block mb-1'> {{_ 'Gift'}} </a> <a class='btn-cancel link-border'> {{_ 'Cancel'}} </a> </div> </div> </div> "),i.prototype.options={overlay:!1,url:""},i.prototype.events={"click .btn-buy-gift":"clickBuy","click .btn-cancel":"clickCancel"},i.prototype.initialize=function(t){var e;if(null==t&&(t={}),this.options=t,this.userLoggedIn=!!sedition.currentUser.id,this.on("ready",(e=this,function(){if(e.$username=e.$(".js-gift-widget-popup-username"),e.userLoggedIn)return e.$username.userTypeahead(window.Routes.suggested_for_gift_collectors_path())})),this.options.appendTo)return this.appendTo(this.options.appendTo)},i.prototype.clickBuy=function(t){return t&&t.preventDefault(),this.buy()},i.prototype.clickCancel=function(t){return t&&t.preventDefault(),this.hide()},i.prototype.show=function(){return this.userLoggedIn?this.$username.attr("placeholder",__("Full name or email")):this.$username.attr("placeholder",__("Enter friend's email")),this.options.overlay&&(this.$dim=$('<div class="dim" />').css({opacity:0,display:"block"}).appendTo($("body")),this.$dim.transition({opacity:1},400)),this.$el.show().transition({opacity:1},300,(t=this,function(){return t.$username.focus(),$(document).on("keyup.gift-popup.sedition",function(e){if(27===e.keyCode)return t.hide()}),$(document).on("click.gift-popup.sedition",function(e){if(0===$(e.target).closest(".gift-widget-popup").length)return t.hide()})}));var t},i.prototype.hide=function(){var t;if($(document).off("click.gift-popup.sedition"),$(document).off("keyup.gift-popup.sedition"),this.$el.transition({opacity:0},300,(t=this,function(){return t.$el.hide()})),this.$dim&&this.$dim.length)return this.$dim.transition({opacity:0},300,function(t){return function(){return t.$dim.remove()}}(this))},i.prototype.buy=function(t){var e,o,i,r;if(null==t&&(t={}),o=$.fn.userTypeaheadCache,i=this.$username.data("recipient_id"),r=this.$username.val(),t.lang=locale,t.authenticity_token=$("meta[name=csrf-token]").attr("content"),i)t.recipient_id=i;else if(/^\S+@\S+\.\S+$/.test(r))t.recipient_email=r;else{if("object"!=typeof o[r.toLowerCase()]||!o[r.toLowerCase()].length||o[r.toLowerCase()][0].label.toLowerCase()!==r.toLowerCase())return this.$username.addClass("state-not-valid"),!1;t.recipient_id=o[r.toLowerCase()][0].recipient_id}return e=$("<form />").attr({method:"post",action:this.options.url}),$.each(t,function(t,o){return e.append($('<input type="hidden" />').attr({name:t,value:o}))}),e.appendTo("body").submit()},i}(sedition.View)}).call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.ArtistExhibitionsSlate=function(o){function i(){return this.toggle=t(this.toggle,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.DEFAULT_SELECTOR=".exhibitions-slate",i.prototype.events={"click .btn-show-more":"toggle"},i.prototype.toggle=function(t){return t&&t.preventDefault(),this.$el.is(".open")?(this.$el.removeClass("open"),$(t.currentTarget).removeClass("icon-arrow-up").addClass("icon-arrow-down")):(this.$el.addClass("open"),$(t.currentTarget).removeClass("icon-arrow-down").addClass("icon-arrow-up"))},i.prototype.renderedAt=function(t){return this.setElement(t)},i}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.ArtistFollow=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=Handlebars.compile("<a class='card-action action-icon js-tooltip d-none d-sm-block' href='#'> <div class='action-icon__glymph icon-eye'></div> </a> "),o.prototype.events={click:"onClick"},o.prototype.states={active:"is-active",inactive:"is-inactive",error:"is-error"},o.prototype.titles={active:__("Stop Following"),inactive:__("Follow")},o.prototype.initialize=function(t){var e;return this.options=t,this.model=new sedition.Models.ArtistFollow({user_id:this.options.artistModel.get("id")}),sedition.currentUser.id&&(e=sedition.currentUser.followed_users[this.model.get("user_id")])&&this.model.set("id",e),this.model.on("change",this.modelChanged,this)},o.prototype.appendToElement=function(t){return this.$appendToEl=t,this},o.prototype.render=function(){var t;return t=$(this.template(this.model.toJSON())),this.$appendToEl.append(t),this.setElement(t),this.setState(this.model.get("id")?this.states.active:this.states.inactive)},o.prototype.setState=function(t){var e,o;return e=[this.states.active,this.states.inactive,this.states.error].join(" "),o="is-active"===t?this.titles.active:this.titles.inactive,this.$el.removeClass(e).addClass(t).attr("data-title",o),document.dispatchEvent(new Event("globalTooltipsChange"))},o.prototype.onClick=function(){return sedition.currentUser.id?this.$el.hasClass(this.states.inactive)?this.follow():this.$el.hasClass(this.states.active)&&this.unfollow():window.location=window.Routes.signup_path({sticky_intent:"follow_user",sticky_intent_id:this.model.get("user_id")}),!1},o.prototype.follow=function(){return this.model.save(),this.setState(this.states.active)},o.prototype.unfollow=function(){return this.model.destroy(),this.model.set("id",null),this.setState(this.states.inactive)},o.prototype.modelChanged=function(){var t,e;if(e=this.model.get("user_id"),t=1,this.model.get("id")?sedition.currentUser.followed_users[e]=this.model.get("id"):(delete sedition.currentUser.followed_users[e],t=-1),this.options.artistModel.collection)return this.options.artistModel.collection.trigger("followerCountChanged",_.size(sedition.currentUser.followed_users)),this.options.artistModel.set("followers",this.options.artistModel.get("followers")+t)},o}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.Artist=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=Handlebars.compile("<figure class='user-component col-6 col-sm-4 col-lg-3 mb-2 js-user-component' data-model-artist-id='{{artist_id}}' data-model-id='{{id}}' data-type='{{type}}'> <a class='user-component__avatar js-user-component__avatar' href='{{url}}'> <img alt='{{name}}' class='avatar lazy-image js-lazy-image' src='{{avatar_url}}'> <dl class='user-stats'> <div class='user-stats__column user-stats__stat--artworks'> <div class='user-stats__stat'> <dt> {{_ 'Artworks'}} </dt> <dd> {{artwork_count}} </dd> </div> </div> <div class='user-stats__column user-stats__stat--collectors'> <div class='user-stats__stat'> <dt> {{_ 'Collectors'}} </dt> <dd> {{collectors}} </dd> </div> </div> <div class='user-stats__column user-stats__stat--follows'> <div class='user-stats__stat'> <dt> {{_ 'Following'}} </dt> <dd> {{following}} </dd> </div> </div> <div class='user-stats__column user-stats__stat--followers'> <div class='user-stats__stat js-user-stats__stat--followers'> <dt> {{_ 'Followers'}} </dt> <dd> {{followers}} </dd> </div> </div> <div class='user-stats__column user-stats__stat--collected'> <div class='user-stats__stat'> <dt> {{_ 'Collected'}} </dt> <dd> {{collected}} </dd> </div> </div> </dl> </a> <figcaption class='user-component__name'> <a class='artist-name' href='{{url}}'> {{screen_name}} </a> </figcaption> </figure> "),o.prototype.tagName="figure",o.prototype.initialize=function(t){if(this.options=t,this.model)return this.model.on("change:followers",this.modelChanged,this)},o.prototype.modelChanged=function(){return this.$(".js-user-stats__stat--followers dd").html(this.model.get("followers"))},o.prototype.renderFollowWidget=function(){return this.followView=new sedition.Views.ArtistFollow({artistModel:this.model}),this.followView.appendToElement(this.$el.find(".js-user-component__avatar")).render()},o.prototype.renderedAt=function(t){return this.setElement(t),this.renderFollowWidget()},o.prototype.render=function(){return this.$el.html(this.renderWithoutRoot(this.model.toJSON())),sedition.lazyLoadImages(this.$el),this.renderFollowWidget(),this},o}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.ArtistsSlate=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.itemsPerPage=4,o.prototype.render=function(t){var e,o,i;return null==t&&(t=this.collection),i=this,this.rendering=!0,o=this.$(".js-users-frame"),e=$(""),this.renderNavigation(),t.each(function(t){var o;return o=new sedition.Views.Artist({model:t}),e=e.add($(o.render().$el))}),o.transition({opacity:0},300,function(){return o.html(e).transition({opacity:1},300,function(){return i.rendering=!1})})},o.prototype.renderedAt=function(t){var e;return this.setElement(t),this.$el.find(".js-user-component").each(function(){var t,e;return t=$(this),e=new sedition.Models.Artist({id:t.data("model-id"),artist_id:t.data("model-artist-id")}),new sedition.Views.Artist({model:e}).renderedAt(t)}),this.collection&&(this.$el.data("order-key")&&this.$el.data("order")&&this.collection.setOrder(this.$el.data("order-key"),this.$el.data("order")),this.collection&&void 0!==this.$el.data("filter-key")&&void 0!==this.$el.data("filter-value")&&this.collection.setFilter(this.$el.data("filter-key"),this.$el.data("filter-value")),this.collection.itemsPerPage=this.itemsPerPage),(e=this.$(".js-collection-count")).length>0&&this.collection.on("followerCountChanged",function(t){return e.html(t)}),this.enableKeyboardNavigation()},o}(sedition.SlateView)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.ArtworkGroupsSlate=function(o){function i(){return this.onGiftCollectionClick=t(this.onGiftCollectionClick,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.DEFAULT_SELECTOR=".artwork-groups-slate .artwork-group",i.prototype.page=0,i.prototype.itemsPerPage=4,i.prototype.events={"click .js-btn-gift":"onGiftCollectionClick"},i.prototype.initialize=function(t){return this.options=t,this.events=_.defaults(this.events,sedition.SlateView.prototype.events),this.on("ready",this.setup,this)},i.prototype.setup=function(){return this.model=new sedition.Models.ArtworkGroup({id:this.$el.data("model-id")}),this.$artworks=this.$(".artwork"),this.renderNavigation()},i.prototype.getTotalPages=function(){return Math.ceil(this.$artworks.length/this.itemsPerPage)},i.prototype.renderPage=function(t){return this.page=t,this.renderNavigation(),$.when(this.$artworks.transition({opacity:0},500)).then((e=this,function(){return e.$artworks.hide().slice(e.page*e.itemsPerPage,(e.page+1)*e.itemsPerPage).show().transition({opacity:1},500)}));var e},i.prototype.onGiftCollectionClick=function(t){return t&&t.preventDefault(),null==this.giftPopupView&&(this.giftPopupView=new sedition.Views.ArtworkSlateGiftPopup({model:this.model,overlay:!0,appendTo:$("body")})),this.giftPopupView.show()},i}(sedition.SlateView)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.ArtworkDetailView=function(o){function i(){return this.onGiftButtonClick=t(this.onGiftButtonClick,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.prototype.className="artwork-detail",i.prototype.imageLoaded=!1,i.prototype.events={"click .js-btn-gift":"onGiftButtonClick"},i.prototype.onGiftButtonClick=function(t){return t&&t.preventDefault(),null==this.giftPopupView&&(this.giftPopupView=new sedition.Views.ArtworkGiftPopup({model:this.model,appendTo:$("body"),overlay:!0})),this.giftPopupView.show()},i.prototype.prerendered=function(){var t,e;return this,this.wishView=new sedition.Views.ArtworkWish({artwork_id:this.model.get("id")}),this.wishView.setElement(this.$(".js-artwork-wish")).setInitialState(),$(document).on("countdownBannerComplete",function(){return $(".js-countdown-banner").hide()}),$(".btn-follow-private-view").length&&(t=function(){return $(".has-private-view-gateway").removeClass("has-private-view-gateway"),$(".private-view-gateway").transition({top:"-500px"}),$(".private-view-gateway-outer").transition({opacity:0,complete:function(){return $(".private-view-gateway-outer").remove()}}),$(document).off("countdownBannerComplete")},$(".private-view-gateway-outer").height($(document).height()),$(".btn-follow-private-view").on("click",(e=this,function(o){return o.preventDefault(),sedition.currentUser.id?($(".js-profile-header .js-follow").click(),t()):window.location=window.Routes.signup_path({sticky_intent:"unlock_private_view",sticky_intent_id:e.model.get("short_name")})})),$(document).on("countdownBannerComplete",t)),sedition.user.taste.trackArtwork(this.model.get("id")),this},i}(sedition.BackboneView)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.ArtworkGroupDetailView=function(o){function i(){return this.onGiftButtonClick=t(this.onGiftButtonClick,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.prototype.className="artwork-group-detail",i.prototype.events={"click .js-btn-gift":"onGiftButtonClick"},i.prototype.onGiftButtonClick=function(t){return t&&t.preventDefault(),null==this.giftPopupView&&(this.giftPopupView=new sedition.Views.ArtworkGiftPopup({model:this.model,appendTo:this.$(".js-gift-widget")})),this.giftPopupView.show()},i.prototype.prerendered=function(){var t,e;return $(".btn-follow-private-view").length>0&&(t=function(){return $(".has-private-view-gateway").removeClass("has-private-view-gateway"),$(".private-view-gateway").transition({top:"-500px"}),$(".private-view-gateway-outer").transition({opacity:0,complete:function(){return $(".private-view-gateway-outer").remove()}}),$(document).off("countdownBannerComplete")},$(".private-view-gateway-outer").height($(document).height()),$(".btn-follow-private-view").click((e=this,function(o){return o.preventDefault(),sedition.currentUser.id?($(".js-profile-header .js-follow").click(),t()):window.location=window.Routes.signup_path({sticky_intent:"unlock_private_view",sticky_intent_id:e.model.get("short_name")})})),$(document).on("countdownBannerComplete",t),$(".private-view-gateway-outer").height($(document).height())),$(document).on("countdownBannerComplete",function(){return $(".js-countdown-banner").hide()}),sedition.user.taste.trackArtworkGroup(this.model.get("id"))},i}(sedition.BackboneView)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.ArtworkWithChildrenDetailView=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.className="artwork-detail",o.prototype.prerendered=function(){var t,e,o;if(sedition.user.taste.trackArtwork(this.model.get("id")),t=this.model.get("children"),this.$(".js-child-artworks .js-artwork-component[data-model-id]").each(function(){var e,o;return e=$(this),o=t.findWhere({id:e.data("model-id")}),new sedition.Views.ArtworksShow({model:o}).renderedAt(e)}),$(".btn-follow-private-view").length)return e=function(){return $(".has-private-view-gateway").removeClass("has-private-view-gateway"),$(".private-view-gateway").transition({top:"-500px"}),$(".private-view-gateway-outer").transition({opacity:0,complete:function(){return $(".private-view-gateway-outer").remove()}}),$(document).off("countdownBannerComplete")},$(".private-view-gateway-outer").height($(document).height()),$(".btn-follow-private-view").on("click",(o=this,function(t){return t.preventDefault(),sedition.currentUser.id?($(".js-profile-header .js-follow").click(),e()):window.location=window.Routes.signup_path({sticky_intent:"unlock_private_view",sticky_intent_id:o.model.get("short_name")})})),$(document).on("countdownBannerComplete",e)},o}(sedition.BackboneView)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.ArtworkGiftPopup=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.initialize=function(t){return null==t&&(t={}),this.options=t,this.options.url=this.model.cartUrl(),o.__super__.initialize.apply(this,arguments)},o.prototype.buy=function(){return o.__super__.buy.call(this,{quantity:1})},o}(sedition.Views.GiftPopup)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.ArtworkPromoSlate=function(o){function i(){return this.previous=t(this.previous,this),this.next=t(this.next,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.DEFAULT_SELECTOR=".artwork-promo-slate",i.prototype.className="artwork-promo-slate",i.prototype.events={"click .horizontal-navigation__next":"next","click .horizontal-navigation__previous":"previous"},i.prototype.next=function(){var t,e;return 0===(e=(t=this.$slides.filter(".active")).next()).length&&(e=this.$slides.first()),this.transition(t,e),!1},i.prototype.previous=function(){var t,e;return 0===(e=(t=this.$slides.filter(".active")).prev()).length&&(e=this.$slides.last()),this.transition(t,e),!1},i.prototype.transition=function(t,e){return t.transition({opacity:0},300,"ease-in",function(){return t.removeClass("active"),e.css("opacity",0).addClass("active"),e.transition({opacity:1},300,"ease-in")})},i.prototype.renderedAt=function(t){return this.setElement(t),this.enableKeyboardNavigation(),this.$slides=t.find(".slide")},i}(sedition.SlateView)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function o(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=_.throttle(function(){return document.dispatchEvent(new Event("globalTooltipsChange"))},1e3,{leading:!1}),sedition.Views.ArtworksShow=function(i){function r(){return this.onGiftArtworkClick=e(this.onGiftArtworkClick,this),this.onParentPlaceholderClick=e(this.onParentPlaceholderClick,this),this.onTradeIconClick=e(this.onTradeIconClick,this),r.__super__.constructor.apply(this,arguments)}return o(r,i),r.prototype.template=Handlebars.compile("<figure class='artwork artwork-component artwork-type-{{type}} col-12 col-lg-3 col-md-4 col-sm-6 js-artwork-component mb-gutter' data-model-children-count='{{children_count}}' data-model-id='{{id}}' data-model-version='{{version}}'> <a class='artwork-component__thumbnail js-artwork-component__thumbnail' href='{{url}}' style='background-color: {{dominant_color}}'> <img alt='{{title}}' class='artwork-component__thumbnail-image js-lazy-image' src='{{thumbnail}}'> <div class='js-artwork-wish'></div> </a> <div class='row artwork-component__content'> <figcaption class='col artwork-header artwork-header--sm'> <a class='artwork-header__title' href='{{url}}'> <cite> {{title}} </cite> </a> <h1 class='artwork-header__name'> <a href='{{artist_url}}'> {{artist_name}} </a> </h1> </figcaption> <div class='col-auto js-artwork-component__meta'> {{#if has_children}}<span class='icon-layers vat d-inline-block fs-16 js-tooltip' data-title=\"{{_ 'Multiple Iterations'}}\"></span> {{/if}} {{#if sold_out}}<span class='artwork-component__sold-out js-tooltip' data-title=\"{{_ 'Sold out'}}\"></span> {{/if}} {{#if price}}<a class='artwork-header__price' href='{{url}}'> {{price}} </a> {{/if}} {{#if available_for_purchase}}<a class='btn btn--border-dark icon-gift btn-gift-artwork js-btn-gift-artwork' href='#'> <span class='btn-gift-artwork__content'> {{_ 'Gift'}} </span> </a> {{/if}} </div> </div> </figure> "),r.prototype.className="artwork",r.prototype.events={"click .trade-placeholder":"navigateToTrading","click .js-btn-gift-artwork":"onGiftArtworkClick","click .trade-icon":"onTradeIconClick","click .parent-placeholder":"onParentPlaceholderClick"},r.prototype.giftPopupView=null,r.prototype.initialize=function(t){return this.options=t,this.model.on("change",this.render,this)},r.prototype.onTradeIconClick=function(){return document.location=Routes.trade_path()},r.prototype.onParentPlaceholderClick=function(){return document.location=this.model.get("url")},r.prototype.onGiftArtworkClick=function(t){return t&&t.preventDefault(),null==this.giftPopupView&&(this.giftPopupView=new sedition.Views.ArtworkSlateGiftPopup({model:this.model,appendTo:$("body")})),this.giftPopupView.show()},r.prototype.showGiftPopup=function(){return this.giftPopupView||this.renderGiftPopupView(),this.giftPopupView.show()},r.prototype.renderGiftPopupView=function(){return this.giftPopupView=new sedition.Views.ArtworkSlateGiftPopup({model:this.model,overlay:!0}),this.giftPopupView.appendTo("body")},r.prototype.hide=function(){return this.$el.hide(),this},r.prototype.renderChildWidgets=function(){return this.renderArtworkWish()},r.prototype.renderSoldOutIcon=function(){if(this.model.isSoldOut())return this.$(".thumbnail").append(this.soldOutIconDOM())},r.prototype.renderArtworkWish=function(){var t;return t=this.$(".js-artwork-wish"),this.wishView=new sedition.Views.ArtworkWish({artwork_id:this.model.get("id")}).setElement(t),this.wishView.renderAndReplace()},r.prototype.render=function(){var e;return(e=this.model.toJSON()).price=this.model.currentPrice(),e.has_children=this.model.get("children_count")>0,this.$el.html(this.renderWithoutRoot(e)),this.options.size&&this.$el.addClass("col-lg-"+this.options.size),this.options.no_artist&&this.$el.addClass("artwork-no-artist"),this.options.no_price&&this.$el.addClass("artwork-no-price"),this.options.enable_gifting&&this.$el.addClass("artwork-component--gift"),this.model.get("for_sale")||this.$el.addClass("not-for-sale"),this.model.get("sold_out")&&this.$el.addClass("sold-out"),sedition.lazyLoadImages(this.$el),this.renderChildWidgets(),t(),this},r.prototype.renderedAt=function(e){return this.setElement(e),this.renderChildWidgets(),t(),this},r.prototype.replaceAt=function(t){return this.setElement(t),this.render(),this.$el.data("model-id",this.model.get("id"))},r}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.ArtworksSlate=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=Handlebars.compile("<div class='js-artworks-slate slate' data-excluded-artwork='' data-filter-comparator='' data-filter-key='' data-filter-value='' data-items-per-page='5' data-order-key='' data-order='' data-slate-layout='6 6 4 4 4'> <h2 class='slate__title'> <a class='js-slate__title-contents' href='{{slate_link}}'> {{slate_title}} </a> <a class='slate__title-link link-border js-slate__title-link' href='{{slate_link}}'> {{slate_link_label}} </a> </h2> <div class='row nmb-1 js-slate__items'> {{artworks}} </div> </div> "),o.prototype.render=function(t){var e,o,i,r;return null==t&&(t=this.collection),i=this,o=this.$(".js-slate__items"),e=$(""),this.renderNavigation(),t.each((r=this,function(t,o){var n,s,a,l;return(s=i.options.artworkOptions||{}).model=t,l=new sedition.Views.ArtworksShow(s),n=$(l.render().$el),a=o>r.layout.length?Math.floor(o/r.layout.length):o,n.addClass("col-lg-"+r.layout[a]),e=e.add(n)})),o.transition({opacity:0},500,function(){return o.html(e).transition({opacity:1},500,function(){return i.rendering=!1,sedition.lazyLoadImages(o)})})},o.prototype.renderedAt=function(t){var e,o,i;return i=this,this.setElement(t),t.data("slate-layout")&&(this.layout=t.data("slate-layout").split(" ")),this.itemsPerPage=t.data("items-per-page")||this.itemsPerPage,t.find(".artwork").each(function(){var t,e;return t=$(this),(e=i.options.artworkOptions||{}).model=new sedition.Models.Artwork({id:t.data("model-id"),version:t.data("model-version"),children_count:t.data("model-children-count")}),new sedition.Views.ArtworksShow(e).renderedAt(t)}),this.collection&&!t.data("no-collection")&&(e={key:t.data("filter-key"),value:t.data("filter-value"),comparator:t.data("filter-comparator")},o={key:t.data("order-key"),value:t.data("order")},this.collection.itemsPerPage=this.itemsPerPage,o.key&&o.value&&this.collection.setOrder(o.key,o.value),_.isUndefined(e.key)||!e.key||_.isUndefined(e.value)||this.collection.setFilter(e.key,e.value,{comparator:e.comparator})),this.enableKeyboardNavigation(),this},o}(sedition.SlateView)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.ArtworkSlateGiftPopup=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.initialize=function(t){return this.options=t,this.options.overlay=!0,this.options.url=this.model.cartUrl(),o.__super__.initialize.apply(this,arguments)},o.prototype.buy=function(){return o.__super__.buy.call(this,{quantity:1})},o}(sedition.Views.GiftPopup)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.ArtworkWish=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=Handlebars.compile("<a class='card-action action-icon js-tooltip js-artwork-wish' href='#'> <div class='action-icon__glymph action-icon__glymph--alt icon-heart'></div> </a> "),o.prototype.events={click:"onClick"},o.prototype.states={active:"is-active",inactive:"is-inactive",error:"is-error",disabled:"is-disabled"},o.prototype.titles={active:__("Remove from wish list"),inactive:__("Add to wish list")},o.prototype.initialize=function(t){var e;if(this.options=t,this.options.artwork_id&&!this.model&&(this.model=new sedition.Models.ArtworkWish({artwork_id:this.options.artwork_id})),sedition.currentUser.id)return(e=sedition.currentUser.artworks.wishes[this.model.get("artwork_id")])&&this.model.set("id",e),this.model.on("change",this.modelChanged,this)},o.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.setInitialState()},o.prototype.renderAndReplace=function(){var t;return t=$(this.template(this.model.toJSON())),this.$el.replaceWith(t),this.setElement(t),this.setInitialState()},o.prototype.setInitialState=function(){var t;return t=this.states.inactive,this.model.get("id")&&(t=this.states.active),this.setState(t),this},o.prototype.setState=function(t){var e,o;return e=[this.states.active,this.states.inactive,this.states.error,this.states.disabled].join(" "),o="is-inactive"===t?this.titles.inactive:this.titles.active,this.$el.removeClass(e).addClass(t).attr("data-title",o),document.dispatchEvent(new Event("globalTooltipsChange"))},o.prototype.onClick=function(t){return t&&t.preventDefault(),sedition.currentUser.id?this.$el.hasClass(this.states.inactive)?this.wish():this.$el.hasClass(this.states.active)?this.unwish():void 0:window.location=window.Routes.signup_path({sticky_intent:"artwork_wish",sticky_intent_id:this.model.get("artwork_id")})},o.prototype.wish=function(){return this.model.save(),this.setState(this.states.active)},o.prototype.unwish=function(){return this.model.destroy(),this.model.set("id",null),this.setState(this.states.inactive)},o.prototype.modelChanged=function(){return this.model.isNew()?sedition.currentUser.artworks.wishes[this.model.get("artwork_id")]=this.model.get("id"):delete sedition.currentUser.artworks.wishes[this.model.get("artwork_id")]},o}(Backbone.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.GiftIdeasSlate=function(o){function i(){return this.onDataReady=t(this.onDataReady,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.prototype.page=0,i.prototype.layout=[6,6,4,4,4],i.prototype.events={"click .js-slate__title-link":"onNextPageClick"},i.prototype.initialize=function(t){return this.options=t,this.events=_.extend({},sedition.SlateView.prototype.events,this.events),this.on("ready",this.onReady,this),null==this.collection&&(this.collection=new sedition.Collections.GiftIdeas),null==this.artworksCollection&&(this.artworksCollection=new sedition.Collections.DiscoverArtworks),$.when(this.collection.fetch(),this.artworksCollection.fetch()).then(this.onDataReady)},i.prototype.onReady=function(){return this.$container=this.$(".js-slate__items"),this.$title=this.$(".js-slate__title-contents"),this.$link=this.$(".js-slate__title-link").hide()},i.prototype.onDataReady=function(){return this.$link.show(),this.renderNavigation()},i.prototype.onNextPageClick=function(t){return t.preventDefault(),this.collection.at(this.page+1)?this.rendering?void 0:this.next():window.location=window.Routes.artworks_path()},i.prototype.getTotalPages=function(){return this.collection.size()},i.prototype.renderedAt=function(t){return i.__super__.renderedAt.call(this,t),this.$(".artwork").each(function(){var t;return t=$(this),new sedition.Views.ArtworksShow({model:new sedition.Models.Artwork({id:t.data("model-id"),version:t.data("model-version")}),enable_gifting:!0}).renderedAt(t)})},i.prototype.renderPage=function(t){var e,o,i,r,n;return this.page=t,r=this,e=$(""),o=this.collection.at(t),i=this.collection.at(t+1),this.renderNavigation(),_.each(o.get("artwork_short_names"),(n=this,function(t,o){var i,r,s,a;if(r=n.artworksCollection.where({short_name:t})[0])return a=new sedition.Views.ArtworksShow({model:r,enable_gifting:!0}),i=$(a.render().$el),s=o>n.layout.length?Math.floor(o/n.layout.length):o,i.addClass("col-lg-"+n.layout[s]),e=e.add(i)})),this.fadeOut(function(t){return function(){var n;return t.$container.html(e),t.$title.html(o.get("title")),n=i?i.get("title"):"Browse all artworks",t.$link.html(n),t.fadeIn(function(){
return r.rendering=!1})}}(this))},i.prototype.fadeOut=function(t){return $.when(this.$container.add(this.$title).add(this.$link).transition({opacity:0},300)).then(t)},i.prototype.fadeIn=function(t){return this.$container.transition({opacity:1},400),this.$title.add(this.$link).delay(300).transition({opacity:1},500,t)},i}(sedition.SlateView)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.MagazineGrid=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}var i;return t(o,e),i="col-12 col-sm-6 col-md-4 cal-lg-3 mb-2",o.prototype.limit=24,o.prototype.initialize=function(t){if(this.options=t,this.collection.on("reset",this.render,this),this.options.limit)return this.limit=this.options.limit},o.prototype.renderMore=function(){var t,e;return t=this.$el.children(),this.collection.each((e=this,function(o,r){var n;return!(r>=e.limit)&&(0===t.filter('[data-model-id="'+o.get("id")+'"]').length?(n=new sedition.Views.Post({model:o}).render().$el.css("opacity",0).addClass(i).attr("data-model-id",o.id),e.$el.append(n),n.transition({opacity:1},300,"ease-in"),sedition.lazyLoadImages(n)):void 0)}))},o.prototype.render=function(){var t,e;return t=$(""),this.collection.each((e=this,function(o,r){var n;return!(r>=e.limit)&&(n=new sedition.Views.Post({model:o}).render().$el.addClass(i).attr("data-model-id",o.id),t=t.add(n))})),this.$el.delay(100).transition({opacity:0},300,"ease-in",function(e){return function(){return e.$el.html("").append(t).delay(100).transition({opacity:1},300,"ease-in")}}(this))},o.prototype.renderedAt=function(t){var e;return this.setElement(t),e=this,t.children().each(function(){return new sedition.Views.Post({model:e.collection.get($(this).data("model-id"))}).setElement($(this))})},o}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.MagazineIndex=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.renderedAt=function(t){var e,o,i,r;return this.setElement(t),e=(o=this.$(".js-posts-grid")).find(".js-posts-grid-items"),null==this.grid&&(this.grid=new sedition.Views.MagazineGrid({collection:this.collection})),this.grid.renderedAt(e,o),i=(r=this.$(".pagination-placeholder")).find(".posts-pagination"),null==this.pagination&&(this.pagination=new sedition.Views.Pagination({itemsView:this.grid,className:"posts-pagination"})),this.pagination.renderedAt(i,r),this},o}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.Post=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=Handlebars.compile("<article class='slate-item slate-item--image'> <a class='slate-item__wrapper slate__content-link lazy-image js-lazy-image' data-src='{{image_url}}' href='{{url}}'> <div class='slate-item__overlay'></div> <div class='slate-item__contents'> <h1 class='slate__item-title'> {{title}} </h1> <h2 class='slate__item-author key-value key-value--smallest'> {{_ 'By'}} <span class='key-value__value fw-500'> {{user_name}} </span> </h2> </div> </a> </article> "),o.prototype.tagName="div",o.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this},o.prototype.setElement=function(t){var e;return e=$(t),this.model&&e.data("model-id",this.model.get("id")),o.__super__.setElement.call(this,e)},o}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.Pagination=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=Handlebars.compile("<div class='auto-load pagination'> <div class='muted message mb-1'></div> <a class='btn btn--border-dark btn--wrappable hide js-btn-more-content' data-ga-category='Discover' href='#'> {{_ 'Load More'}} </a> <a class='btn btn--border-dark btn-load-more' href='#'> {{_ 'Load More'}} </a> <div class='page-number'> {{loaded}} / {{total}} {{_ 'Loaded'}} </div> </div> "),o.prototype.options={itemsPerPage:24},o.prototype.initialize=function(t){var e,o;if(this.options=t,this.itemsView=this.options.itemsView,this.options.itemsPerPage=this.itemsView.limit,o=this,""!==(e=sedition.getURLParameterByName("loaded"))&&this.render(e),this.initScrollStorage(),$(window).scroll(function(){return o.scrolling()}),localStorage.scrollPosition)return $(window).scrollTop(localStorage.getItem("scrollPosition")),localStorage.removeItem("scrollPosition")},o.prototype.initScrollStorage=function(){return $(window).on("unload",function(){var t;return t=$(window).scrollTop(),localStorage.setItem("scrollPosition",t)})},o.prototype.loaded=function(){var t,e;return e=this.itemsView.collection.size(),(t=this.itemsView.limit)>e&&(t=e),t},o.prototype.scrolling=function(){if($(window).scrollTop()>$(document).height()-$(window).height()-250)return this.render()},o.prototype.render=function(t){return t?this.itemsView.limit=parseInt(t):this.itemsView.limit+=this.options.itemsPerPage,this.$el.html(this.renderWithoutRoot({total:this.itemsView.collection.size(),loaded:this.loaded()})),this.rendered(),this.itemsView.renderMore?this.itemsView.renderMore():this.itemsView.render()},o.prototype.rendered=function(){var t,e,o,i;if(o=this,i=this.itemsView.collection.size(),e=this.loaded(),t=this.$(".js-btn-more-content"),window.location.search!=="?loaded="+e&&history.replaceState(null,"","?loaded="+e),e===i)return t.click(function(t){return t&&t.preventDefault(),$("html, body").animate({scrollTop:0},"slow"),o.$el.fadeOut("fast"),$.when($.timeout(1e3)).then(function(){return o.$el.fadeIn("fast")}),o.options.itemsType.toggleArtistType()}),"artworks"===this.itemsView.collection.syncCacheKey?this.itemsView.collection.filters.ranked?(t.off("click").click(function(t){return t&&t.preventDefault(),$("html,body").animate({scrollTop:0},"slow"),o.itemsView.collection.urlParamsToOrder("popular","desc")}),this.$(".message").html(__("Showing all %d featured artworks").replace("%d",i)).show(),t.html(__("View popular artworks"))):this.itemsView.collection.filters.type?(t.off("click").click(function(t){var e;return t&&t.preventDefault(),$("html,body").animate({scrollTop:0},"slow"),e="asc","image"===o.itemsView.collection.filters.type&&(e="desc"),o.itemsView.collection.urlParamsToOrder("type",e)}),"image"===this.itemsView.collection.filters.type?(this.$(".message").html(__("Showing all %d still artworks").replace("%d",i)).show(),t.html("View video artworks")):(this.$(".message").html(__("Showing all %d video artworks").replace("%d",i)).show(),t.html("View still artworks"))):this.itemsView.collection.filters.vip?(this.$(".message").html(__("Showing all %d artworks by curated artists").replace("%d",i)).show(),t.html(__("View artworks by open platform artists"))):(this.$(".message").html(__("Showing all %d artworks by open platform artists").replace("%d",i)).show(),t.html(__("View artworks by curated artists"))):this.itemsView.collection.filters.vip?(this.$(".message").html(__("Showing all %d curated artists").replace("%d",i)).show(),t.html(__("View open platform artists"))):(this.$(".message").html(__("Showing all %d open platform artists").replace("%d",i)).show(),t.html(__("View curated artists"))),t.removeClass("hide")},o.prototype.renderedAt=function(t,e){return t.length?(this.setElement(t),this.rendered()):(t=$('<div class="pagination" />').addClass(this.className),e.html("").append(t),this.setElement(t),this.render())},o}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.StreamVouchersSlate=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.DEFAULT_SELECTOR=".js-stream-vouchers-slate",o.prototype.renderedAt=function(t){return this.setElement(t),sedition.Views.StreamVoucher.use(this.$el)},o}(sedition.SlateView)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.StreamVoucher=function(o){function i(){return this.onClick=t(this.onClick,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.DEFAULT_SELECTOR=".js-stream-voucher",i.prototype.events={click:"onClick"},i.prototype.onClick=function(t){return t&&t.preventDefault(),null==this.model&&(this.model=new sedition.Models.StreamVoucher({id:this.$el.data("model-id")})),null==this.giftPopupView&&(this.giftPopupView=new sedition.Views.StreamVoucherGiftPopup({overlay:!0,model:this.model,appendTo:$("body"),url:this.model.cartUrl()})),this.giftPopupView.show()},i}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.StreamVoucherGiftPopup=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.options={overlay:!0,url:"cart/cart_items"},o.prototype.buy=function(){var t;return t={stream_voucher_id:this.model.get("id")},o.__super__.buy.call(this,t)},o}(sedition.Views.GiftPopup)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.User=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=Handlebars.compile("<figure class='user-component col-6 col-sm-4 col-lg-3 mb-2 js-user-component' data-model-artist-id='{{artist_id}}' data-model-id='{{id}}' data-type='{{type}}'> <a class='user-component__avatar js-user-component__avatar' href='{{url}}'> <img alt='{{name}}' class='avatar lazy-image js-lazy-image' src='{{avatar_url}}'> <dl class='user-stats'> <div class='user-stats__column user-stats__stat--artworks'> <div class='user-stats__stat'> <dt> {{_ 'Artworks'}} </dt> <dd> {{artwork_count}} </dd> </div> </div> <div class='user-stats__column user-stats__stat--collectors'> <div class='user-stats__stat'> <dt> {{_ 'Collectors'}} </dt> <dd> {{collectors}} </dd> </div> </div> <div class='user-stats__column user-stats__stat--follows'> <div class='user-stats__stat'> <dt> {{_ 'Following'}} </dt> <dd> {{following}} </dd> </div> </div> <div class='user-stats__column user-stats__stat--followers'> <div class='user-stats__stat js-user-stats__stat--followers'> <dt> {{_ 'Followers'}} </dt> <dd> {{followers}} </dd> </div> </div> <div class='user-stats__column user-stats__stat--collected'> <div class='user-stats__stat'> <dt> {{_ 'Collected'}} </dt> <dd> {{collected}} </dd> </div> </div> </dl> </a> <figcaption class='user-component__name'> <a class='artist-name' href='{{url}}'> {{screen_name}} </a> </figcaption> </figure> "),o.prototype.tagName="figure",o.prototype.className="user-component",o.prototype.initialize=function(t){return this.options=t,this.model&&this.model.on("change",this.onModelChange,this),o.__super__.initialize.call(this)},o.prototype.onModelChange=function(){return this.$(".js-user-stats__stat--followers dd").html(this.model.get("followers"))},o.prototype.renderFollowWidget=function(){if(sedition.currentUser.id&&this.model.id.toString()!==sedition.currentUser.id.toString())return this.followView=new sedition.Views.UserFollow({userModel:this.model,appendTo:this.$el.find(".js-user-component__avatar")})},o.prototype.prerendered=function(){return this.renderFollowWidget(),this},o.prototype.render=function(){var t;return t=this.template(this.model.toJSON()),this.$el.replaceWith(t),this.setElement(t),this.renderFollowWidget(),sedition.lazyLoadImages(this.$el),this},o}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.UserArtworksPagination=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=Handlebars.compile("<div class='auto-load pagination'> <div class='muted message mb-1'></div> <a class='btn btn--border-dark btn--wrappable hide js-btn-more-content' data-ga-category='Discover' href='#'> {{_ 'Load More'}} </a> <a class='btn btn--border-dark btn-load-more' href='#'> {{_ 'Load More'}} </a> <div class='page-number'> {{loaded}} / {{total}} {{_ 'Loaded'}} </div> </div> "),o.prototype.options={itemsPerPage:24},o.prototype.initialize=function(t){var e,o;if(this.options=t,this.itemsView=this.options.itemsView,this.options.itemsPerPage=this.itemsView.limit,o=this,""!==(e=sedition.getURLParameterByName("loaded"))&&this.render(e),this.initScrollStorage(),$(window).scroll(function(){return o.scrolling()}),localStorage.scrollPosition)return $(window).scrollTop(localStorage.getItem("scrollPosition")),localStorage.removeItem("scrollPosition")},o.prototype.initScrollStorage=function(){return $(window).on("unload",function(){var t;return t=$(window).scrollTop(),localStorage.setItem("scrollPosition",t)})},o.prototype.scrolling=function(){if($(window).scrollTop()>$(document).height()-$(window).height()-250)return this.render()},o.prototype.loaded=function(){var t,e;return e=this.itemsView.collection.size(),(t=this.itemsView.limit)>e&&(t=e),t},o.prototype.render=function(t){return t?this.itemsView.limit=parseInt(t):this.itemsView.limit+=this.options.itemsPerPage,this.$el.html(this.renderWithoutRoot({total:this.itemsView.collection.size(),loaded:this.loaded()})),history.replaceState(null,"","?loaded="+this.loaded()),this.itemsView.renderMore?this.itemsView.renderMore():this.itemsView.render()},o.prototype.renderedAt=function(t,e){return t.length?this.setElement(t):(t=$('<div class="pagination" />').addClass(this.className),e.html("").append(t),this.setElement(t),this.render())},o}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.UserFollow=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.template=Handlebars.compile("<div class='action-icon__glymph icon-eye js-tooltip'></div> "),o.prototype.className="card-action action-icon",o.prototype.events={click:"onClick"},o.prototype.states={active:"is-active",inactive:"is-inactive",error:"is-error"},o.prototype.titles={active:__("Stop Following"),inactive:__("Follow")},o.prototype.initialize=function(t){return this.options=t,this.userModel=this.options.userModel,this.userId=this.userModel.get("id"),this.currentUser=sedition.currentUser,this.model=new sedition.Models.ArtistFollow({user_id:this.userId,id:this.currentUser.followed_users[this.userId]}),this.model.on("change",this.onModelChange,this),o.__super__.initialize.call(this)},o.prototype.onModelChange=function(){var t;return t=parseInt(this.userModel.get("followers"),10)+1,this.model.get("id")?this.currentUser.followed_users[this.userId]=this.model.get("id"):(delete this.currentUser.followed_users[this.userId],t-=2),this.userModel.set("followers",t),this.userModel.collection&&(this.userModel.collection.trigger("followerCountChanged",_.size(sedition.currentUser.followed_users)),this.userModel.collection.clearCache()),this.updateState()},o.prototype.render=function(){return this.$el.html(this.template(this.model.toJSON())),this.updateState()},o.prototype.updateState=function(){var t,e;return e=(t=!!this.model.get("id"))?this.titles.active:this.titles.inactive,this.$el.toggleClass(this.states.active,t).toggleClass(this.states.inactive,!t).attr("data-title",e),document.dispatchEvent(new Event("globalTooltipsChange"))},o.prototype.onClick=function(){return this.currentUser.id?this.$el.hasClass(this.states.inactive)?this.follow():this.unfollow():window.location=window.Routes.signup_path({sticky_intent:"follow_user",sticky_intent_id:this.model.get("user_id")}),!1},o.prototype.follow=function(){return this.model.save()},o.prototype.unfollow=function(){return this.model.destroy(),this.model.set("id",null)},o}(sedition.BackboneView)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.UserPagination=function(o){function i(){return this.onLoadMoreClick=t(this.onLoadMoreClick,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.prototype.template=Handlebars.compile("<div class='auto-load pagination'> <div class='muted message mb-1'></div> <a class='btn btn--border-dark btn--wrappable hide js-btn-more-content' data-ga-category='Discover' href='#'> {{_ 'Load More'}} </a> <a class='btn btn--border-dark btn-load-more' href='#'> {{_ 'Load More'}} </a> <div class='page-number'> {{loaded}} / {{total}} {{_ 'Loaded'}} </div> </div> ",{stripRoot:!0}),i.prototype.className="pagination",i.prototype.events={"click .btn-load-more":"onLoadMoreClick"},i.prototype.initialize=function(t){return this.options=t,this.parentView=this.options.parentView,this.itemsPerPage=this.parentView.limit,this.collection=this.parentView.collection},i.prototype.onLoadMoreClick=function(t){return t&&t.preventDefault(),$(t.currentTarget),this.parentView.limit+=this.itemsPerPage,this.parentView.render({append:!0}),this.render()},i.prototype.loaded=function(){var t,e;return e=this.collection.size(),(t=this.parentView.limit)>e&&(t=e),t},i.prototype.templateData=function(){return{total:this.collection.size(),loaded:this.loaded()}},i.prototype.ready=function(){var t;if(this,t=this.collection.size(),this.loaded()===t)return this.$(".btn-load-more").hide(),this.$(".page-number").hide(),this.$(".message").show()},i}(sedition.BackboneView)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.UsersGrid=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.className="row slate users-grid",o.prototype.limit=12,o.prototype.initialize=function(t){if(this.options=t,this.options.limit)return this.options.limit},o.prototype.render=function(t){var e,o,i;return t=_.extend({},{append:!1},t),e=$(""),o=this.$el.children(),this.collection.each((i=this,function(r,n){var s;return!(n>=i.limit)&&(t.append&&o.eq(n).data("model-id")===r.get("id")?void 0:(s=new sedition.Views.User({model:r}),e=e.add(s.render().$el)))})),t.append?(e.css("opacity",0),this.$el.append(e),e.delay(100).transition({opacity:1},300,"ease-in")):this.$el.delay(100).transition({opacity:0},300,"ease-in",function(t){return function(){return t.$el.html("").append(e).delay(100).transition({opacity:1},300,"ease-in")}}(this))},o.prototype.prerendered=function(){return this.$el.children().each((t=this,function(e,o){var i,r;return i=$(o),r=t.collection.get(i.data("model-id")),new sedition.Views.User({model:r,el:i[0]}).prerendered()}));var t},o}(sedition.BackboneView)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.VouchersSlate=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.DEFAULT_SELECTOR=".js-vouchers-slate",o.prototype.renderedAt=function(t){return this.setElement(t),sedition.Views.Voucher.use(this.$el)},o}(sedition.SlateView)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;sedition.Views.Voucher=function(o){function i(){return this.onClick=t(this.onClick,this),i.__super__.constructor.apply(this,arguments)}return e(i,o),i.DEFAULT_SELECTOR=".voucher",i.prototype.events={click:"onClick"},i.prototype.onClick=function(t){return t&&t.preventDefault(),null==this.model&&(this.model=new sedition.Models.Voucher({id:this.$el.data("model-id")})),null==this.giftPopupView&&(this.giftPopupView=new sedition.Views.VoucherGiftPopup({overlay:!0,model:this.model,appendTo:$("body"),url:this.model.cartUrl()})),this.giftPopupView.show()},i}(sedition.View)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Views.VoucherGiftPopup=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.options={overlay:!0,url:"cart/cart_items/add_voucher"},o.prototype.initialize=function(t){var e;return this.options=t,this.on("ready",(e=this,function(){return e.$el.addClass("voucher-gift-popup")})),o.__super__.initialize.apply(this,arguments)},o.prototype.buy=function(){var t;return t={"voucher[id]":this.model.get("id"),"voucher[subscription]":this.model.get("subscription")},o.__super__.buy.call(this,t)},o}(sedition.Views.GiftPopup)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.Artist=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.Artwork=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.initialize=function(){if(this.get("children"))return this.set("children",new sedition.Collections.DiscoverArtworks(this.get("children"),{sort:!1}))},o.prototype.url=function(){return"/"+this.get("artist_short_name")+"/"+this.get("short_name")},o.prototype.cartUrl=function(){return window.Routes.cart_cart_items_path()+"?artwork_id="+this.get("id")+"&version="+this.get("version")},o.prototype.currentPrice=function(){return this.get("current_prices")[sedition.currentUser.currency]},o.prototype.current_price=function(){return this.current_prices[sedition.currentUser.current_currency]},o.prototype.hasChildren=function(){return this.get("children_count")>0},o.prototype.isSoldOut=function(){return this.get("remaining_editions")<=0&&!this.hasChildren()},o.prototype.isVideo=function(){return"video"===this.get("type")},o.prototype.isImage=function(){return"image"===this.get("type")},o.prototype.parse=function(t){return t.current_price=this.current_price,t},o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.ArtworkGroup=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.url=function(){return"/"+this.get("artist_short_name")+"/collection/"+this.get("short_name")+"?locale="+locale},o.prototype.cartUrl=function(){return window.Routes.cart_cart_items_path()+"?artwork_group_id="+this.get("id")},o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.Collection=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.current_price=function(){return this.current_prices[sedition.currentUser.current_currency]},o.prototype.current_discounted_price=function(){return this.current_discounted_prices[sedition.currentUser.current_currency]},o.prototype.parse=function(t){return t.current_price=this.current_price,t.current_discounted_price=this.current_discounted_price,t},o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.ArtistFollow=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.urlRoot="/followings",o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.GiftIdea=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.Post=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.StreamVoucher=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.cartUrl=function(){return window.Routes.cart_cart_items_path()},o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.User=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.Voucher=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.cartUrl=function(){return window.Routes.cart_cart_items_path()+"?voucher_id="+this.get("id")},o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Models.ArtworkWish=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.urlRoot="/discover/wishes",o}(Backbone.Model)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Collections.Artists=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.url=function(){return"/discover/artists?locale="+locale},o.prototype.model=sedition.Models.Artist,o.prototype.filters={},o.prototype.orderKey="date",o.prototype.order="desc",o.prototype.syncCacheKey="artists",o.prototype.urlParamsToOrder=function(t,e,o){return null==o&&(o={}),"featured"===t?this.addFilter("ranked",!0,{silent:!0}):this.removeFilter("ranked",{silent:!0}),this.setOrder(t,e,o)},o.prototype.urlParamsToFilter=function(t,e,o){return null==o&&(o={}),"curated"===t||"open_platform"===t?this.addFilter("vip","curated"===t,o):this.addFilter(t,e,o)},o}(sedition.Collection)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Collections.DiscoverArtworks=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.url=function(){return"/discover/artworks?locale="+locale},o.prototype.model=sedition.Models.Artwork,o.prototype.filters={},o.prototype.orderKey="date",o.prototype.order="desc",o.prototype.syncCacheKey="artworks",o.prototype.urlParamsToOrder=function(t,e,o){var i;return null==o&&(o={}),"featured"===t?this.addFilter("ranked",!0,{silent:!0}):this.removeFilter("ranked",{silent:!0}),"type"===t?(i="desc"===e?"video":"image",this.addFilter("type",i,{silent:!0})):this.removeFilter("type",{silent:!0}),this.setOrder(t,e,o)},o.prototype.urlParamsToFilter=function(t,e,o){return null==o&&(o={}),"curated"===t||"open_platform"===t?this.addFilter("vip","curated"===t,o):this.addFilter(t,e,o)},o}(sedition.Collection)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Collections.GiftIdeas=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.url="/gift/ideas",o.prototype.model=sedition.Models.GiftIdea,o}(Backbone.Collection)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Collections.Museums=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.url=function(){return"/discover/museums?locale="+locale},o.prototype.model=sedition.Models.User,o.prototype.filters={},o.prototype.orderKey="date",o.prototype.order="desc",o}(sedition.Collection)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Collections.Partners=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.url=function(){return"/discover/partners?locale="+locale},o.prototype.model=sedition.Models.User,o.prototype.filters={},o.prototype.orderKey="date",o.prototype.order="desc",o}(sedition.Collection)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Collections.Posts=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.url=function(){var t;return t=window.Routes.posts_path(),this.user&&(t="/"+this.user+"/posts"),t},o.prototype.model=sedition.Models.Post,o.prototype.initialize=function(t){return this.user=t,o.__super__.initialize.call(this)},o}(sedition.Collection)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Collections.Search=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.url=function(){return"/search?q="+this.query},o}(sedition.Collection)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Routers.Artworks=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.params={artistType:"curated",
orderKey:"popular",order:"desc"},o.prototype.initialize=function(){return this.route(/(.+?)\/(.+?)$/,"artworkDetail"),this.route(/(.+?)\/collection\/(.+)$/,"artworkGroupDetail"),this.route(/(.+?)\/collections$/,"artworkGroupIndex")},o.prototype.artworkDetail=function(){var t;return!!$("html").is(".artist-artwork-show")&&((t=new sedition.Models.Artwork(window.artworkDetailJSON)).hasChildren()?new sedition.Views.ArtworkWithChildrenDetailView({model:t,prerenderedIn:$(".js-artwork-detail-placeholder")}):new sedition.Views.ArtworkDetailView({model:t,prerenderedIn:$(".js-artwork-detail-placeholder")}))},o.prototype.artworkGroupDetail=function(t,e){var o;return(o=new sedition.Models.ArtworkGroup).set({artist_short_name:t,short_name:e}),o.fetch({cache:!0}),new sedition.Views.ArtworkGroupDetailView({model:o,prerenderedIn:$(".js-artwork-group-detail-placeholder")})},o.prototype.artworkGroupIndex=function(){return sedition.Views.ArtworkGroupsSlate.use()},o}(Backbone.Router)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Routers.Magazine=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.initialize=function(){return this.route("magazine","index"),this.route(/(.+?)\/posts$/,"index")},o.prototype.index=function(t){return this.collection=new sedition.Collections.Posts(t),this.collection.fetch({reset:!0,sort:!1,success:_.bind(this.renderIndex,this)})},o.prototype.renderIndex=function(){return new sedition.Views.MagazineIndex({collection:this.collection}).renderedAt($(".js-magazine-index"))},o}(Backbone.Router)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Routers.Pages=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.routes={gift:"gift","_=_":"_fbFix"},o.prototype.gift=function(){var t;return(t=$(".js-gift-slate")).length>0&&(new sedition.Views.GiftIdeasSlate).renderedAt(t),sedition.Views.VouchersSlate.use(),sedition.Views.StreamVouchersSlate.use(),sedition.Views.ArtworkGroupsSlate.use()},o.prototype._fbFix=function(){return this.navigate("/",{trigger:!0})},o}(Backbone.Router)}.call(this),function(){var t=function(t,o){function i(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t},e={}.hasOwnProperty;sedition.Routers.User=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.routes={":user(/)":"userShow","users/:user(/)":"userShow"},o.prototype.userShow=function(){return sedition.Views.ArtistExhibitionsSlate.use()},o}(Backbone.Router)}.call(this),function(){sedition.artworksRouter=new sedition.Routers.Artworks,new sedition.Routers.User,new sedition.Routers.Pages,new sedition.Routers.Magazine,$(".users-slate").each(function(){var t;return t=$(this).hasClass("museums")?new sedition.Collections.Museums:$(this).hasClass("partners")?new sedition.Collections.Partners:new sedition.Collections.Artists,new sedition.Views.ArtistsSlate({collection:t}).renderedAt($(this)),t.fetch({reset:!0})}),$(".js-artworks-slate:not(.js-gift-slate)").each(function(){var t,e,o;if(t=$(this),o={},t.data("no-collection")||(o.collection=new sedition.Collections.DiscoverArtworks),new sedition.Views.ArtworksSlate(o).renderedAt(t),o.collection)return t.data("ids")?(e=t.data("ids").toString().split(","),o.collection.fetch().done(function(){return o.collection.filterWithIds(e),o.collection.setOrder("id","asc"),o.collection.trigger("reset")})):o.collection.fetch({cache:!0,reset:!0})}),sedition.Views.ArtworkPromoSlate.use()}.call(this);